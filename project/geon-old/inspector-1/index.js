/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app/app.ts":
/*!************************!*\
  !*** ./src/app/app.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"App\": () => /* binding */ App\n/* harmony export */ });\nclass App {\r\n    constructor(gl) {\r\n        // unique constructor    \r\n        this.gl = gl;\r\n    }\r\n    ui(ui) {\r\n        // setup for UI\r\n    }\r\n    start() {\r\n        // additional setup of state\r\n    }\r\n    update(state) {\r\n        // updating state\r\n    }\r\n    draw(gl) {\r\n        // drawing state\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2FwcC9hcHAudHM/NWRiNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBR08sTUFBTSxHQUFHO0lBSVosWUFBWSxFQUF5QjtRQUNqQyx5QkFBeUI7UUFDekIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELEVBQUUsQ0FBQyxFQUFNO1FBQ0wsZUFBZTtJQUNuQixDQUFDO0lBRUQsS0FBSztRQUNELDRCQUE0QjtJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWlCO1FBQ3BCLGlCQUFpQjtJQUNyQixDQUFDO0lBRUQsSUFBSSxDQUFDLEVBQXlCO1FBQzFCLGdCQUFnQjtJQUNwQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvYXBwL2FwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi4vc3lzdGVtL2lucHV0LXN0YXRlXCJcclxuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi4vc3lzdGVtL3VpXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuXHJcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcclxuICAgICAgICAvLyB1bmlxdWUgY29uc3RydWN0b3IgICAgXHJcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xyXG4gICAgfVxyXG5cclxuICAgIHVpKHVpOiBVSSkge1xyXG4gICAgICAgIC8vIHNldHVwIGZvciBVSVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIC8vIGFkZGl0aW9uYWwgc2V0dXAgb2Ygc3RhdGVcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcclxuICAgICAgICAvLyB1cGRhdGluZyBzdGF0ZVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xyXG4gICAgICAgIC8vIGRyYXdpbmcgc3RhdGVcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/app/app.ts\n");

/***/ }),

/***/ "./src/app/shapes-app.ts":
/*!*******************************!*\
  !*** ./src/app/shapes-app.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ShapesApp\": () => /* binding */ ShapesApp\n/* harmony export */ });\n/* harmony import */ var _mesh_pure_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/pure-mesh */ \"./src/mesh/pure-mesh.ts\");\n/* harmony import */ var _math_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/domain */ \"./src/math/domain.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _render_camera__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../render/camera */ \"./src/render/camera.ts\");\n/* harmony import */ var _render_dot_renderer3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../render/dot-renderer3 */ \"./src/render/dot-renderer3.ts\");\n/* harmony import */ var _render_line_renderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../render/line-renderer */ \"./src/render/line-renderer.ts\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app */ \"./src/app/app.ts\");\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _geo_cube__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../geo/cube */ \"./src/geo/cube.ts\");\n/* harmony import */ var _render_mesh_renderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../render/mesh-renderer */ \"./src/render/mesh-renderer.ts\");\n/* harmony import */ var _system_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../system/ui */ \"./src/system/ui.ts\");\n// name:    shapes-app.ts\r\n// author:  Jos Feenstra\r\n// purpose: test creation of basic mesh shapes. Test UI\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ShapesApp extends _app__WEBPACK_IMPORTED_MODULE_6__.App {\r\n    constructor(gl, canvas) {\r\n        // setup render env\r\n        super(gl);\r\n        // geo data\r\n        this.plane = _geo_plane__WEBPACK_IMPORTED_MODULE_8__.Plane.WorldXY();\r\n        this.geo = [];\r\n        // logic data \r\n        this.distance = new _system_ui__WEBPACK_IMPORTED_MODULE_11__.SliderParameter(\"distance\", 3.0, 0, 4.0, 0.01);\r\n        this.size = 10;\r\n        this.cellSize = 0.5;\r\n        this.radius = new _system_ui__WEBPACK_IMPORTED_MODULE_11__.SliderParameter(\"radius\", 1.0, 0, 4.0, 0.01);\r\n        this.detail = new _system_ui__WEBPACK_IMPORTED_MODULE_11__.SliderParameter(\"detail\", 5, 0, 100, 1);\r\n        // TODO abstract this to scene\r\n        this.camera = new _render_camera__WEBPACK_IMPORTED_MODULE_3__.Camera(canvas);\r\n        this.camera.z_offset = -10;\r\n        this.camera.angleAlpha = 0.4;\r\n        this.camera.angleBeta = 0.5;\r\n        this.dotRenderer = new _render_dot_renderer3__WEBPACK_IMPORTED_MODULE_4__.DotRenderer3(gl, 4, [0, 1, 0, 1]);\r\n        this.meshRenderer = new _render_mesh_renderer__WEBPACK_IMPORTED_MODULE_10__.MeshRenderer(gl, [0, 0, 1, 1], [0, 0, 0.5, 1]);\r\n        this.lineRenderer = new _render_line_renderer__WEBPACK_IMPORTED_MODULE_5__.LineRenderer(gl);\r\n    }\r\n    ui(ui) {\r\n        // TODO : think of a system that ties parameter & slider together fully\r\n        ui.addSlider(this.radius, (value) => {\r\n            this.start();\r\n        });\r\n        ui.addSlider(this.distance, (value) => {\r\n            this.start();\r\n        });\r\n        ui.addSlider(this.detail, (value) => {\r\n            this.start();\r\n        });\r\n    }\r\n    start() {\r\n        let grid = _mesh_line_array__WEBPACK_IMPORTED_MODULE_7__.LineArray.fromGrid(this.plane, this.size, this.cellSize);\r\n        let spherePerRing = this.detail.get() * 2;\r\n        let mesh = _mesh_pure_mesh__WEBPACK_IMPORTED_MODULE_0__.PureMesh.fromJoin([\r\n            _mesh_pure_mesh__WEBPACK_IMPORTED_MODULE_0__.PureMesh.fromSphere(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(this.distance.get(), 0, 0), this.radius.get(), this.detail.get(), spherePerRing),\r\n            _mesh_pure_mesh__WEBPACK_IMPORTED_MODULE_0__.PureMesh.fromCube(new _geo_cube__WEBPACK_IMPORTED_MODULE_9__.Cube(this.plane, _math_domain__WEBPACK_IMPORTED_MODULE_1__.Domain3.fromRadius(this.radius.get()))),\r\n            _mesh_pure_mesh__WEBPACK_IMPORTED_MODULE_0__.PureMesh.fromCone(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-this.distance.get(), 0, -this.radius.get()), this.radius.get(), this.radius.get() * 2, spherePerRing),\r\n        ]);\r\n        let dmesh = mesh.toDisplayMesh();\r\n        dmesh.calculateFaceNormals();\r\n        // let mesh = Mesh.fromCube(new Cube(this.plane, Domain3.fromRadius(1)));\r\n        // console.log(mesh.verts);\r\n        // console.log(mesh.links);\r\n        // TODO abstract this to scene \r\n        this.meshRenderer.set(this.gl, dmesh);\r\n        // this.lineRenderer.set(this.gl, grid);\r\n        // this.dotRenderer.set(mesh.verts, DrawSpeed.StaticDraw);\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n    }\r\n    draw(gl) {\r\n        // TODO abstract this to 'scene'\r\n        let matrix = this.camera.totalMatrix;\r\n        this.dotRenderer.render(gl, matrix);\r\n        this.meshRenderer.render(gl, matrix);\r\n        // this.lineRenderer.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2FwcC9zaGFwZXMtYXBwLnRzPzc2ZDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsdURBQXVEO0FBRVY7QUFHSjtBQUNTO0FBQ1I7QUFDYTtBQUNBO0FBRzNCO0FBR21CO0FBR1Y7QUFDRjtBQUNvQjtBQVFKO0FBRTVDLE1BQU0sU0FBVSxTQUFRLHFDQUFHO0lBb0I5QixZQUFZLEVBQXlCLEVBQUUsTUFBeUI7UUFFNUQsbUJBQW1CO1FBQ25CLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQWZkLFdBQVc7UUFDWCxVQUFLLEdBQVUscURBQWEsRUFBRSxDQUFDO1FBRS9CLFFBQUcsR0FBaUIsRUFBRSxDQUFDO1FBRXZCLGNBQWM7UUFDZCxhQUFRLEdBQUcsSUFBSSx3REFBZSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5RCxTQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ1YsYUFBUSxHQUFHLEdBQUcsQ0FBQztRQUNmLFdBQU0sR0FBRyxJQUFJLHdEQUFlLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFELFdBQU0sR0FBRyxJQUFJLHdEQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBT2pELDhCQUE4QjtRQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksa0RBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7UUFDN0IsSUFBSSxDQUFDLE1BQU0s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Q0FBQyxDQUFDO0lBRTlCLENBQUM7SUFHRCxJQUFJLENBQUMsRUFBeUI7UUFDMUIsZ0NBQWdDO1FBQ2hDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBRXJDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDckMsd0NBQXdDO0lBQzVDLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9hcHAvc2hhcGVzLWFwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIHNoYXBlcy1hcHAudHNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IHRlc3QgY3JlYXRpb24gb2YgYmFzaWMgbWVzaCBzaGFwZXMuIFRlc3QgVUlcclxuXHJcbmltcG9ydCB7IFB1cmVNZXNoIH0gZnJvbSBcIi4uL21lc2gvcHVyZS1tZXNoXCI7XHJcbmltcG9ydCB7IFJlbmRlck1lc2gsIG1lc2hGcm9tT2JqIH0gZnJvbSBcIi4uL21lc2gvcmVuZGVyLW1lc2hcIjtcclxuaW1wb3J0IHsgYWRkRHJvcEZpbGVFdmVudExpc3RlbmVycywgbG9hZFRleHRGcm9tRmlsZSB9IGZyb20gXCIuLi9zeXN0ZW0vZG9td3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgRG9tYWluMyB9IGZyb20gXCIuLi9tYXRoL2RvbWFpblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9yZW5kZXIvY2FtZXJhXCI7XHJcbmltcG9ydCB7IERvdFJlbmRlcmVyMyB9IGZyb20gXCIuLi9yZW5kZXIvZG90LXJlbmRlcmVyM1wiO1xyXG5pbXBvcnQgeyBMaW5lUmVuZGVyZXIgfSBmcm9tIFwiLi4vcmVuZGVyL2xpbmUtcmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgU2ltcGxlTWVzaFJlbmRlcmVyIH0gZnJvbSBcIi4uL3JlbmRlci9zaW1wbGUtbWVzaC1yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBJbnB1dFN0YXRlIH0gZnJvbSBcIi4uL3N5c3RlbS9pbnB1dC1zdGF0ZVwiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IHsgRHJhd1NwZWVkIH0gZnJvbSBcIi4uL3JlbmRlci9yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcclxuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xyXG5pbXBvcnQgeyBGbG9hdE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2Zsb2F0LW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBTdGF0IH0gZnJvbSBcIi4uL21hdGgvc3RhdGlzdGljc1wiO1xyXG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuLi9nZW8vcGxhbmVcIjtcclxuaW1wb3J0IHsgQ3ViZSB9IGZyb20gXCIuLi9nZW8vY3ViZVwiO1xyXG5pbXBvcnQgeyBNZXNoUmVuZGVyZXIgfSBmcm9tIFwiLi4vcmVuZGVyL21lc2gtcmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xyXG5pbXBvcnQgeyBDaXJjbGUzIH0gZnJvbSBcIi4uL2dlby9jaXJjbGUzXCI7XHJcbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgSW50Q3ViZSB9IGZyb20gXCIuLi9kYXRhL2ludC1jdWJlXCI7XHJcbmltcG9ydCB7IFJheSB9IGZyb20gXCIuLi9tYXRoL3JheVwiO1xyXG5pbXBvcnQgeyBQZXJsaW4gfSBmcm9tIFwiLi4vYWxnb3JpdGhtcy9wZXJsaW4tbm9pc2VcIjtcclxuaW1wb3J0IHsgQ29yZSB9IGZyb20gXCIuLi9jb3JlXCI7XHJcbmltcG9ydCB7IFNsaWRlclBhcmFtZXRlciwgVUkgfSBmcm9tIFwiLi4vc3lzdGVtL3VpXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hhcGVzQXBwIGV4dGVuZHMgQXBwIHtcclxuXHJcbiAgICAvLyByZW5kZXJpbmZvXHJcbiAgICBjYW1lcmE6IENhbWVyYTtcclxuICAgIGRvdFJlbmRlcmVyOiBEb3RSZW5kZXJlcjM7XHJcbiAgICBsaW5lUmVuZGVyZXI6IExpbmVSZW5kZXJlcjtcclxuICAgIG1lc2hSZW5kZXJlcjogTWVzaFJlbmRlcmVyO1xyXG5cclxuICAgIC8vIGdlbyBkYXRhXHJcbiAgICBwbGFuZTogUGxhbmUgPSBQbGFuZS5Xb3JsZFhZKCk7XHJcbiAgICBncmlkPzogTGluZUFycmF5O1xyXG4gICAgZ2VvOiBSZW5kZXJNZXNoW10gPSBbXTtcclxuXHJcbiAgICAvLyBsb2dpYyBkYXRhIFxyXG4gICAgZGlzdGFuY2UgPSBuZXcgU2xpZGVyUGFyYW1ldGVyKFwiZGlzdGFuY2VcIiwgMy4wLCAwLCA0LjAsIDAuMDEpO1xyXG4gICAgc2l6ZSA9IDEwO1xyXG4gICAgY2VsbFNpemUgPSAwLjU7XHJcbiAgICByYWRpdXMgPSBuZXcgU2xpZGVyUGFyYW1ldGVyKFwicmFkaXVzXCIsIDEuMCwgMCwgNC4wLCAwLjAxKTtcclxuICAgIGRldGFpbCA9IG5ldyBTbGlkZXJQYXJhbWV0ZXIoXCJkZXRhaWxcIiwgNSwgMCwgMTAwLCAxKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc2V0dXAgcmVuZGVyIGVudlxyXG4gICAgICAgIHN1cGVyKGdsKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETyBhYnN0cmFjdCB0aGlzIHRvIHNjZW5lXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuel9vZmZzZXQgPSAtMTA7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuYW5nbGVBbHBoYSA9IDAuNDtcclxuICAgICAgICB0aGlzLmNhbWVyYS5hbmdsZUJldGEgPSAwLjU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kb3RSZW5kZXJlciA9IG5ldyBEb3RSZW5kZXJlcjMoZ2wsIDQsIFswLDEsMCwxXSk7XHJcbiAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIgPSBuZXcgTWVzaFJlbmRlcmVyKGdsLCBbMCwwLDEsMV0sIFswLDAsMC41LDFdKTtcclxuICAgICAgICB0aGlzLmxpbmVSZW5kZXJlciA9IG5ldyBMaW5lUmVuZGVyZXIoZ2wpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1aSh1aTogVUkpIHtcclxuXHJcbiAgICAgICAgLy8gVE9ETyA6IHRoaW5rIG9mIGEgc3lzdGVtIHRoYXQgdGllcyBwYXJhbWV0ZXIgJiBzbGlkZXIgdG9nZXRoZXIgZnVsbHlcclxuICAgICAgICBcclxuICAgICAgICB1aS5hZGRTbGlkZXIodGhpcy5yYWRpdXMsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHVpLmFkZFNsaWRlcih0aGlzLmRpc3RhbmNlLCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1aS5hZGRTbGlkZXIodGhpcy5kZXRhaWwsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBncmlkID0gTGluZUFycmF5LmZyb21HcmlkKHRoaXMucGxhbmUsIHRoaXMuc2l6ZSwgdGhpcy5jZWxsU2l6ZSk7XHJcbiAgICAgICAgbGV0IHNwaGVyZVBlclJpbmcgPSB0aGlzLmRldGFpbC5nZXQoKSAqIDI7XHJcbiAgICAgICAgbGV0IG1lc2ggPSBQdXJlTWVzaC5mcm9tSm9pbihbXHJcbiAgICAgICAgICAgIFB1cmVNZXNoLmZyb21TcGhlcmUobmV3IFZlY3RvcjModGhpcy5kaXN0YW5jZS5nZXQoKSwwLDApLCB0aGlzLnJhZGl1cy5nZXQoKSwgdGhpcy5kZXRhaWwuZ2V0KCksIHNwaGVyZVBlclJpbmcpLFxyXG4gICAgICAgICAgICBQdXJlTWVzaC5mcm9tQ3ViZShuZXcgQ3ViZSh0aGlzLnBsYW5lLCBEb21haW4zLmZyb21SYWRpdXModGhpcy5yYWRpdXMuZ2V0KCkpKSksXHJcbiAgICAgICAgICAgIFB1cmVNZXNoLmZyb21Db25lKG5ldyBWZWN0b3IzKC10aGlzLmRpc3RhbmNlLmdldCgpLDAsLXRoaXMucmFkaXVzLmdldCgpKSwgdGhpcy5yYWRpdXMuZ2V0KCksIHRoaXMucmFkaXVzLmdldCgpICogMiwgc3BoZXJlUGVyUmluZyksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgbGV0IGRtZXNoID0gbWVzaC50b0Rpc3BsYXlNZXNoKCk7XHJcbiAgICAgICAgZG1lc2guY2FsY3VsYXRlRmFjZU5vcm1hbHMoKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IG1lc2ggPSBNZXNoLmZyb21DdWJlKG5ldyBDdWJlKHRoaXMucGxhbmUsIERvbWFpbjMuZnJvbVJhZGl1cygxKSkpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLnZlcnRzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLmxpbmtzKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETyBhYnN0cmFjdCB0aGlzIHRvIHNjZW5lIFxyXG4gICAgICAgIHRoaXMubWVzaFJlbmRlcmVyLnNldCh0aGlzLmdsLCBkbWVzaCk7XHJcbiAgICAgICAgLy8gdGhpcy5saW5lUmVuZGVyZXIuc2V0KHRoaXMuZ2wsIGdyaWQpO1xyXG4gICAgICAgIC8vIHRoaXMuZG90UmVuZGVyZXIuc2V0KG1lc2gudmVydHMsIERyYXdTcGVlZC5TdGF0aWNEcmF3KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKHN0YXRlOiBJbnB1dFN0YXRlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gbW92ZSB0aGUgY2FtZXJhIHdpdGggdGhlIG1vdXNlXHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKHN0YXRlKTsgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBkcmF3KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcclxuICAgICAgICAvLyBUT0RPIGFic3RyYWN0IHRoaXMgdG8gJ3NjZW5lJ1xyXG4gICAgICAgIGxldCBtYXRyaXggPSB0aGlzLmNhbWVyYS50b3RhbE1hdHJpeDtcclxuXHJcbiAgICAgICAgdGhpcy5kb3RSZW5kZXJlci5yZW5kZXIoZ2wsIG1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIucmVuZGVyKGdsLCBtYXRyaXgpO1xyXG4gICAgICAgIC8vIHRoaXMubGluZVJlbmRlcmVyLnJlbmRlcihnbCwgbWF0cml4KTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/app/shapes-app.ts\n");

/***/ }),

/***/ "./src/core.ts":
/*!*********************!*\
  !*** ./src/core.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Core\": () => /* binding */ Core\n/* harmony export */ });\n/* harmony import */ var _system_input_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./system/input-state */ \"./src/system/input-state.ts\");\n/* harmony import */ var _system_fpsCounter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./system/fpsCounter */ \"./src/system/fpsCounter.ts\");\n/* harmony import */ var _system_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./system/ui */ \"./src/system/ui.ts\");\n// Author: Jos Feenstra\r\n// Purpose: The Core app. This can hold multiple other apps with their own Update and Draw calls. \r\n// Use this to switch between Apps, or run multiple Apps.\r\n\r\n\r\n\r\nclass Core {\r\n    constructor(canvas, gl, uiFrame) {\r\n        this.STOP = false;\r\n        this.canvas = canvas;\r\n        this.gl = gl;\r\n        this.state = new _system_input_state__WEBPACK_IMPORTED_MODULE_0__.InputState(canvas);\r\n        this.fpsCounter = new _system_fpsCounter__WEBPACK_IMPORTED_MODULE_1__.FpsCounter();\r\n        this.ui = new _system_ui__WEBPACK_IMPORTED_MODULE_2__.UI(uiFrame);\r\n        this.apps = [];\r\n    }\r\n    // todo: cycle through apps\r\n    addApp(app) {\r\n        this.apps.push(app);\r\n        this.activateApp(app);\r\n    }\r\n    activateApp(app) {\r\n        this.ui.clear();\r\n        app.ui(this.ui);\r\n        app.start();\r\n    }\r\n    update() {\r\n        this.state.preUpdate();\r\n        this.fpsCounter.update(this.state);\r\n        if (this.state.IsKeyPressed(\"Esc\"))\r\n            this.STOP = true;\r\n        this.apps.forEach((app) => {\r\n            app.update(this.state);\r\n        });\r\n        this.state.postUpdate();\r\n    }\r\n    draw() {\r\n        const canvas = this.canvas;\r\n        const gl = this.gl;\r\n        // put fps in the titel\r\n        document.title = \"fps: \" + this.fpsCounter.getFps();\r\n        // pre-gl business\r\n        if (window.innerHeight != canvas.height ||\r\n            window.innerWidth != canvas.width) {\r\n            canvas.height = window.innerHeight;\r\n            // canvas.clientHeight = window.innerHeight;\r\n            canvas.style.height = window.innerHeight.toString();\r\n            canvas.width = window.innerWidth;\r\n            // canvas.clientWidth = window.innerWidth;\r\n            canvas.style.width = window.innerWidth.toString();\r\n            gl.viewport(0, 0, window.innerWidth, window.innerHeight);\r\n        }\r\n        // Renderer.resizeCanvas(this.gl);\r\n        this.gl.clearColor(0, 0, 0, 0);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n        // render all apps\r\n        // TODO : reverse order\r\n        this.apps.forEach((app) => {\r\n            app.draw(this.gl);\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2NvcmUudHM/Njk5ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsdUJBQXVCO0FBQ3ZCLGtHQUFrRztBQUNsRyx5REFBeUQ7QUFFUDtBQUVEO0FBQ2hCO0FBRTFCLE1BQU0sSUFBSTtJQVliLFlBQVksTUFBeUIsRUFBRSxFQUF5QixFQUFFLE9BQXVCO1FBRnpGLFNBQUksR0FBRyxLQUFLLENBQUM7UUFHVCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSwyREFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSwwREFBVSxFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLDBDQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUdELDJCQUEyQjtJQUMzQixNQUFNLENBQUMsR0FBUTtRQUVYLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUdELFdBQVcsQ0FBQyxHQUFRO1FBRWhCLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDaEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEIsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFHRCxNQUFNO1FBRUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0QixHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUdELElBQUk7UUFFQSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzNCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFO1FBRWxCLHVCQUF1QjtRQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRXBELGtCQUFrQjtRQUNsQixJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLE1BQU07WUFDbkMsTUFBTSxDQUFDLFVBQVUsSUFBSyxNQUFNLENBQUMsS0FBSyxFQUN0QztZQUNJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztZQUNuQyw0Q0FBNEM7WUFDNUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVwRCxNQUFNLENBQUMsS0FBSyxHQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUM7WUFDbEMsMENBQTBDO1lBQzFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFbEQsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUV4QyxrQkFBa0I7UUFDbEIsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDdEIsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdEIsQ0FBQyxDQUFDO0lBQ04sQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2NvcmUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBdXRob3I6IEpvcyBGZWVuc3RyYVxyXG4vLyBQdXJwb3NlOiBUaGUgQ29yZSBhcHAuIFRoaXMgY2FuIGhvbGQgbXVsdGlwbGUgb3RoZXIgYXBwcyB3aXRoIHRoZWlyIG93biBVcGRhdGUgYW5kIERyYXcgY2FsbHMuIFxyXG4vLyBVc2UgdGhpcyB0byBzd2l0Y2ggYmV0d2VlbiBBcHBzLCBvciBydW4gbXVsdGlwbGUgQXBwcy5cclxuXHJcbmltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi9zeXN0ZW0vaW5wdXQtc3RhdGVcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwL2FwcFwiO1xyXG5pbXBvcnQgeyBGcHNDb3VudGVyIH0gZnJvbSBcIi4vc3lzdGVtL2Zwc0NvdW50ZXJcIjtcclxuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi9zeXN0ZW0vdWlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb3JlIHtcclxuXHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcclxuICAgIHN0YXRlOiBJbnB1dFN0YXRlO1xyXG4gICAgdWk6IFVJO1xyXG4gICAgZnBzQ291bnRlcjogRnBzQ291bnRlcjtcclxuXHJcbiAgICBwcml2YXRlIGFwcHM6IEFwcFtdO1xyXG4gICAgXHJcbiAgICBTVE9QID0gZmFsc2U7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVpRnJhbWU6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgSW5wdXRTdGF0ZShjYW52YXMpO1xyXG4gICAgICAgIHRoaXMuZnBzQ291bnRlciA9IG5ldyBGcHNDb3VudGVyKCk7XHJcbiAgICAgICAgdGhpcy51aSA9IG5ldyBVSSh1aUZyYW1lKTtcclxuICAgICAgICB0aGlzLmFwcHMgPSBbXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gdG9kbzogY3ljbGUgdGhyb3VnaCBhcHBzXHJcbiAgICBhZGRBcHAoYXBwOiBBcHApIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFwcHMucHVzaChhcHApO1xyXG4gICAgICAgIHRoaXMuYWN0aXZhdGVBcHAoYXBwKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYWN0aXZhdGVBcHAoYXBwOiBBcHApIHtcclxuXHJcbiAgICAgICAgdGhpcy51aS5jbGVhcigpO1xyXG4gICAgICAgIGFwcC51aSh0aGlzLnVpKTtcclxuICAgICAgICBhcHAuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3RhdGUucHJlVXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5mcHNDb3VudGVyLnVwZGF0ZSh0aGlzLnN0YXRlKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5Jc0tleVByZXNzZWQoXCJFc2NcIikpXHJcbiAgICAgICAgICAgIHRoaXMuU1RPUCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hcHBzLmZvckVhY2goKGFwcCkgPT4ge1xyXG4gICAgICAgICAgICBhcHAudXBkYXRlKHRoaXMuc3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3RhdGUucG9zdFVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbFxyXG5cclxuICAgICAgICAvLyBwdXQgZnBzIGluIHRoZSB0aXRlbFxyXG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gXCJmcHM6IFwiICsgdGhpcy5mcHNDb3VudGVyLmdldEZwcygpO1xyXG5cclxuICAgICAgICAvLyBwcmUtZ2wgYnVzaW5lc3NcclxuICAgICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0ICE9IGNhbnZhcy5oZWlnaHQgfHwgXHJcbiAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoICAhPSBjYW52YXMud2lkdGgpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgLy8gY2FudmFzLmNsaWVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgY2FudmFzLndpZHRoICA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgICAgICAvLyBjYW52YXMuY2xpZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGgudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVuZGVyZXIucmVzaXplQ2FudmFzKHRoaXMuZ2wpO1xyXG4gICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gICAgICAgIC8vIHJlbmRlciBhbGwgYXBwc1xyXG4gICAgICAgIC8vIFRPRE8gOiByZXZlcnNlIG9yZGVyXHJcbiAgICAgICAgdGhpcy5hcHBzLmZvckVhY2goKGFwcCkgPT4ge1xyXG4gICAgICAgICAgICBhcHAuZHJhdyh0aGlzLmdsKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/core.ts\n");

/***/ }),

/***/ "./src/data/float-matrix.ts":
/*!**********************************!*\
  !*** ./src/data/float-matrix.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FloatMatrix\": () => /* binding */ FloatMatrix\n/* harmony export */ });\n// generic all-pupose matrix of floats\r\nclass FloatMatrix {\r\n    constructor(height, width, data = []) {\r\n        this._height = height;\r\n        this._width = width;\r\n        this.data = new Float32Array(this._width * this._height);\r\n        if (data == [] || data.length == 0)\r\n            this.fill(0);\r\n        else\r\n            this.setData(data);\r\n    }\r\n    clone() {\r\n        let clone = new FloatMatrix(this._height, this._width);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n    setData(data) {\r\n        if (data.length != (this._height * this._width))\r\n            throw \"data.length does not match width * height \" + data.length.toString();\r\n        this.data.set(data);\r\n    }\r\n    count() {\r\n        // number of entries / rows.\r\n        // when derrived classes ask for 'how many of x?' they usually mean this.\r\n        return this._height;\r\n    }\r\n    getDimensions() {\r\n        return [this._height, this._width];\r\n    }\r\n    fill(value) {\r\n        let size = this._height * this._width;\r\n        for (let i = 0; i < size; i++) {\r\n            this.data[i] = value;\r\n        }\r\n    }\r\n    fillWith(data, valuesPerEntry = this._width) {\r\n        // values per entry can be used to setData which is not of the same shape.\r\n        let vpe = valuesPerEntry;\r\n        if (vpe > this._width)\r\n            throw \"values per entry is larger than this._width. This will spill over.\";\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < vpe; j++) {\r\n                this.set(i, j, data[i * vpe + j]);\r\n            }\r\n        }\r\n    }\r\n    get(i, j) {\r\n        return this.data[i * this._width + j];\r\n    }\r\n    getRow(i) {\r\n        // if (i < 0 || i > this.height) throw \"column is out of bounds for FloatArray\"\r\n        let data = new Float32Array(this._width);\r\n        for (let j = 0; j < this._width; j++) {\r\n            data[j] = this.get(i, j);\r\n        }\r\n        return data;\r\n    }\r\n    getColumn(j) {\r\n        // if (j < 0 || j > this.width) throw \"column is out of bounds for FloatArray\"\r\n        let data = new Float32Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            let index = i * this._width + j;\r\n            data[i] = this.data[index];\r\n        }\r\n        return data;\r\n    }\r\n    set(i, j, value) {\r\n        this.data[i * this._width + j] = value;\r\n    }\r\n    setRow(rowIndex, row) {\r\n        // if (this.width != row.length) throw \"dimention of floatarray is not \" + row.length;\r\n        for (let j = 0; j < this._width; j++) {\r\n            this.set(rowIndex, j, row[j]);\r\n        }\r\n    }\r\n    forEachValue(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            this.data[i] = callbackfn(this.data[i], i);\r\n        }\r\n        return this;\r\n    }\r\n    takeRows(indices) {\r\n        // create a new floatarray\r\n        const count = indices.length;\r\n        let array = new FloatMatrix(count, this._width);\r\n        for (let i = 0; i < count; i++) {\r\n            let getIndex = indices[i];\r\n            array.setRow(i, this.getRow(getIndex));\r\n        }\r\n        return array;\r\n    }\r\n    // generalized multiplication\r\n    multiply(b) {\r\n        let a = this;\r\n        if (b._width !== a._height) {\r\n            throw new Error('Columns in A should be the same as the number of rows in B');\r\n        }\r\n        var product = new FloatMatrix(a._height, b._width);\r\n        for (var i = 0; i < product._height; i++) {\r\n            for (var j = 0; j < b._width; j++) {\r\n                for (var k = 0; k < a._width; k++) {\r\n                    product.set(i, j, product.get(i, j) + a.get(i, k) * b.get(k, j));\r\n                }\r\n            }\r\n        }\r\n        return product;\r\n    }\r\n    static fromNative(native) {\r\n        // assume all subarrays have the same shape!!\r\n        let height = native.length;\r\n        let width = native[0].length;\r\n        let matrix = new FloatMatrix(height, width);\r\n        for (var i = 0; i < native.length; i++) {\r\n            for (var j = 0; j < native[0].length; j++) {\r\n                matrix.set(i, j, native[i][j]);\r\n            }\r\n        }\r\n        return matrix;\r\n    }\r\n    toNative() {\r\n        let native = [];\r\n        for (var i = 0; i < this._height; i++) {\r\n            native[i] = [];\r\n            for (var j = 0; j < this._width; j++) {\r\n                native[i][j] = this.get(i, j);\r\n            }\r\n        }\r\n        return native;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2RhdGEvZmxvYXQtbWF0cml4LnRzPzY4MzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUVBLHNDQUFzQztBQUMvQixNQUFNLFdBQVc7SUFNcEIsWUFBWSxNQUFjLEVBQUUsS0FBYSxFQUFFLE9BQWlCLEVBQUU7UUFFMUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6RCxJQUFJLElBQUksSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDO1lBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBRWIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE9BQU8sQ0FBQyxJQUFjO1FBQ2xCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUMzQyxNQUFNLDRDQUE0QyxHQUFHLElB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Q3BDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN2QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEM7U0FDSjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxRQUFRO1FBQ0osSUFBSSxNQUFNLEdBQWUsRUFBRTtRQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ2YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNqQztTQUNKO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2RhdGEvZmxvYXQtbWF0cml4LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb3V0ZXJQcm9kdWN0IH0gZnJvbSBcIkB0ZW5zb3JmbG93L3RmanNcIjtcclxuXHJcbi8vIGdlbmVyaWMgYWxsLXB1cG9zZSBtYXRyaXggb2YgZmxvYXRzXHJcbmV4cG9ydCBjbGFzcyBGbG9hdE1hdHJpeCB7XHJcblxyXG4gICAgZGF0YTogRmxvYXQzMkFycmF5O1xyXG4gICAgX3dpZHRoOiBudW1iZXI7XHJcbiAgICBfaGVpZ2h0OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGRhdGE6IG51bWJlcltdID0gW10pIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3dpZHRoICogdGhpcy5faGVpZ2h0KTtcclxuICAgICAgICBpZiAoZGF0YSA9PSBbXSB8fCBkYXRhLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICB0aGlzLmZpbGwoMCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNsb25lKCkgOiBGbG9hdE1hdHJpeCB7XHJcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IEZsb2F0TWF0cml4KHRoaXMuX2hlaWdodCwgdGhpcy5fd2lkdGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjbG9uZS5kYXRhW2ldID0gdGhpcy5kYXRhW2ldXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZTsgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldERhdGEoZGF0YTogbnVtYmVyW10pIHtcclxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggIT0gKHRoaXMuX2hlaWdodCAqIHRoaXMuX3dpZHRoKSlcclxuICAgICAgICAgICAgdGhyb3cgXCJkYXRhLmxlbmd0aCBkb2VzIG5vdCBtYXRjaCB3aWR0aCAqIGhlaWdodCBcIiArIGRhdGEubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5kYXRhLnNldChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBjb3VudCgpIHtcclxuICAgICAgICAvLyBudW1iZXIgb2YgZW50cmllcyAvIHJvd3MuXHJcbiAgICAgICAgLy8gd2hlbiBkZXJyaXZlZCBjbGFzc2VzIGFzayBmb3IgJ2hvdyBtYW55IG9mIHg/JyB0aGV5IHVzdWFsbHkgbWVhbiB0aGlzLlxyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGltZW5zaW9ucygpIDogW251bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLl9oZWlnaHQsIHRoaXMuX3dpZHRoXTtcclxuICAgIH1cclxuXHJcbiAgICBmaWxsKHZhbHVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9oZWlnaHQgKiB0aGlzLl93aWR0aFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhW2ldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpbGxXaXRoKGRhdGE6IG51bWJlcltdLCB2YWx1ZXNQZXJFbnRyeTogbnVtYmVyPXRoaXMuX3dpZHRoKSB7XHJcblxyXG4gICAgICAgIC8vIHZhbHVlcyBwZXIgZW50cnkgY2FuIGJlIHVzZWQgdG8gc2V0RGF0YSB3aGljaCBpcyBub3Qgb2YgdGhlIHNhbWUgc2hhcGUuXHJcbiAgICAgICAgbGV0IHZwZSA9IHZhbHVlc1BlckVudHJ5O1xyXG4gICAgICAgIGlmICh2cGUgPiB0aGlzLl93aWR0aCkgdGhyb3cgXCJ2YWx1ZXMgcGVyIGVudHJ5IGlzIGxhcmdlciB0aGFuIHRoaXMuX3dpZHRoLiBUaGlzIHdpbGwgc3BpbGwgb3Zlci5cIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKylcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdnBlOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGksIGosIGRhdGFbaSp2cGUgKyBqXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICBcclxuICAgIH1cclxuXHJcbiAgICBnZXQoaTogbnVtYmVyLCBqOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIGpdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um93KGk6IG51bWJlcikgOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgICAgIC8vIGlmIChpIDwgMCB8fCBpID4gdGhpcy5oZWlnaHQpIHRocm93IFwiY29sdW1uIGlzIG91dCBvZiBib3VuZHMgZm9yIEZsb2F0QXJyYXlcIlxyXG4gICAgICAgIGxldCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLl93aWR0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl93aWR0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGRhdGFbal0gPSB0aGlzLmdldChpLCBqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29sdW1uKGo6IG51bWJlcikgOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgICAgIC8vIGlmIChqIDwgMCB8fCBqID4gdGhpcy53aWR0aCkgdGhyb3cgXCJjb2x1bW4gaXMgb3V0IG9mIGJvdW5kcyBmb3IgRmxvYXRBcnJheVwiXHJcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2hlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBpICogdGhpcy5fd2lkdGggKyBqO1xyXG4gICAgICAgICAgICBkYXRhW2ldID0gdGhpcy5kYXRhW2luZGV4XTsgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChpOiBudW1iZXIsIGogOiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIGpdID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Um93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpIHtcclxuICAgICAgICAvLyBpZiAodGhpcy53aWR0aCAhPSByb3cubGVuZ3RoKSB0aHJvdyBcImRpbWVudGlvbiBvZiBmbG9hdGFycmF5IGlzIG5vdCBcIiArIHJvdy5sZW5ndGg7XHJcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMuX3dpZHRoOyBqKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQocm93SW5kZXgsIGosIHJvd1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvckVhY2hWYWx1ZShjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyKSA6IEZsb2F0TWF0cml4IHtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBjYWxsYmFja2ZuKHRoaXMuZGF0YVtpXSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHRha2VSb3dzKGluZGljZXM6IG51bWJlcltdKSA6IEZsb2F0TWF0cml4IHtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IGZsb2F0YXJyYXlcclxuICAgICAgICBjb25zdCBjb3VudCA9IGluZGljZXMubGVuZ3RoXHJcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IEZsb2F0TWF0cml4KGNvdW50LCB0aGlzLl93aWR0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZ2V0SW5kZXggPSBpbmRpY2VzW2ldO1xyXG4gICAgICAgICAgICBhcnJheS5zZXRSb3coaSwgdGhpcy5nZXRSb3coZ2V0SW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdlbmVyYWxpemVkIG11bHRpcGxpY2F0aW9uXHJcbiAgICBtdWx0aXBseShiOiBGbG9hdE1hdHJpeCkgOiBGbG9hdE1hdHJpeCB7XHJcblxyXG4gICAgICAgIGxldCBhID0gdGhpcztcclxuICAgICAgICBpZiAoYi5fd2lkdGggIT09IGEuX2hlaWdodCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbHVtbnMgaW4gQSBzaG91bGQgYmUgdGhlIHNhbWUgYXMgdGhlIG51bWJlciBvZiByb3dzIGluIEInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBuZXcgRmxvYXRNYXRyaXgoYS5faGVpZ2h0LCBiLl93aWR0aCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdC5faGVpZ2h0OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiLl93aWR0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGEuX3dpZHRoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0LnNldChpLCBqLCBwcm9kdWN0LmdldChpLCBqKSArIGEuZ2V0KGksIGspICogYi5nZXQoaywgaikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tTmF0aXZlKG5hdGl2ZTogbnVtYmVyW11bXSkgOiBGbG9hdE1hdHJpeCB7XHJcbiAgICAgICAgLy8gYXNzdW1lIGFsbCBzdWJhcnJheXMgaGF2ZSB0aGUgc2FtZSBzaGFwZSEhXHJcbiAgICAgICAgbGV0IGhlaWdodCA9IG5hdGl2ZS5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gbmF0aXZlWzBdLmxlbmd0aDtcclxuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IEZsb2F0TWF0cml4KGhlaWdodCwgd2lkdGgpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF0aXZlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmF0aXZlWzBdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXguc2V0KGksIGosIG5hdGl2ZVtpXVtqXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDsgXHJcbiAgICB9XHJcblxyXG4gICAgdG9OYXRpdmUoKSA6IG51bWJlcltdW10ge1xyXG4gICAgICAgIGxldCBuYXRpdmU6IG51bWJlcltdW10gPSBbXVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faGVpZ2h0OyBpKyspIHtcclxuICAgICAgICAgICAgbmF0aXZlW2ldID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fd2lkdGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgbmF0aXZlW2ldW2pdID0gdGhpcy5nZXQoaSwgaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5hdGl2ZTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/float-matrix.ts\n");

/***/ }),

/***/ "./src/data/int-matrix.ts":
/*!********************************!*\
  !*** ./src/data/int-matrix.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IntMatrix\": () => /* binding */ IntMatrix\n/* harmony export */ });\n// generic all-pupose matrix of ints\r\nclass IntMatrix {\r\n    constructor(height, width, data = []) {\r\n        this._height = height;\r\n        this._width = width;\r\n        this.data = new Int32Array(this._width * this._height);\r\n        if (data == [] || data.length == 0)\r\n            this.fill(0);\r\n        else\r\n            this.setData(data);\r\n    }\r\n    static fromList(list, width) {\r\n        let height = list.length / width;\r\n        let array = new IntMatrix(height, width);\r\n        for (let i = 0; i < list.length; i++) {\r\n            array.data[i] = list[i];\r\n        }\r\n        return array;\r\n    }\r\n    clone() {\r\n        let clone = new IntMatrix(this._height, this._width);\r\n        clone.data = this.data;\r\n        return clone;\r\n    }\r\n    setData(data) {\r\n        if (data.length != (this._height * this._width))\r\n            throw \"data.length does not match width * height \" + data.length.toString();\r\n        this.data.set(data);\r\n    }\r\n    count() {\r\n        // number of entries / rows.\r\n        // when derrived classes ask for 'how many of x?' they usually mean this.\r\n        return this._height;\r\n    }\r\n    getDimensions() {\r\n        return [this._height, this._width];\r\n    }\r\n    inRange(i, j) {\r\n        return !(i < 0 || i > this._height - 1 || j < 0 || j > this._width - 1);\r\n    }\r\n    fill(value) {\r\n        let size = this._height * this._width;\r\n        for (let i = 0; i < size; i++) {\r\n            this.data[i] = value;\r\n        }\r\n    }\r\n    fillWith(data, valuesPerEntry = this._width) {\r\n        // values per entry can be used to setData which is not of the same shape.\r\n        let vpe = valuesPerEntry;\r\n        if (vpe > this._width)\r\n            throw \"values per entry is larger than this._width. This will spill over.\";\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < vpe; j++) {\r\n                this.set(i, j, data[i * vpe + j]);\r\n            }\r\n        }\r\n    }\r\n    get(i, j) {\r\n        if (!this.inRange(i, j)) {\r\n            console.warn(\"out of range!\");\r\n            return 0;\r\n        }\r\n        return this.data[i * this._width + j];\r\n    }\r\n    getRow(i) {\r\n        // if (i < 0 || i > this.height) throw \"column is out of bounds for Array\"\r\n        let data = new Int32Array(this._width);\r\n        for (let j = 0; j < this._width; j++) {\r\n            data[j] = this.get(i, j);\r\n        }\r\n        return data;\r\n    }\r\n    getColumn(j) {\r\n        // if (j < 0 || j > this.width) throw \"column is out of bounds for Array\"\r\n        let data = new Int32Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            let index = i * this._width + j;\r\n            data[i] = this.data[index];\r\n        }\r\n        return data;\r\n    }\r\n    set(i, j, value) {\r\n        if (!this.inRange(i, j)) {\r\n            console.warn(\"out of range!\");\r\n            return;\r\n        }\r\n        this.data[i * this._width + j] = value;\r\n    }\r\n    setRow(rowIndex, row) {\r\n        // if (this.width != row.length) throw \"dimention of floatarray is not \" + row.length;\r\n        for (let j = 0; j < this._width; j++) {\r\n            this.set(rowIndex, j, row[j]);\r\n        }\r\n    }\r\n    takeRows(indices) {\r\n        // create a new array from a couple of rows\r\n        console.log(this._height, this._width);\r\n        const count = indices.length;\r\n        let array = new IntMatrix(count, this._width);\r\n        for (let i = 0; i < count; i++) {\r\n            let getIndex = indices[i];\r\n            array.setRow(i, this.getRow(getIndex));\r\n        }\r\n        return array;\r\n    }\r\n    toUInt16Array() {\r\n        return new Uint16Array(this.data);\r\n    }\r\n    forEachValue(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            this.data[i] = callbackfn(this.data[i], i);\r\n        }\r\n        return this;\r\n    }\r\n    forEachRow(callbackfn) {\r\n        for (let i = 0; i < this._height; i++) {\r\n            let row = this.getRow(i);\r\n            callbackfn(row, i);\r\n            this.setRow(i, row);\r\n        }\r\n        return this;\r\n    }\r\n    trueForAll(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (!callbackfn(this.data[i], i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2RhdGEvaW50LW1hdHJpeC50cz8xZjQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxvQ0FBb0M7QUFDN0IsTUFBTSxTQUFTO0lBTWxCLFlBQVksTUFBYyxFQUFFLEtBQWEsRUFBRSxPQUFpQixFQUFFO1FBRTFELElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkQsSUFBSSxJQUFJLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQztZQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztZQUViLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUdELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBYyxFQUFFLEtBQWE7UUFFekMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDakMsSUFBSSxLQUFLLEdBQUcsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUdELEtBQUs7UUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxN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QUFHLENBQUMsQ0FBQztTQUN2QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFHRCxVQUFVLENBQUMsVUFBcUQ7UUFDNUQsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtnQkFDOUIsT0FBTyxLQUFLLENBQUM7YUFDaEI7U0FDSjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9kYXRhL2ludC1tYXRyaXgudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBnZW5lcmljIGFsbC1wdXBvc2UgbWF0cml4IG9mIGludHNcclxuZXhwb3J0IGNsYXNzIEludE1hdHJpeCB7XHJcblxyXG4gICAgZGF0YTogSW50MzJBcnJheTtcclxuICAgIF93aWR0aDogbnVtYmVyO1xyXG4gICAgX2hlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGhlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBkYXRhOiBudW1iZXJbXSA9IFtdKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IEludDMyQXJyYXkodGhpcy5fd2lkdGggKiB0aGlzLl9oZWlnaHQpO1xyXG4gICAgICAgIGlmIChkYXRhID09IFtdIHx8IGRhdGEubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHRoaXMuZmlsbCgwKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTsgICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tTGlzdChsaXN0OiBudW1iZXJbXSwgd2lkdGg6IG51bWJlcikgOiBJbnRNYXRyaXgge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBoZWlnaHQgPSBsaXN0Lmxlbmd0aCAvIHdpZHRoO1xyXG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBJbnRNYXRyaXgoaGVpZ2h0LCB3aWR0aCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5LmRhdGFbaV0gPSBsaXN0W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBJbnRNYXRyaXgodGhpcy5faGVpZ2h0LCB0aGlzLl93aWR0aCk7XHJcbiAgICAgICAgY2xvbmUuZGF0YSA9IHRoaXMuZGF0YTtcclxuICAgICAgICByZXR1cm4gY2xvbmU7ICBcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0RGF0YShkYXRhOiBudW1iZXJbXSkge1xyXG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCAhPSAodGhpcy5faGVpZ2h0ICogdGhpcy5fd2lkdGgpKVxyXG4gICAgICAgICAgICB0aHJvdyBcImRhdGEubGVuZ3RoIGRvZXMgbm90IG1hdGNoIHdpZHRoICogaGVpZ2h0IFwiICsgZGF0YS5sZW5ndGgudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmRhdGEuc2V0KGRhdGEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb3VudCgpIHtcclxuICAgICAgICAvLyBudW1iZXIgb2YgZW50cmllcyAvIHJvd3MuXHJcbiAgICAgICAgLy8gd2hlbiBkZXJyaXZlZCBjbGFzc2VzIGFzayBmb3IgJ2hvdyBtYW55IG9mIHg/JyB0aGV5IHVzdWFsbHkgbWVhbiB0aGlzLlxyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldERpbWVuc2lvbnMoKSA6IFtudW1iZXIsIG51bWJlcl0ge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5faGVpZ2h0LCB0aGlzLl93aWR0aF07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluUmFuZ2UoaTogbnVtYmVyLCBqOiBudW1iZXIpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEoaSA8IDAgfHwgaSA+IHRoaXMuX2hlaWdodCAtMSB8fCBqIDwgMCB8fCBqID4gdGhpcy5fd2lkdGggLSAxKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmaWxsKHZhbHVlOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9oZWlnaHQgKiB0aGlzLl93aWR0aFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhW2ldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZmlsbFdpdGgoZGF0YTogbnVtYmVyW10sIHZhbHVlc1BlckVudHJ5OiBudW1iZXI9dGhpcy5fd2lkdGgpIHtcclxuXHJcbiAgICAgICAgLy8gdmFsdWVzIHBlciBlbnRyeSBjYW4gYmUgdXNlZCB0byBzZXREYXRhIHdoaWNoIGlzIG5vdCBvZiB0aGUgc2FtZSBzaGFwZS5cclxuICAgICAgICBsZXQgdnBlID0gdmFsdWVzUGVyRW50cnk7XHJcbiAgICAgICAgaWYgKHZwZSA+IHRoaXMuX3dpZHRoKSB0aHJvdyBcInZhbHVlcyBwZXIgZW50cnkgaXMgbGFyZ2VyIHRoYW4gdGhpcy5fd2lkdGguIFRoaXMgd2lsbCBzcGlsbCBvdmVyLlwiO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuX2hlaWdodDsgaSsrKVxyXG4gICAgICAgIHsgICBcclxuICAgICAgICAgICAgZm9yKGxldCBqID0gMCA7IGogPCB2cGU7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoaSwgaiwgZGF0YVtpKnZwZSArIGpdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gIFxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZ2V0KGk6IG51bWJlciwgajogbnVtYmVyKSA6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmluUmFuZ2UoaSAsIGopKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIm91dCBvZiByYW5nZSFcIilcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgal1cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGdldFJvdyhpOiBudW1iZXIpIDogSW50MzJBcnJheSB7XHJcbiAgICAgICAgLy8gaWYgKGkgPCAwIHx8IGkgPiB0aGlzLmhlaWdodCkgdGhyb3cgXCJjb2x1bW4gaXMgb3V0IG9mIGJvdW5kcyBmb3IgQXJyYXlcIlxyXG4gICAgICAgIGxldCBkYXRhID0gbmV3IEludDMyQXJyYXkodGhpcy5fd2lkdGgpO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fd2lkdGg7IGorKykge1xyXG4gICAgICAgICAgICBkYXRhW2pdID0gdGhpcy5nZXQoaSwgaik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZ2V0Q29sdW1uKGo6IG51bWJlcikgOiBJbnQzMkFycmF5IHtcclxuICAgICAgICAvLyBpZiAoaiA8IDAgfHwgaiA+IHRoaXMud2lkdGgpIHRocm93IFwiY29sdW1uIGlzIG91dCBvZiBib3VuZHMgZm9yIEFycmF5XCJcclxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBJbnQzMkFycmF5KHRoaXMuX2hlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBpICogdGhpcy5fd2lkdGggKyBqO1xyXG4gICAgICAgICAgICBkYXRhW2ldID0gdGhpcy5kYXRhW2luZGV4XTsgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgc2V0KGk6IG51bWJlciwgaiA6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5pblJhbmdlKGksIGopKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIm91dCBvZiByYW5nZSFcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyBqXSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgc2V0Um93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogbnVtYmVyW10gfCBJbnQzMkFycmF5KSB7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMud2lkdGggIT0gcm93Lmxlbmd0aCkgdGhyb3cgXCJkaW1lbnRpb24gb2YgZmxvYXRhcnJheSBpcyBub3QgXCIgKyByb3cubGVuZ3RoO1xyXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLl93aWR0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KHJvd0luZGV4LCBqLCByb3dbal0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB0YWtlUm93cyhpbmRpY2VzOiBudW1iZXJbXSkgOiBJbnRNYXRyaXgge1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgYXJyYXkgZnJvbSBhIGNvdXBsZSBvZiByb3dzXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5faGVpZ2h0LCB0aGlzLl93aWR0aCk7XHJcbiAgICAgICAgY29uc3QgY291bnQgPSBpbmRpY2VzLmxlbmd0aFxyXG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBJbnRNYXRyaXgoY291bnQsIHRoaXMuX3dpZHRoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBnZXRJbmRleCA9IGluZGljZXNbaV07XHJcbiAgICAgICAgICAgIGFycmF5LnNldFJvdyhpLCB0aGlzLmdldFJvdyhnZXRJbmRleCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICB0b1VJbnQxNkFycmF5KCkgOiBVaW50MTZBcnJheSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh0aGlzLmRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZm9yRWFjaFZhbHVlKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiBudW1iZXIpIDogSW50TWF0cml4IHtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBjYWxsYmFja2ZuKHRoaXMuZGF0YVtpXSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgZm9yRWFjaFJvdyhjYWxsYmFja2ZuOiAodmFsdWU6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIpID0+IHZvaWQpIDogSW50TWF0cml4IHtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuX2hlaWdodDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLmdldFJvdyhpKTtcclxuICAgICAgICAgICAgY2FsbGJhY2tmbihyb3csIGkpXHJcbiAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgdHJ1ZUZvckFsbChjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbikgOiBib29sZWFuIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrZm4odGhpcy5kYXRhW2ldLCBpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/int-matrix.ts\n");

/***/ }),

/***/ "./src/data/vector-array.ts":
/*!**********************************!*\
  !*** ./src/data/vector-array.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector2Array\": () => /* binding */ Vector2Array,\n/* harmony export */   \"Vector3Array\": () => /* binding */ Vector3Array,\n/* harmony export */   \"getGeneralFloatMatrix\": () => /* binding */ getGeneralFloatMatrix\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _float_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./float-matrix */ \"./src/data/float-matrix.ts\");\n// name:    array.ts\r\n// author:  Jos Feenstra\r\n// purpose: Small wrapper around Float32Array / FloatMatrix to add interoperability with Vector2 & Vector3, \r\n//          while remaining a datastructure thats easy to pass over to webgl\r\n// \r\n// NOTE:    all these small wrappers might not be good pratice, but I \r\n//          like to extract simple logic like this to not clutter the code too much\r\n\r\n\r\nclass Vector2Array extends _float_matrix__WEBPACK_IMPORTED_MODULE_1__.FloatMatrix {\r\n    constructor(count) {\r\n        super(count, 2);\r\n    }\r\n    static fromList(vecs) {\r\n        let length = vecs.length;\r\n        let array = new Vector2Array(length);\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            array.data[i * 2] = vecs[i].x;\r\n            array.data[i * 2 + 1] = vecs[i].y;\r\n        }\r\n        return array;\r\n    }\r\n    forEach(callbackfn) {\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            callbackfn(vec, i);\r\n            this.setVector(i, vec);\r\n        }\r\n        return this;\r\n    }\r\n    map(callbackfn) {\r\n        let clone = this.clone();\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            let result = callbackfn(vec, i);\r\n            if (result instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2) {\r\n                clone.setVector(i, result);\r\n            }\r\n            else {\r\n                clone.setVector(i, vec);\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    setVector(i, vec) {\r\n        this.data[i * this._width + 0] = vec.x;\r\n        this.data[i * this._width + 1] = vec.y;\r\n    }\r\n    getVector(i) {\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.data[i * this._width + 0], this.data[i * this._width + 1]);\r\n    }\r\n    toList() {\r\n        let vecs = [];\r\n        for (let i = 0; i < this._height; i++) {\r\n            vecs.push(this.getVector(i));\r\n        }\r\n        return vecs;\r\n    }\r\n    to3D() {\r\n        let array = new Vector3Array(this.count());\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let row = this.getRow(i);\r\n            array.setRow(i, [row[0], row[1], 0]);\r\n        }\r\n        return array;\r\n    }\r\n    clone() {\r\n        let clone = new Vector2Array(this._height);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n}\r\nclass Vector3Array extends _float_matrix__WEBPACK_IMPORTED_MODULE_1__.FloatMatrix {\r\n    constructor(count) {\r\n        super(count, 3);\r\n    }\r\n    static fromList(vecs) {\r\n        let length = vecs.length;\r\n        let array = new Vector3Array(length);\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            array.data[i * 3] = vecs[i].x;\r\n            array.data[i * 3 + 1] = vecs[i].y;\r\n            array.data[i * 3 + 2] = vecs[i].z;\r\n        }\r\n        return array;\r\n    }\r\n    static fromNative(native) {\r\n        // assume all subarrays have the same shape!!\r\n        let height = native.length;\r\n        let matrix = new Vector3Array(height);\r\n        for (var i = 0; i < native.length; i++) {\r\n            for (var j = 0; j < native[0].length; j++) {\r\n                matrix.set(i, j, native[i][j]);\r\n            }\r\n        }\r\n        return matrix;\r\n    }\r\n    fillFromList(vecs) {\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            this.data[i * 3] = vecs[i].x;\r\n            this.data[i * 3 + 1] = vecs[i].y;\r\n            this.data[i * 3 + 2] = vecs[i].z;\r\n        }\r\n    }\r\n    forEach(callbackfn) {\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            vec = callbackfn(vec, i);\r\n            if (vec instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3) {\r\n                this.setVector(i, vec);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    map(callbackfn) {\r\n        let clone = this.clone();\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            let result = callbackfn(vec, i);\r\n            if (result instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3) {\r\n                clone.setVector(i, result);\r\n            }\r\n            else {\r\n                clone.setVector(i, vec);\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    setVector(i, vec) {\r\n        this.data[i * this._width + 0] = vec.x;\r\n        this.data[i * this._width + 1] = vec.y;\r\n        this.data[i * this._width + 2] = vec.z;\r\n    }\r\n    getVector(i) {\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3(this.data[i * this._width + 0], this.data[i * this._width + 1], this.data[i * this._width + 2]);\r\n    }\r\n    toList() {\r\n        let vecs = [];\r\n        for (let i = 0; i < this._height; i++) {\r\n            vecs.push(this.getVector(i));\r\n        }\r\n        return vecs;\r\n    }\r\n    transform(m) {\r\n        for (let i = 0; i < this._height; i++) {\r\n            let vec = this.getVector(i);\r\n            vec = m.multiplyVector(vec);\r\n            this.setVector(i, vec);\r\n        }\r\n        // this.data = m.MultiplyM(this).data;\r\n        return this;\r\n    }\r\n    to2D() {\r\n        let clone = new Vector2Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < 2; j++) {\r\n                clone.set(i, j, this.get(i, j));\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    clone() {\r\n        let clone = new Vector3Array(this._height);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n    mean() {\r\n        // the mean vector of a series of vectors\r\n        let sum = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3.zero();\r\n        let count = this.count();\r\n        for (let i = 0; i < count; i++) {\r\n            sum.x += this.data[i * 3];\r\n            sum.y += this.data[i * 3 + 1];\r\n            sum.z += this.data[i * 3 + 2];\r\n        }\r\n        return sum.scale(1 / count);\r\n    }\r\n    average() {\r\n        return this.mean();\r\n    }\r\n    closestId(point) {\r\n        let lowScore = Infinity;\r\n        let id = -1;\r\n        this.forEach((v, i) => {\r\n            let disSquared = point.disToSquared(v);\r\n            if (disSquared < lowScore) {\r\n                lowScore = disSquared;\r\n                id = i;\r\n            }\r\n        });\r\n        return id;\r\n    }\r\n    closestIds(point, n) {\r\n        // O(m*n)... TODO implement quicksort \r\n        let ids = [];\r\n        for (let i = 0; i < n; i++) {\r\n            let lowScore = Infinity;\r\n            let id = -1;\r\n            this.forEach((v, i) => {\r\n                if (ids.includes(id))\r\n                    return;\r\n                let disSquared = point.disToSquared(v);\r\n                if (disSquared < lowScore) {\r\n                    lowScore = disSquared;\r\n                    id = i;\r\n                }\r\n            });\r\n            ids.push(id);\r\n        }\r\n        return ids;\r\n    }\r\n}\r\nfunction getGeneralFloatMatrix(vectors) {\r\n    if (vectors instanceof Vector2Array) {\r\n        return vectors;\r\n    }\r\n    else if (vectors instanceof Vector3Array) {\r\n        return vectors;\r\n    }\r\n    else if (vectors[0] instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2) {\r\n        return Vector2Array.fromList(vectors);\r\n    }\r\n    else {\r\n        return Vector3Array.fromList(vectors);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2RhdGEvdmVjdG9yLWFycmF5LnRzP2ViMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLDRHQUE0RztBQUM1Ryw0RUFBNEU7QUFDNUUsR0FBRztBQUNILHNFQUFzRTtBQUN0RSxtRkFBbUY7QUFJakM7QUFDTDtBQUV0QyxNQUFNLFlBQWEsU0FBUSxzREFBVztJQUV6QyxZQUFZLEtBQWE7UUFDckIsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBR0QsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFlO1FBQzNCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDekIsSUFBSSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFHRCxPQUFPLENBQUMsVUFBbUQ7UUFFdkQsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVC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RUFBRSxDQUFDLENBQUM7U0FDaEI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7Q0FDSjtBQUVNLFNBQVMscUJBQXFCLENBQUMsT0FBNEQ7SUFFOUYsSUFBRyxPQUFPLFlBQVksWUFBWSxFQUFFO1FBQ2hDLE9BQU8sT0FBTyxDQUFDO0tBQ2xCO1NBQU0sSUFBSSxPQUFPLFlBQVksWUFBWSxFQUFFO1FBQ3hDLE9BQU8sT0FBTyxDQUFDO0tBQ2xCO1NBQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksaURBQU8sRUFBRTtRQUN0QyxPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBb0IsQ0FBQyxDQUFDO0tBQ3REO1NBQU07UUFDSCxPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBb0IsQ0FBQyxDQUFDO0tBQ3REO0FBQ0wsQ0FBQyIsImZpbGUiOiIuL3NyYy9kYXRhL3ZlY3Rvci1hcnJheS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIGFycmF5LnRzXHJcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlOiBTbWFsbCB3cmFwcGVyIGFyb3VuZCBGbG9hdDMyQXJyYXkgLyBGbG9hdE1hdHJpeCB0byBhZGQgaW50ZXJvcGVyYWJpbGl0eSB3aXRoIFZlY3RvcjIgJiBWZWN0b3IzLCBcclxuLy8gICAgICAgICAgd2hpbGUgcmVtYWluaW5nIGEgZGF0YXN0cnVjdHVyZSB0aGF0cyBlYXN5IHRvIHBhc3Mgb3ZlciB0byB3ZWJnbFxyXG4vLyBcclxuLy8gTk9URTogICAgYWxsIHRoZXNlIHNtYWxsIHdyYXBwZXJzIG1pZ2h0IG5vdCBiZSBnb29kIHByYXRpY2UsIGJ1dCBJIFxyXG4vLyAgICAgICAgICBsaWtlIHRvIGV4dHJhY3Qgc2ltcGxlIGxvZ2ljIGxpa2UgdGhpcyB0byBub3QgY2x1dHRlciB0aGUgY29kZSB0b28gbXVjaFxyXG5cclxuaW1wb3J0IHsgaXNEb3dubG9hZEZsb2F0VGV4dHVyZUVuYWJsZWQgfSBmcm9tIFwiQHRlbnNvcmZsb3cvdGZqcy1iYWNrZW5kLXdlYmdsL2Rpc3Qvd2ViZ2xfdXRpbFwiO1xyXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XHJcbmltcG9ydCB7IFZlY3RvcjMsIFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcclxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi9mbG9hdC1tYXRyaXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyQXJyYXkgZXh0ZW5kcyBGbG9hdE1hdHJpeCB7XHJcbiAgIFxyXG4gICAgY29uc3RydWN0b3IoY291bnQ6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvdW50LCAyKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHN0YXRpYyBmcm9tTGlzdCh2ZWNzOiBWZWN0b3IyW10pIDogVmVjdG9yMkFycmF5IHtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gdmVjcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFZlY3RvcjJBcnJheShsZW5ndGgpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5LmRhdGFbaSoyXSA9IHZlY3NbaV0ueDtcclxuICAgICAgICAgICAgYXJyYXkuZGF0YVtpKjIrMV0gPSB2ZWNzW2ldLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFZlY3RvcjIsIGluZGV4OiBudW1iZXIpID0+IHZvaWQpIDogVmVjdG9yMkFycmF5IHtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuY291bnQoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWMgPSB0aGlzLmdldFZlY3RvcihpKTtcclxuICAgICAgICAgICAgY2FsbGJhY2tmbih2ZWMsIGkpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFZlY3RvcihpLCB2ZWMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFwKGNhbGxiYWNrZm46ICh2YWx1ZTogVmVjdG9yMiwgaW5kZXg6IG51bWJlcikgPT4gYW55KSA6IFZlY3RvcjJBcnJheSB7XHJcblxyXG4gICAgICAgIGxldCBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLmNvdW50KCk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmVjID0gdGhpcy5nZXRWZWN0b3IoaSk7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjYWxsYmFja2ZuKHZlYywgaSkhO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgVmVjdG9yMikge1xyXG4gICAgICAgICAgICAgICAgY2xvbmUuc2V0VmVjdG9yKGksIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZS5zZXRWZWN0b3IoaSwgdmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldFZlY3RvcihpOiBudW1iZXIsIHZlYzogVmVjdG9yMikge1xyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAwXSA9IHZlYy54O1xyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAxXSA9IHZlYy55O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRWZWN0b3IoaTogbnVtYmVyKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihcclxuICAgICAgICAgICAgdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIDBdLFxyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgMV0sXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0b0xpc3QoKSA6IFZlY3RvcjJbXSB7XHJcblxyXG4gICAgICAgIGxldCB2ZWNzOiBWZWN0b3IyW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xyXG4gICAgICAgICAgICB2ZWNzLnB1c2godGhpcy5nZXRWZWN0b3IoaSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmVjcztcclxuICAgIH1cclxuXHJcbiAgICB0bzNEKCkgOiBWZWN0b3IzQXJyYXkge1xyXG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCgpKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuY291bnQoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLmdldFJvdyhpKTtcclxuICAgICAgICAgICAgYXJyYXkuc2V0Um93KGksIFtyb3dbMF0sIHJvd1sxXSwgMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSA6IFZlY3RvcjJBcnJheSB7XHJcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IFZlY3RvcjJBcnJheSh0aGlzLl9oZWlnaHQpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2xvbmUuZGF0YVtpXSA9IHRoaXMuZGF0YVtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsb25lOyAgXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IzQXJyYXkgZXh0ZW5kcyBGbG9hdE1hdHJpeCB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKGNvdW50OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihjb3VudCwgMyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tTGlzdCh2ZWNzOiBWZWN0b3IzW10pIDogVmVjdG9yM0FycmF5IHtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gdmVjcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFZlY3RvcjNBcnJheShsZW5ndGgpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycmF5LmRhdGFbaSozXSA9IHZlY3NbaV0ueDtcclxuICAgICAgICAgICAgYXJyYXkuZGF0YVtpKjMrMV0gPSB2ZWNzW2ldLnk7XHJcbiAgICAgICAgICAgIGFycmF5LmRhdGFbaSozKzJdID0gdmVjc1tpXS56O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tTmF0aXZlKG5hdGl2ZTogbnVtYmVyW11bXSkgOiBWZWN0b3IzQXJyYXkge1xyXG4gICAgICAgIC8vIGFzc3VtZSBhbGwgc3ViYXJyYXlzIGhhdmUgdGhlIHNhbWUgc2hhcGUhIVxyXG4gICAgICAgIGxldCBoZWlnaHQgPSBuYXRpdmUubGVuZ3RoO1xyXG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgVmVjdG9yM0FycmF5KGhlaWdodCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYXRpdmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuYXRpdmVbMF0ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoaSwgaiwgbmF0aXZlW2ldW2pdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0cml4OyBcclxuICAgIH1cclxuXHJcblxyXG4gICAgZmlsbEZyb21MaXN0KHZlY3M6IFZlY3RvcjNbXSkge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZWNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpKjNdID0gdmVjc1tpXS54O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaSozKzFdID0gdmVjc1tpXS55O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaSozKzJdID0gdmVjc1tpXS56O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFZlY3RvcjMsIGluZGV4OiBudW1iZXIpID0+IGFueSkgOiBWZWN0b3IzQXJyYXkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb3VudCgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZlYyA9IHRoaXMuZ2V0VmVjdG9yKGkpO1xyXG4gICAgICAgICAgICB2ZWMgPSBjYWxsYmFja2ZuKHZlYywgaSkhO1xyXG4gICAgICAgICAgICBpZiAodmVjIGluc3RhbmNlb2YgVmVjdG9yMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWZWN0b3IoaSwgdmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFwKGNhbGxiYWNrZm46ICh2YWx1ZTogVmVjdG9yMywgaW5kZXg6IG51bWJlcikgPT4gYW55KSA6IFZlY3RvcjNBcnJheSB7XHJcblxyXG4gICAgICAgIGxldCBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLmNvdW50KCk7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmVjID0gdGhpcy5nZXRWZWN0b3IoaSk7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBjYWxsYmFja2ZuKHZlYywgaSkhO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgVmVjdG9yMykge1xyXG4gICAgICAgICAgICAgICAgY2xvbmUuc2V0VmVjdG9yKGksIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZS5zZXRWZWN0b3IoaSwgdmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldFZlY3RvcihpOiBudW1iZXIsIHZlYzogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAwXSA9IHZlYy54O1xyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAxXSA9IHZlYy55O1xyXG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAyXSA9IHZlYy56O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRWZWN0b3IoaTogbnVtYmVyKSA6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhcclxuICAgICAgICAgICAgdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIDBdLFxyXG4gICAgICAgICAgICB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgMV0sXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAyXSxcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRvTGlzdCgpIDogVmVjdG9yM1tdIHtcclxuXHJcbiAgICAgICAgbGV0IHZlY3M6IFZlY3RvcjNbXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuX2hlaWdodDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZlY3MucHVzaCh0aGlzLmdldFZlY3RvcihpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2ZWNzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0cmFuc2Zvcm0obTogTWF0cml4NCkgOiBWZWN0b3IzQXJyYXkge1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmVjID0gdGhpcy5nZXRWZWN0b3IoaSk7XHJcbiAgICAgICAgICAgIHZlYyA9IG0ubXVsdGlwbHlWZWN0b3IodmVjKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRWZWN0b3IoaSwgdmVjKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5kYXRhID0gbS5NdWx0aXBseU0odGhpcykuZGF0YTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgdG8yRCgpIDogVmVjdG9yMkFycmF5IHtcclxuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgVmVjdG9yMkFycmF5KHRoaXMuX2hlaWdodCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY2xvbmUuc2V0KGksIGosIHRoaXMuZ2V0KGksIGopKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xvbmU7ICBcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2xvbmUoKSA6IFZlY3RvcjNBcnJheSB7XHJcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IFZlY3RvcjNBcnJheSh0aGlzLl9oZWlnaHQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNsb25lLmRhdGFbaV0gPSB0aGlzLmRhdGFbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjbG9uZTsgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtZWFuKCkgOiBWZWN0b3IzIHtcclxuICAgICAgICAvLyB0aGUgbWVhbiB2ZWN0b3Igb2YgYSBzZXJpZXMgb2YgdmVjdG9yc1xyXG4gICAgICAgIGxldCBzdW0gPSBWZWN0b3IzLnplcm8oKTtcclxuXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5jb3VudCgpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN1bS54ICs9IHRoaXMuZGF0YVtpKjNdXHJcbiAgICAgICAgICAgIHN1bS55ICs9IHRoaXMuZGF0YVtpKjMrMV1cclxuICAgICAgICAgICAgc3VtLnogKz0gdGhpcy5kYXRhW2kqMysyXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN1bS5zY2FsZSgxIC8gY291bnQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhdmVyYWdlKCkgOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZWFuKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNsb3Nlc3RJZChwb2ludDogVmVjdG9yMykgOiBudW1iZXIge1xyXG5cclxuICAgICAgICBsZXQgbG93U2NvcmUgPSBJbmZpbml0eVxyXG4gICAgICAgIGxldCBpZCA9IC0xO1xyXG5cclxuICAgICAgICB0aGlzLmZvckVhY2goKHYsIGkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRpc1NxdWFyZWQgPSBwb2ludC5kaXNUb1NxdWFyZWQodik7XHJcbiAgICAgICAgICAgIGlmIChkaXNTcXVhcmVkIDwgbG93U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgIGxvd1Njb3JlID0gZGlzU3F1YXJlZDtcclxuICAgICAgICAgICAgICAgIGlkID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgY2xvc2VzdElkcyhwb2ludDogVmVjdG9yMywgbjogbnVtYmVyKSA6IG51bWJlcltdIHtcclxuICAgICAgICAvLyBPKG0qbikuLi4gVE9ETyBpbXBsZW1lbnQgcXVpY2tzb3J0IFxyXG5cclxuICAgICAgICBsZXQgaWRzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGxvd1Njb3JlID0gSW5maW5pdHk7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goKHYsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpZHMuaW5jbHVkZXMoaWQpKSBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzU3F1YXJlZCA9IHBvaW50LmRpc1RvU3F1YXJlZCh2KTtcclxuICAgICAgICAgICAgICAgIGlmIChkaXNTcXVhcmVkIDwgbG93U2NvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb3dTY29yZSA9IGRpc1NxdWFyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZHMucHVzaChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHZW5lcmFsRmxvYXRNYXRyaXgodmVjdG9yczogVmVjdG9yMkFycmF5IHwgVmVjdG9yM0FycmF5IHwgVmVjdG9yMltdIHwgVmVjdG9yM1tdKTogRmxvYXRNYXRyaXgge1xyXG5cclxuICAgIGlmKHZlY3RvcnMgaW5zdGFuY2VvZiBWZWN0b3IyQXJyYXkpIHtcclxuICAgICAgICByZXR1cm4gdmVjdG9ycztcclxuICAgIH0gZWxzZSBpZiAodmVjdG9ycyBpbnN0YW5jZW9mIFZlY3RvcjNBcnJheSkge1xyXG4gICAgICAgIHJldHVybiB2ZWN0b3JzO1xyXG4gICAgfSBlbHNlIGlmICh2ZWN0b3JzWzBdIGluc3RhbmNlb2YgVmVjdG9yMikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IyQXJyYXkuZnJvbUxpc3QodmVjdG9ycyBhcyBWZWN0b3IyW10pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yM0FycmF5LmZyb21MaXN0KHZlY3RvcnMgYXMgVmVjdG9yM1tdKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/vector-array.ts\n");

/***/ }),

/***/ "./src/geo/cube.ts":
/*!*************************!*\
  !*** ./src/geo/cube.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Cube\": () => /* binding */ Cube\n/* harmony export */ });\n/* harmony import */ var _math_domain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/domain */ \"./src/math/domain.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plane */ \"./src/geo/plane.ts\");\n// name:    cube.ts\r\n// author:  Jos Feenstra\r\n// purpose: Represents a cube in 3d space, in a certain pose. \r\n\r\n\r\nclass Cube {\r\n    constructor(plane, domain) {\r\n        this.plane = plane;\r\n        this.domain = domain;\r\n    }\r\n    static fromRadius(point, radius) {\r\n        return new Cube(_plane__WEBPACK_IMPORTED_MODULE_1__.Plane.WorldXY().moveTo(point), _math_domain__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromRadius(radius));\r\n    }\r\n    getCorners() {\r\n        return this.domain.corners(this.plane.matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2dlby9jdWJlLnRzPzMxMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsbUJBQW1CO0FBQ25CLHdCQUF3QjtBQUN4Qiw4REFBOEQ7QUFHckI7QUFHVDtBQUV6QixNQUFNLElBQUk7SUFNYixZQUFZLEtBQVksRUFBRSxNQUFlO1FBQ3JDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFHRCxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQWMsRUFBRSxNQUFjO1FBQzVDLE9BQU8sSUFBSSxJQUFJLENBQ1gsaURBQWEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDN0IsNERBQWtCLENBQUMsTUFBTSxDQUFDLENBQzdCLENBQUM7SUFDTixDQUFDO0lBR0QsVUFBVTtRQUNOLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsRCxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvZ2VvL2N1YmUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBjdWJlLnRzXHJcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlOiBSZXByZXNlbnRzIGEgY3ViZSBpbiAzZCBzcGFjZSwgaW4gYSBjZXJ0YWluIHBvc2UuIFxyXG5cclxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IERvbWFpbjMgfSBmcm9tIFwiLi4vbWF0aC9kb21haW5cIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xyXG5pbXBvcnQgeyBHZW8gfSBmcm9tIFwiLi9nZW9cIjtcclxuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi9wbGFuZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1YmUge1xyXG5cclxuICAgIFxyXG4gICAgcGxhbmU6IFBsYW5lXHJcbiAgICBkb21haW46IERvbWFpbjNcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbGFuZTogUGxhbmUsIGRvbWFpbjogRG9tYWluMykge1xyXG4gICAgICAgIHRoaXMucGxhbmUgPSBwbGFuZTtcclxuICAgICAgICB0aGlzLmRvbWFpbiA9IGRvbWFpbjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21SYWRpdXMocG9pbnQ6IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyKTogQ3ViZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlKFxyXG4gICAgICAgICAgICBQbGFuZS5Xb3JsZFhZKCkubW92ZVRvKHBvaW50KSxcclxuICAgICAgICAgICAgRG9tYWluMy5mcm9tUmFkaXVzKHJhZGl1cyksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGdldENvcm5lcnMoKSA6IFZlY3RvcjNbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tYWluLmNvcm5lcnModGhpcy5wbGFuZS5tYXRyaXgpO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/cube.ts\n");

/***/ }),

/***/ "./src/geo/plane.ts":
/*!**************************!*\
  !*** ./src/geo/plane.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Plane\": () => /* binding */ Plane\n/* harmony export */ });\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _math_statistics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/statistics */ \"./src/math/statistics.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// name:    plane.ts\r\n// author:  Jos Feenstra\r\n// purpose: definition of a 3d plane. \r\n// todo:    turn Center, Ihat, Jhat, Khat construction to an actual matrix\r\n\r\n\r\n\r\nclass Plane {\r\n    // _inverse!: Matrix4; // NOTE: currently im not caching this. Might be needed.\r\n    // NOTE : d is not really needed anymore...\r\n    constructor(m) {\r\n        this._matrix = m;\r\n    }\r\n    static fromPVV(a, v1, v2) {\r\n        // TODO check if we still need this -1 thing \r\n        let khat = v1.clone().cross(v2).normalize(); //.scale(-1);\r\n        let center = a.clone();\r\n        let ihat = v1.normalize();\r\n        let jhat = v1.clone().cross(khat);\r\n        let mat = Plane.planeMatrixFromVecs(center, ihat, jhat, khat);\r\n        return new Plane(mat);\r\n    }\r\n    static from3pt(a, b, c) {\r\n        let v1 = b.clone().sub(a);\r\n        let v2 = c.clone().sub(a);\r\n        return this.fromPVV(a, v1, v2);\r\n    }\r\n    static WorldXY() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitX(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitY());\r\n    }\r\n    static WorldYZ() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitY(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitZ());\r\n    }\r\n    static WorldXZ() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitX(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitZ());\r\n    }\r\n    static fromLeastSquares(pts) {\r\n        let mean = pts.mean();\r\n        let cov = _math_statistics__WEBPACK_IMPORTED_MODULE_1__.Stat.cov(pts);\r\n        let [eigValues, eigVectors] = _math_statistics__WEBPACK_IMPORTED_MODULE_1__.Stat.eig(cov);\r\n        console.log(eigValues);\r\n        let biggestEigenVector = _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(eigVectors.getColumn(0));\r\n        let secondBiggestEigenVector = _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(eigVectors.getColumn(1));\r\n        return Plane.fromPVV(mean, biggestEigenVector, secondBiggestEigenVector);\r\n    }\r\n    static fromXYLeastSquares(pts) {\r\n        // quite specific, but this was needed.\r\n        let mean = pts.mean();\r\n        return Plane.WorldXY().transform(_math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newTranslation(mean.x, mean.y, mean.z));\r\n    }\r\n    static planeMatrixFromVecs(c, i, j, k) {\r\n        return new _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4([\r\n            i.x, i.y, i.z, 0,\r\n            j.x, j.y, j.z, 0,\r\n            k.x, k.y, k.z, 0,\r\n            c.x, c.y, c.z, 1,\r\n        ]);\r\n    }\r\n    get ihat() { return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(0)); }\r\n    get jhat() { return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(1)); }\r\n    get khat() { return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(2)); }\r\n    get center() { return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(3)); }\r\n    get matrix() { return this._matrix.clone(); }\r\n    get normal() { return this.khat; }\r\n    get d() { return this.closestPoint(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero())[1]; }\r\n    set ihat(v) { this._matrix.setRow(0, [v.x, v.y, v.z, 0]); }\r\n    set jhat(v) { this._matrix.setRow(1, [v.x, v.y, v.z, 0]); }\r\n    set khat(v) { this._matrix.setRow(2, [v.x, v.y, v.z, 0]); }\r\n    set center(v) { this._matrix.setRow(3, [v.x, v.y, v.z, 1]); }\r\n    set matrix(m) { this._matrix = m; }\r\n    get inverse() { return this._matrix.inverse(); }\r\n    clone() {\r\n        return new Plane(this._matrix.clone());\r\n    }\r\n    transform(m) {\r\n        this._matrix = this._matrix.multiply(m);\r\n        return this;\r\n    }\r\n    moveTo(origin) {\r\n        this.center = origin;\r\n        return this;\r\n    }\r\n    // NOTE: pulling is inefficient since i do not cache the inverse.\r\n    pullToPlane(p) {\r\n        return this.inverse.multiplyVector(p);\r\n    }\r\n    pushToWorld(p) {\r\n        return this.matrix.multiplyVector(p);\r\n    }\r\n    closestPoint(p) {\r\n        let pulled = this.pullToPlane(p);\r\n        let distance = pulled.z;\r\n        pulled.z = 0;\r\n        let vec = this.pushToWorld(pulled);\r\n        return [vec, distance];\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2dlby9wbGFuZS50cz9iZDY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLHNDQUFzQztBQUN0QywwRUFBMEU7QUFJakM7QUFDQztBQUNRO0FBRTNDLE1BQU0sS0FBSztJQUdkLCtFQUErRTtJQUUvRSwyQ0FBMkM7SUFDM0MsWUFBWSxDQUFVO1FBQ2xCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDLENBQVUsRUFBRSxFQUFXLEVBQUUsRUFBVztRQUUvQyw2Q0FBNkM7UUFDN0MsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLGFBQWE7UUFFMUQsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3ZCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxTQUFTLEVBQUU7UUFDekIsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVO1FBQzdDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEdB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OiIuL3NyYy9nZW8vcGxhbmUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBwbGFuZS50c1xyXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcclxuLy8gcHVycG9zZTogZGVmaW5pdGlvbiBvZiBhIDNkIHBsYW5lLiBcclxuLy8gdG9kbzogICAgdHVybiBDZW50ZXIsIEloYXQsIEpoYXQsIEtoYXQgY29uc3RydWN0aW9uIHRvIGFuIGFjdHVhbCBtYXRyaXhcclxuXHJcbmltcG9ydCB7IFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xyXG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9tYXRoL2NvbnN0XCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcclxuaW1wb3J0IHsgU3RhdCB9IGZyb20gXCIuLi9tYXRoL3N0YXRpc3RpY3NcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYW5lIHtcclxuICAgIFxyXG4gICAgX21hdHJpeCE6IE1hdHJpeDQ7XHJcbiAgICAvLyBfaW52ZXJzZSE6IE1hdHJpeDQ7IC8vIE5PVEU6IGN1cnJlbnRseSBpbSBub3QgY2FjaGluZyB0aGlzLiBNaWdodCBiZSBuZWVkZWQuXHJcblxyXG4gICAgLy8gTk9URSA6IGQgaXMgbm90IHJlYWxseSBuZWVkZWQgYW55bW9yZS4uLlxyXG4gICAgY29uc3RydWN0b3IobTogTWF0cml4NCkge1xyXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21QVlYoYTogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzKSB7XHJcblxyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgd2Ugc3RpbGwgbmVlZCB0aGlzIC0xIHRoaW5nIFxyXG4gICAgICAgIGxldCBraGF0ID0gdjEuY2xvbmUoKS5jcm9zcyh2Mikubm9ybWFsaXplKCk7IC8vLnNjYWxlKC0xKTtcclxuXHJcbiAgICAgICAgbGV0IGNlbnRlciA9IGEuY2xvbmUoKTtcclxuICAgICAgICBsZXQgaWhhdCA9IHYxLm5vcm1hbGl6ZSgpXHJcbiAgICAgICAgbGV0IGpoYXQgPSB2MS5jbG9uZSgpLmNyb3NzKGtoYXQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtYXQgPSBQbGFuZS5wbGFuZU1hdHJpeEZyb21WZWNzKGNlbnRlciwgaWhhdCwgamhhdCwga2hhdCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZShtYXQpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb20zcHQoYTogVmVjdG9yMywgYjogVmVjdG9yMywgYzogVmVjdG9yMykge1xyXG4gICAgICAgIGxldCB2MSA9IGIuY2xvbmUoKS5zdWIoYSk7XHJcbiAgICAgICAgbGV0IHYyID0gYy5jbG9uZSgpLnN1YihhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUFZWKGEsIHYxLCB2Mik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFdvcmxkWFkoKTogUGxhbmUge1xyXG4gICAgICAgIHJldHVybiBQbGFuZS5mcm9tM3B0KFZlY3RvcjMuemVybygpLCBWZWN0b3IzLnVuaXRYKCksIFZlY3RvcjMudW5pdFkoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFdvcmxkWVooKTogUGxhbmUge1xyXG4gICAgICAgIHJldHVybiBQbGFuZS5mcm9tM3B0KFZlY3RvcjMuemVybygpLCBWZWN0b3IzLnVuaXRZKCksIFZlY3RvcjMudW5pdFooKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFdvcmxkWFooKTogUGxhbmUge1xyXG4gICAgICAgIHJldHVybiBQbGFuZS5mcm9tM3B0KFZlY3RvcjMuemVybygpLCBWZWN0b3IzLnVuaXRYKCksIFZlY3RvcjMudW5pdFooKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21MZWFzdFNxdWFyZXMocHRzOiBWZWN0b3IzQXJyYXkpIDogUGxhbmV7XHJcblxyXG4gICAgICAgIGxldCBtZWFuID0gcHRzLm1lYW4oKTtcclxuICAgICAgICBsZXQgY292ID0gU3RhdC5jb3YocHRzKTtcclxuICAgICAgICBsZXQgW2VpZ1ZhbHVlcywgZWlnVmVjdG9yc10gPSBTdGF0LmVpZyhjb3YpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVpZ1ZhbHVlcyk7XHJcblxyXG4gICAgICAgIGxldCBiaWdnZXN0RWlnZW5WZWN0b3IgPSBWZWN0b3IzLmZyb21BcnJheShlaWdWZWN0b3JzLmdldENvbHVtbigwKSk7XHJcbiAgICAgICAgbGV0IHNlY29uZEJpZ2dlc3RFaWdlblZlY3RvciA9IFZlY3RvcjMuZnJvbUFycmF5KGVpZ1ZlY3RvcnMuZ2V0Q29sdW1uKDEpKVxyXG5cclxuICAgICAgICByZXR1cm4gUGxhbmUuZnJvbVBWVihtZWFuLCBiaWdnZXN0RWlnZW5WZWN0b3IsIHNlY29uZEJpZ2dlc3RFaWdlblZlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21YWUxlYXN0U3F1YXJlcyhwdHM6IFZlY3RvcjNBcnJheSkgOiBQbGFuZSB7XHJcbiAgICAgICAgLy8gcXVpdGUgc3BlY2lmaWMsIGJ1dCB0aGlzIHdhcyBuZWVkZWQuXHJcbiAgICAgICAgbGV0IG1lYW4gPSBwdHMubWVhbigpO1xyXG4gICAgICAgIHJldHVybiBQbGFuZS5Xb3JsZFhZKCkudHJhbnNmb3JtKE1hdHJpeDQubmV3VHJhbnNsYXRpb24obWVhbi54LCBtZWFuLnksIG1lYW4ueikpOyAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGxhbmVNYXRyaXhGcm9tVmVjcyhjOiBWZWN0b3IzLCBpOiBWZWN0b3IzLCBqOiBWZWN0b3IzLCBrOiBWZWN0b3IzKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbXHJcbiAgICAgICAgICAgIGkueCwgaS55LCBpLnosIDAsXHJcbiAgICAgICAgICAgIGoueCwgai55LCBqLnosIDAsXHJcbiAgICAgICAgICAgIGsueCwgay55LCBrLnosIDAsXHJcbiAgICAgICAgICAgIGMueCwgYy55LCBjLnosIDEsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBpaGF0KCkge3JldHVybiBWZWN0b3IzLmZyb21BcnJheSh0aGlzLl9tYXRyaXguZ2V0Um93KDApKX1cclxuICAgIHB1YmxpYyBnZXQgamhhdCgpIHtyZXR1cm4gVmVjdG9yMy5mcm9tQXJyYXkodGhpcy5fbWF0cml4LmdldFJvdygxKSl9XHJcbiAgICBwdWJsaWMgZ2V0IGtoYXQoKSB7cmV0dXJuIFZlY3RvcjMuZnJvbUFycmF5KHRoaXMuX21hdHJpeC5nZXRSb3coMikpfVxyXG4gICAgcHVibGljIGdldCBjZW50ZXIoKSB7cmV0dXJuIFZlY3RvcjMuZnJvbUFycmF5KHRoaXMuX21hdHJpeC5nZXRSb3coMykpfVxyXG4gICAgcHVibGljIGdldCBtYXRyaXgoKSB7cmV0dXJuIHRoaXMuX21hdHJpeC5jbG9uZSgpfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbm9ybWFsKCkge3JldHVybiB0aGlzLmtoYXR9XHJcbiAgICBwdWJsaWMgZ2V0IGQoKSA6IG51bWJlciB7cmV0dXJuIHRoaXMuY2xvc2VzdFBvaW50KFZlY3RvcjMuemVybygpKVsxXX1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGloYXQodjogVmVjdG9yMykgICB7IHRoaXMuX21hdHJpeC5zZXRSb3coMCwgW3YueCwgdi55LCB2LnosIDBdKTt9XHJcbiAgICBwdWJsaWMgc2V0IGpoYXQodjogVmVjdG9yMykgICB7IHRoaXMuX21hdHJpeC5zZXRSb3coMSwgW3YueCwgdi55LCB2LnosIDBdKTt9XHJcbiAgICBwdWJsaWMgc2V0IGtoYXQodjogVmVjdG9yMykgICB7IHRoaXMuX21hdHJpeC5zZXRSb3coMiwgW3YueCwgdi55LCB2LnosIDBdKTt9XHJcbiAgICBwdWJsaWMgc2V0IGNlbnRlcih2OiBWZWN0b3IzKSB7IHRoaXMuX21hdHJpeC5zZXRSb3coMywgW3YueCwgdi55LCB2LnosIDFdKTt9XHJcbiAgICBwdWJsaWMgc2V0IG1hdHJpeChtOiBNYXRyaXg0KSB7IHRoaXMuX21hdHJpeCA9IG07fVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaW52ZXJzZSgpIHtyZXR1cm4gdGhpcy5fbWF0cml4LmludmVyc2UoKX1cclxuXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBsYW5lKHRoaXMuX21hdHJpeC5jbG9uZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm0obTogTWF0cml4NCkgOiBQbGFuZSB7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5KG0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVUbyhvcmlnaW46IFZlY3RvcjMpIHtcclxuICAgICAgICB0aGlzLmNlbnRlciA9IG9yaWdpbjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBOT1RFOiBwdWxsaW5nIGlzIGluZWZmaWNpZW50IHNpbmNlIGkgZG8gbm90IGNhY2hlIHRoZSBpbnZlcnNlLlxyXG4gICAgcHVsbFRvUGxhbmUocDogVmVjdG9yMykgOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnZlcnNlLm11bHRpcGx5VmVjdG9yKHApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1c2hUb1dvcmxkKHA6IFZlY3RvcjMpIDogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4Lm11bHRpcGx5VmVjdG9yKHApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3Nlc3RQb2ludChwOiBWZWN0b3IzKSA6IFtWZWN0b3IzLCBudW1iZXJdIHtcclxuICAgICAgICBsZXQgcHVsbGVkID0gdGhpcy5wdWxsVG9QbGFuZShwKTtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBwdWxsZWQuejtcclxuICAgICAgICBwdWxsZWQueiA9IDA7XHJcbiAgICAgICAgbGV0IHZlYyA9IHRoaXMucHVzaFRvV29ybGQocHVsbGVkKTtcclxuICAgICAgICByZXR1cm4gW3ZlYywgZGlzdGFuY2VdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNsb3Nlc3RQb2ludChwOiBWZWN0b3IzKSA6IFtWZWN0b3IzLCBudW1iZXJdIHtcclxuICAgIC8vICAgICAvLyBwcm9qZWN0IGEgcG9pbnQgdG8gdGhlIHBsYW5lIHVzaW5nIHRoZSBzaG9ydGVzdCBkaXN0YW5jZVxyXG4gICAgLy8gICAgIC8vIE5PVEU6IHRoaXMgbWV0aG9kIGlzIGEgc29ydCBvZiBoYWxmIGludmVyc2UgbWF0cml4IGFwcHJvYWNoLiBcclxuICAgIC8vICAgICAvLyAgICAgICB1c2luZyB0aGUgaW52ZXJzZSBvZiB0aGUgcGxhbmUgbWF0cml4IG1pZ2h0IGp1c3QgYmUgZWFzaWVyLlxyXG4gICAgLy8gICAgIGxldCBbYSxiLGMsZF0gPSB0aGlzLmdldFBsYW5lUGFyYW1zKCk7XHJcbiAgICAvLyAgICAgbGV0IG5vcm1hbGl6ZXIgPSAoKGEqKjIgKyBiKioyICsgYyoqMikqKjAuNSk7XHJcbiAgICAvLyAgICAgbGV0IHNpZ25lZF9kaXN0YW5jZSA9IGEqcC54ICsgYipwLnkgKyBjKnAueiArIGQgLyBub3JtYWxpemVyO1xyXG5cclxuICAgIC8vICAgICBsZXQgdnggPSAoYSAvIG5vcm1hbGl6ZXIpICogLXNpZ25lZF9kaXN0YW5jZTtcclxuICAgIC8vICAgICBsZXQgdnkgPSAoYiAvIG5vcm1hbGl6ZXIpICogLXNpZ25lZF9kaXN0YW5jZTtcclxuICAgIC8vICAgICBsZXQgdnogPSAoYyAvIG5vcm1hbGl6ZXIpICogLXNpZ25lZF9kaXN0YW5jZTtcclxuXHJcbiAgICAvLyAgICAgbGV0IHZlYyA9IHAuY2xvbmUoKS5hZGQobmV3IFZlY3RvcjModngsIHZ5LCB2eikpO1xyXG4gICAgLy8gICAgIHJldHVybiBbdmVjLCBzaWduZWRfZGlzdGFuY2VdXHJcbiAgICAvLyB9XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/plane.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _render_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render/renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core */ \"./src/core.ts\");\n/* harmony import */ var _app_shapes_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/shapes-app */ \"./src/app/shapes-app.ts\");\n// Author: Jos Feenstra\r\n// Purpose: Entry point\r\n\r\n\r\n\r\nconst REALTIME_DEMO = false;\r\nvar core;\r\nfunction main() {\r\n    // get references of all items on the canvas\r\n    let canvas = document.getElementById(\"canvas\");\r\n    let video = document.getElementById(\"camera\");\r\n    let ui = document.getElementById(\"interface\");\r\n    let cameraOn = document.getElementById(\"camera-on\");\r\n    let cameraStop = document.getElementById(\"camera-off\");\r\n    let buttonPredict = document.getElementById(\"predict\");\r\n    let gl = _render_renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer.initWebglContext(canvas);\r\n    core = new _core__WEBPACK_IMPORTED_MODULE_1__.Core(canvas, gl, ui);\r\n    // the eyefinder app itself\r\n    // core.addApp(new StatApp(gl, canvas));\r\n    // core.addApp(new EyeFinderApp(gl, canvas, ui));\r\n    // fun demo's to test various functionalities \r\n    // core.addApp(new GeometryApp(gl, canvas));\r\n    core.addApp(new _app_shapes_app__WEBPACK_IMPORTED_MODULE_2__.ShapesApp(gl, canvas));\r\n    // core.addApp(new RectangleApp(gl)); \r\n    // core.addApp(new DotApp3(gl, canvas)); \r\n    // core.addApp(new ObjLoaderApp(gl, canvas));\r\n    // addWebcamAppWhenReady(core, canvas, video);\r\n    // infinite loop\r\n    function loop() {\r\n        if (core.STOP) {\r\n            // TODO : notify the User that we have stopped running...\r\n            return;\r\n        }\r\n        core.update();\r\n        core.draw();\r\n        requestAnimationFrame(loop);\r\n    }\r\n    // loop();\r\n    requestAnimationFrame(loop);\r\n}\r\n// __main__ \r\nwindow.addEventListener(\"load\", function () {\r\n    main();\r\n}, false);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL2luZGV4LnRzP2ZmYjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVCQUF1QjtBQUN2Qix1QkFBdUI7QUFNc0I7QUFJZjtBQUllO0FBRTdDLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQztBQUM1QixJQUFJLElBQVUsQ0FBQztBQUVmLFNBQVMsSUFBSTtJQUVULDRDQUE0QztJQUM1QyxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBdUIsQ0FBQztJQUNyRSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBc0IsQ0FBQztJQUNuRSxJQUFJLEVBQUUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBb0IsQ0FBQztJQUNqRSxJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBdUIsQ0FBQztJQUMxRSxJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBdUIsQ0FBQztJQUM3RSxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBdUIsQ0FBQztJQUU3RSxJQUFJLEVBQUUsR0FBRyx1RUFBeUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxJQUFJLEdBQUcsSUFBSSx1Q0FBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFaEMsMkJBQTJCO0lBQzNCLHdDQUF3QztJQUN4QyxpREFBaUQ7SUFFakQsOENBQThDO0lBQzlDLDRDQUE0QztJQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksc0RBQVMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2QyxzQ0FBc0M7SUFDdEMseUNBQXlDO0lBQ3pDLDZDQUE2QztJQUM3Qyw4Q0FBOEM7SUFFOUMsZ0JBQWdCO0lBQ2hCLFNBQVMsSUFBSTtRQUNULElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNYLHlEQUF5RDtZQUN6RCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBQ0QsVUFBVTtJQUNWLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2hDLENBQUM7QUFFRCxZQUFZO0FBQ1osTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtJQUM1QixJQUFJLEVBQUUsQ0FBQztBQUNYLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyIsImZpbGUiOiIuL3NyYy9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhvcjogSm9zIEZlZW5zdHJhXHJcbi8vIFB1cnBvc2U6IEVudHJ5IHBvaW50XHJcblxyXG5pbXBvcnQge2FkZFdlYmNhbUFwcFdoZW5SZWFkeSwgV2ViY2FtQXBwfSBmcm9tIFwiLi9hcHAvd2ViY2FtLWFwcFwiO1xyXG5pbXBvcnQge0V5ZUZpbmRlckFwcH0gZnJvbSBcIi4vc2ZlcmVkL2V5ZS1maW5kZXItYXBwXCI7XHJcbmltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi9zeXN0ZW0vaW5wdXQtc3RhdGVcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwL2FwcFwiO1xyXG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gXCIuL3JlbmRlci9yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBEb3RBcHAyIH0gZnJvbSBcIi4vYXBwLWRlbW9zL2RvdC1hcHAyXCI7XHJcbmltcG9ydCB7IERvdEFwcDMgfSBmcm9tIFwiLi9hcHAtZGVtb3MvZG90LWFwcDNcIjtcclxuaW1wb3J0IHsgT2JqTG9hZGVyQXBwIH0gZnJvbSBcIi4vYXBwL29iai1sb2FkZXItYXBwXCI7XHJcbmltcG9ydCB7IENvcmUgfSBmcm9tIFwiLi9jb3JlXCI7XHJcbmltcG9ydCB7IFN0YXRBcHAgfSBmcm9tIFwiLi9hcHAvc3RhdC1hcHBcIjtcclxuaW1wb3J0IHsgR2VvbWV0cnlBcHAgfSBmcm9tIFwiLi9hcHAvZ2VvbWV0cnktYXBwXCI7XHJcbmltcG9ydCB7IE1hcmNoaW5nQ3ViZUFwcCB9IGZyb20gXCIuL2FwcC9tYXJjaGluZy1jdWJlLWFwcFwiO1xyXG5pbXBvcnQgeyBTaGFwZXNBcHAgfSBmcm9tIFwiLi9hcHAvc2hhcGVzLWFwcFwiO1xyXG5cclxuY29uc3QgUkVBTFRJTUVfREVNTyA9IGZhbHNlO1xyXG52YXIgY29yZTogQ29yZTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcblxyXG4gICAgLy8gZ2V0IHJlZmVyZW5jZXMgb2YgYWxsIGl0ZW1zIG9uIHRoZSBjYW52YXNcclxuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSEgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBsZXQgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYVwiKSEgYXMgSFRNTFZpZGVvRWxlbWVudDtcclxuICAgIGxldCB1aSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW50ZXJmYWNlXCIpICBhcyBIVE1MRGl2RWxlbWVudDtcclxuICAgIGxldCBjYW1lcmFPbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FtZXJhLW9uXCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIGxldCBjYW1lcmFTdG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmEtb2ZmXCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIGxldCBidXR0b25QcmVkaWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmVkaWN0XCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIFxyXG4gICAgbGV0IGdsID0gUmVuZGVyZXIuaW5pdFdlYmdsQ29udGV4dChjYW52YXMpO1xyXG4gICAgY29yZSA9IG5ldyBDb3JlKGNhbnZhcywgZ2wsIHVpKTtcclxuXHJcbiAgICAvLyB0aGUgZXllZmluZGVyIGFwcCBpdHNlbGZcclxuICAgIC8vIGNvcmUuYWRkQXBwKG5ldyBTdGF0QXBwKGdsLCBjYW52YXMpKTtcclxuICAgIC8vIGNvcmUuYWRkQXBwKG5ldyBFeWVGaW5kZXJBcHAoZ2wsIGNhbnZhcywgdWkpKTtcclxuICAgIFxyXG4gICAgLy8gZnVuIGRlbW8ncyB0byB0ZXN0IHZhcmlvdXMgZnVuY3Rpb25hbGl0aWVzIFxyXG4gICAgLy8gY29yZS5hZGRBcHAobmV3IEdlb21ldHJ5QXBwKGdsLCBjYW52YXMpKTtcclxuICAgIGNvcmUuYWRkQXBwKG5ldyBTaGFwZXNBcHAoZ2wsIGNhbnZhcykpO1xyXG4gICAgLy8gY29yZS5hZGRBcHAobmV3IFJlY3RhbmdsZUFwcChnbCkpOyBcclxuICAgIC8vIGNvcmUuYWRkQXBwKG5ldyBEb3RBcHAzKGdsLCBjYW52YXMpKTsgXHJcbiAgICAvLyBjb3JlLmFkZEFwcChuZXcgT2JqTG9hZGVyQXBwKGdsLCBjYW52YXMpKTtcclxuICAgIC8vIGFkZFdlYmNhbUFwcFdoZW5SZWFkeShjb3JlLCBjYW52YXMsIHZpZGVvKTtcclxuXHJcbiAgICAvLyBpbmZpbml0ZSBsb29wXHJcbiAgICBmdW5jdGlvbiBsb29wKCkge1xyXG4gICAgICAgIGlmIChjb3JlLlNUT1ApIHtcclxuICAgICAgICAgICAgLy8gVE9ETyA6IG5vdGlmeSB0aGUgVXNlciB0aGF0IHdlIGhhdmUgc3RvcHBlZCBydW5uaW5nLi4uXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29yZS51cGRhdGUoKTtcclxuICAgICAgICBjb3JlLmRyYXcoKTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICB9XHJcbiAgICAvLyBsb29wKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbn1cclxuXHJcbi8vIF9fbWFpbl9fIFxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBtYWluKCk7XHJcbn0sIGZhbHNlKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/math/const.ts":
/*!***************************!*\
  !*** ./src/math/const.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Const\": () => /* binding */ Const\n/* harmony export */ });\n// name:    const.ts\r\n// author:  Jos Feenstra\r\n// purpose: Certain math constances\r\n// todo:    These are somewhat like the settings of the entire application. This could be expanded upon (json's, in-app functionalitiy)\r\nclass Const {\r\n    static IsRouglyZero(value) {\r\n        return Math.abs(value) < this.TOLERANCE;\r\n    }\r\n}\r\nConst.TOLERANCE = 0.0001; // tolerance used for determining if 1 value is the same as some other value, relatively speaking\r\nConst.TOL_SQUARED = Math.pow(Const.TOLERANCE, 2);\r\n// ----- Line Render Settings ----- \r\nConst.PLANE_RENDER_LINECOUNT = 9;\r\nConst.PLANE_RENDER_LINEDISTANCE = .3;\r\nConst.CIRCLE_SEGMENTS = 100;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvY29uc3QudHM/ZjY0MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdCQUF3QjtBQUN4QixtQ0FBbUM7QUFDbkMsdUlBQXVJO0FBRWhJLE1BQU0sS0FBSztJQVdkLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBYTtRQUM3QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUM1QyxDQUFDOztBQVpNLGVBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQyxpR0FBaUc7QUFDckgsaUJBQVcsR0FBRyxjQUFLLENBQUMsU0FBUyxFQUFJLENBQUMsRUFBQztBQUUxQyxvQ0FBb0M7QUFDN0IsNEJBQXNCLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLCtCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUUvQixxQkFBZSxHQUFHLEdBQUcsQ0FBQyIsImZpbGUiOiIuL3NyYy9tYXRoL2NvbnN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgY29uc3QudHNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IENlcnRhaW4gbWF0aCBjb25zdGFuY2VzXHJcbi8vIHRvZG86ICAgIFRoZXNlIGFyZSBzb21ld2hhdCBsaWtlIHRoZSBzZXR0aW5ncyBvZiB0aGUgZW50aXJlIGFwcGxpY2F0aW9uLiBUaGlzIGNvdWxkIGJlIGV4cGFuZGVkIHVwb24gKGpzb24ncywgaW4tYXBwIGZ1bmN0aW9uYWxpdGl5KVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbnN0IHtcclxuICAgIHN0YXRpYyBUT0xFUkFOQ0UgPSAwLjAwMDE7IC8vIHRvbGVyYW5jZSB1c2VkIGZvciBkZXRlcm1pbmluZyBpZiAxIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHNvbWUgb3RoZXIgdmFsdWUsIHJlbGF0aXZlbHkgc3BlYWtpbmdcclxuICAgIHN0YXRpYyBUT0xfU1FVQVJFRCA9IENvbnN0LlRPTEVSQU5DRSAqKiAyO1xyXG5cclxuICAgIC8vIC0tLS0tIExpbmUgUmVuZGVyIFNldHRpbmdzIC0tLS0tIFxyXG4gICAgc3RhdGljIFBMQU5FX1JFTkRFUl9MSU5FQ09VTlQgPSA5O1xyXG4gICAgc3RhdGljIFBMQU5FX1JFTkRFUl9MSU5FRElTVEFOQ0UgPSAuMztcclxuXHJcbiAgICBzdGF0aWMgQ0lSQ0xFX1NFR01FTlRTID0gMTAwO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgSXNSb3VnbHlaZXJvKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5hYnModmFsdWUpIDwgdGhpcy5UT0xFUkFOQ0U7XHJcbiAgICB9XHJcbn0gXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/const.ts\n");

/***/ }),

/***/ "./src/math/domain.ts":
/*!****************************!*\
  !*** ./src/math/domain.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Domain\": () => /* binding */ Domain,\n/* harmony export */   \"Domain2\": () => /* binding */ Domain2,\n/* harmony export */   \"Domain3\": () => /* binding */ Domain3\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./src/math/vector.ts\");\n// domain.ts\r\n// \r\n// author: Jos Feenstra\r\n// purpose: general representation of a domain / range / bound of numbers\r\n//          \r\n\r\n\r\nclass Domain {\r\n    constructor(t0 = 0.0, t1 = 1.0) {\r\n        // if (t0 > t1) console.error(\"created a domain with negative size.\");\r\n        // if (t0 == t1) console.warn(\"created a domain with size is 0.0. could cause problems\");\r\n        this.t0 = t0;\r\n        this.t1 = t1;\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain(-r, r);\r\n    }\r\n    static fromInclude(data) {\r\n        // create a new domain which bounds all parsed values\r\n        let min = Number.MAX_VALUE;\r\n        let max = Number.MIN_VALUE;\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (data[i] < min)\r\n                min = data[i];\r\n            if (data[i] > max)\r\n                max = data[i];\r\n        }\r\n        return new Domain(min, max);\r\n    }\r\n    offset(t0Offset, t1Offset) {\r\n        this.t0 += t0Offset;\r\n        this.t1 += t1Offset;\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return value >= this.t0 && value <= this.t1;\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return this.t1 - this.t0;\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return (value - this.t0) / this.size();\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return t * this.size() + this.t0;\r\n    }\r\n    remap(value, other = new Domain()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    *iter(count) {\r\n        // iterate over this Domain 'count' number of times \r\n        let step = this.size() / count;\r\n        for (let i = this.t0; i < this.t1; i += step) {\r\n            yield i;\r\n        }\r\n    }\r\n    *iterStep(step) {\r\n        // iterate over this domain with a stepsize of 'step'\r\n        for (let i = this.t0; i < this.t1; i += step) {\r\n            yield i;\r\n        }\r\n    }\r\n    // comform a number to the bound\r\n    comform(value) {\r\n        if (value < this.t0) {\r\n            return this.t0;\r\n        }\r\n        else if (value > this.t1) {\r\n            return this.t1;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n}\r\nclass Domain2 {\r\n    constructor(x = new Domain(), y = new Domain()) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain2(Domain.fromRadius(r), Domain.fromRadius(r));\r\n    }\r\n    static fromBounds(x0, x1, y0, y1) {\r\n        return new Domain2(new Domain(x0, x1), new Domain(y0, y1));\r\n    }\r\n    static fromInclude(data) {\r\n        // note : could be quicker by going verbose, this now iterates over data 4 times\r\n        return new Domain2(Domain.fromInclude(data.getColumn(0)), Domain.fromInclude(data.getColumn(1)));\r\n    }\r\n    offset(xXyYoffset) {\r\n        let off = xXyYoffset;\r\n        if (off.length != 4)\r\n            throw \"need 4 values\";\r\n        this.x.offset(off[0], off[1]);\r\n        this.y.offset(off[2], off[3]);\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return this.x.includes(value.x) && this.y.includes(value.y);\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.size(), this.y.size());\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.normalize(value.x), this.y.normalize(value.y));\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.elevate(t.x), this.y.elevate(t.y));\r\n    }\r\n    remap(value, other = new Domain2()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    corners() {\r\n        // render the extends of this boundary / domain\r\n        let dim = 2;\r\n        let corners = Math.pow(2, dim);\r\n        let data = [];\r\n        for (let x of [this.x.t0, this.x.t1]) {\r\n            for (let y of [this.y.t0, this.y.t1]) {\r\n                data.push(new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(x, y));\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\nclass Domain3 {\r\n    constructor(x = new Domain(), y = new Domain(), z = new Domain()) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    static fromBounds(x0, x1, y0, y1, z0, z1) {\r\n        return new Domain3(new Domain(x0, x1), new Domain(y0, y1), new Domain(z0, z1));\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain3(Domain.fromRadius(r), Domain.fromRadius(r), Domain.fromRadius(r));\r\n    }\r\n    static fromRadii(rx, ry, rz) {\r\n        return new Domain3(Domain.fromRadius(rx), Domain.fromRadius(ry), Domain.fromRadius(rz));\r\n    }\r\n    static fromInclude(data) {\r\n        // note : could be quicker by going verbose, this now iterates over data 6 times\r\n        return new Domain3(Domain.fromInclude(data.getColumn(0)), Domain.fromInclude(data.getColumn(1)), Domain.fromInclude(data.getColumn(2)));\r\n    }\r\n    offset(xXyYoffset) {\r\n        let off = xXyYoffset;\r\n        if (off.length != 6)\r\n            throw \"need 6 values\";\r\n        this.x.offset(off[0], off[1]);\r\n        this.y.offset(off[2], off[3]);\r\n        this.z.offset(off[4], off[5]);\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return this.x.includes(value.x) && this.y.includes(value.y) && this.z.includes(value.z);\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.size(), this.y.size(), this.z.size());\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.normalize(value.x), this.y.normalize(value.y), this.z.normalize(value.z));\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.elevate(t.x), this.y.elevate(t.y), this.z.elevate(t.z));\r\n    }\r\n    remap(value, other = new Domain3()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    remapAll(values, other = new Domain3()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let newValues = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(values.count());\r\n        for (let i = 0; i < values.count(); i++) {\r\n            let norm = this.normalize(values.getVector(i));\r\n            newValues.setVector(i, other.elevate(norm));\r\n        }\r\n        return newValues;\r\n    }\r\n    corners(matrix) {\r\n        // render the extends of this boundary / domain\r\n        let dim = 3;\r\n        let corners = 2 ^ dim;\r\n        let data = [];\r\n        for (let x of [this.x.t0, this.x.t1]) {\r\n            for (let y of [this.y.t0, this.y.t1]) {\r\n                for (let z of [this.z.t0, this.z.t1]) {\r\n                    data.push(matrix.multiplyVector(new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(x, y, z)));\r\n                }\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvZG9tYWluLnRzPzhhMDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxZQUFZO0FBQ1osR0FBRztBQUNILHVCQUF1QjtBQUN2Qix5RUFBeUU7QUFDekUsWUFBWTtBQUdzRDtBQUV0QjtBQUVyQyxNQUFNLE1BQU07SUFPZixZQUFZLEtBQWEsR0FBRyxFQUFFLEtBQWEsR0FBRztRQUMxQyxzRUFBc0U7UUFDdEUseUZBQXlGO1FBQ3pGLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBUztRQUN2QixPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQWtCO1FBQ2pDLHFEQUFxRDtRQUNyRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzNCLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFFM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRztnQkFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUc7Z0JBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNyQjtRQUNELE9BQU8sSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBZ0IsRUFBRSxR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Ly8gZG9tYWluLnRzXHJcbi8vIFxyXG4vLyBhdXRob3I6IEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlOiBnZW5lcmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgZG9tYWluIC8gcmFuZ2UgLyBib3VuZCBvZiBudW1iZXJzXHJcbi8vICAgICAgICAgIFxyXG5cclxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcclxuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuL21hdHJpeFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSBcIi4vdmVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRG9tYWluIHtcclxuXHJcbiAgICAvLyBub3RlOiBpbmNsdWRpbmcgdDAsIGluY2x1ZGluZyB0MVxyXG5cclxuICAgIHQwOiBudW1iZXI7XHJcbiAgICB0MTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHQwOiBudW1iZXIgPSAwLjAsIHQxOiBudW1iZXIgPSAxLjApIHtcclxuICAgICAgICAvLyBpZiAodDAgPiB0MSkgY29uc29sZS5lcnJvcihcImNyZWF0ZWQgYSBkb21haW4gd2l0aCBuZWdhdGl2ZSBzaXplLlwiKTtcclxuICAgICAgICAvLyBpZiAodDAgPT0gdDEpIGNvbnNvbGUud2FybihcImNyZWF0ZWQgYSBkb21haW4gd2l0aCBzaXplIGlzIDAuMC4gY291bGQgY2F1c2UgcHJvYmxlbXNcIik7XHJcbiAgICAgICAgdGhpcy50MCA9IHQwO1xyXG4gICAgICAgIHRoaXMudDEgPSB0MTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgc3RhdGljIGZyb21SYWRpdXMocjogbnVtYmVyKSA6IERvbWFpbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEb21haW4oLXIsIHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tSW5jbHVkZShkYXRhOiBGbG9hdDMyQXJyYXkpIDogRG9tYWlue1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBkb21haW4gd2hpY2ggYm91bmRzIGFsbCBwYXJzZWQgdmFsdWVzXHJcbiAgICAgICAgbGV0IG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgbGV0IG1heCA9IE51bWJlci5NSU5fVkFMVUU7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFbaV0gPCBtaW4pXHJcbiAgICAgICAgICAgICAgICBtaW4gPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVtpXSA+IG1heClcclxuICAgICAgICAgICAgICAgIG1heCA9IGRhdGFbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluKG1pbiwgbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBvZmZzZXQodDBPZmZzZXQ6IG51bWJlciwgdDFPZmZzZXQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudDAgKz0gdDBPZmZzZXQ7XHJcbiAgICAgICAgdGhpcy50MSArPSB0MU9mZnNldDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpbmNsdWRlcyh2YWx1ZTogbnVtYmVyKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIG5vdGU6IGluY2x1ZGluZyB0MCwgaW5jbHVkaW5nIHQxXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IHRoaXMudDAgJiYgdmFsdWUgPD0gdGhpcy50MTtcclxuICAgIH1cclxuXHJcbiAgICBzaXplKCkgOiBudW1iZXIge1xyXG4gICAgICAgIC8vIHRoZSBzaXplIG9yIGxlbmd0aCBvZiB0aGlzIGRvbWFpblxyXG4gICAgICAgIHJldHVybiB0aGlzLnQxIC0gdGhpcy50MDtcclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemUodmFsdWU6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhIHBhcmFtZXRlclxyXG4gICAgICAgIHJldHVybiAodmFsdWUgLSB0aGlzLnQwKSAvIHRoaXMuc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZXZhdGUodDogbnVtYmVyKSA6IG51bWJlciB7XHJcbiAgICAgICAgLy8gZWxldmF0ZSBhIG5vcm1hbGl6ZWQgcGFyYW1ldGVyIHRvIHRoZSBwYXJhbWV0ZXIgc3BhY2Ugb2YgdGhpcyBkb21haW5cclxuICAgICAgICByZXR1cm4gdCAqIHRoaXMuc2l6ZSgpICsgdGhpcy50MFxyXG4gICAgfVxyXG5cclxuICAgIHJlbWFwKHZhbHVlOiBudW1iZXIsIG90aGVyOiBEb21haW4gPSBuZXcgRG9tYWluKCkpIDogbnVtYmVyIHtcclxuICAgICAgICAvLyBub3JtYWxpemUgYSB2YWx1ZSwgdGhlbiBlbGV2YXRlIGl0IHRvIGEgbmV3IGRvbWFpblxyXG4gICAgICAgIGxldCBub3JtID0gdGhpcy5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBvdGhlci5lbGV2YXRlKG5vcm0pO1xyXG4gICAgfVxyXG5cclxuICAgICppdGVyKGNvdW50OiBudW1iZXIpIDogR2VuZXJhdG9yPG51bWJlcj4ge1xyXG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGlzIERvbWFpbiAnY291bnQnIG51bWJlciBvZiB0aW1lcyBcclxuICAgICAgICBsZXQgc3RlcCA9IHRoaXMuc2l6ZSgpIC8gY291bnQ7IFxyXG4gICAgICAgIGZvcihsZXQgaSA9IHRoaXMudDA7IGkgPCB0aGlzLnQxOyBpICs9IHN0ZXApIHtcclxuICAgICAgICAgICAgeWllbGQgaTtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAqaXRlclN0ZXAoc3RlcDogbnVtYmVyKSA6IEdlbmVyYXRvcjxudW1iZXI+IHtcclxuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhpcyBkb21haW4gd2l0aCBhIHN0ZXBzaXplIG9mICdzdGVwJ1xyXG4gICAgICAgIGZvcihsZXQgaSA9IHRoaXMudDA7IGkgPCB0aGlzLnQxOyBpICs9IHN0ZXApIHtcclxuICAgICAgICAgICAgeWllbGQgaTtcclxuICAgICAgICB9ICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNvbWZvcm0gYSBudW1iZXIgdG8gdGhlIGJvdW5kXHJcbiAgICBjb21mb3JtKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLnQwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiB0aGlzLnQxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQxXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvbWFpbjIge1xyXG5cclxuICAgIC8vIDJEIGRvbWFpbi4gbG9naWMgY2FzY2FkZXMgZG93biB0byB0aGUgMSBkaW1lbnRpb25hbCBEb21haW4uIFxyXG5cclxuICAgIHg6IERvbWFpbjtcclxuICAgIHk6IERvbWFpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBEb21haW4gPSBuZXcgRG9tYWluKCksIHk6IERvbWFpbiA9IG5ldyBEb21haW4oKSkge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbVJhZGl1cyhyOiBudW1iZXIpIDogRG9tYWluMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEb21haW4yKERvbWFpbi5mcm9tUmFkaXVzKHIpLCBEb21haW4uZnJvbVJhZGl1cyhyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21Cb3VuZHMoeDA6IG51bWJlciwgeDE6IG51bWJlciwgeTA6IG51bWJlciwgeTE6IG51bWJlcikgOiBEb21haW4yIHtcclxuICAgICAgICByZXR1cm4gbmV3IERvbWFpbjIobmV3IERvbWFpbih4MCwgeDEpLCBuZXcgRG9tYWluKHkwLCB5MSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tSW5jbHVkZShkYXRhOiBWZWN0b3IyQXJyYXkgfCBGbG9hdE1hdHJpeCkgOiBEb21haW4yIHtcclxuICAgICAgICAvLyBub3RlIDogY291bGQgYmUgcXVpY2tlciBieSBnb2luZyB2ZXJib3NlLCB0aGlzIG5vdyBpdGVyYXRlcyBvdmVyIGRhdGEgNCB0aW1lc1xyXG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMihcclxuICAgICAgICAgICAgRG9tYWluLmZyb21JbmNsdWRlKGRhdGEuZ2V0Q29sdW1uKDApKSxcclxuICAgICAgICAgICAgRG9tYWluLmZyb21JbmNsdWRlKGRhdGEuZ2V0Q29sdW1uKDEpKSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIG9mZnNldCh4WHlZb2Zmc2V0OiBudW1iZXJbXSkge1xyXG4gICAgICAgIGxldCBvZmYgPSB4WHlZb2Zmc2V0XHJcbiAgICAgICAgaWYgKG9mZi5sZW5ndGggIT0gNCkgdGhyb3cgXCJuZWVkIDQgdmFsdWVzXCI7XHJcblxyXG4gICAgICAgIHRoaXMueC5vZmZzZXQob2ZmWzBdLCBvZmZbMV0pO1xyXG4gICAgICAgIHRoaXMueS5vZmZzZXQob2ZmWzJdLCBvZmZbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGluY2x1ZGVzKHZhbHVlOiBWZWN0b3IyKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIG5vdGU6IGluY2x1ZGluZyB0MCwgaW5jbHVkaW5nIHQxXHJcbiAgICAgICAgcmV0dXJuIHRoaXMueC5pbmNsdWRlcyh2YWx1ZS54KSAmJiB0aGlzLnkuaW5jbHVkZXModmFsdWUueSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2l6ZSgpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gdGhlIHNpemUgb3IgbGVuZ3RoIG9mIHRoaXMgZG9tYWluXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueC5zaXplKCksIHRoaXMueS5zaXplKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIG5vcm1hbGl6ZSh2YWx1ZTogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICAvLyBub3JtYWxpemUgYSBwYXJhbWV0ZXJcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54Lm5vcm1hbGl6ZSh2YWx1ZS54KSwgdGhpcy55Lm5vcm1hbGl6ZSh2YWx1ZS55KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZWxldmF0ZSh0OiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIC8vIGVsZXZhdGUgYSBub3JtYWxpemVkIHBhcmFtZXRlciB0byB0aGUgcGFyYW1ldGVyIHNwYWNlIG9mIHRoaXMgZG9tYWluXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueC5lbGV2YXRlKHQueCksIHRoaXMueS5lbGV2YXRlKHQueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbWFwKHZhbHVlOiBWZWN0b3IyLCBvdGhlcjogRG9tYWluMiA9IG5ldyBEb21haW4yKCkpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gbm9ybWFsaXplIGEgdmFsdWUsIHRoZW4gZWxldmF0ZSBpdCB0byBhIG5ldyBkb21haW5cclxuICAgICAgICBsZXQgbm9ybSA9IHRoaXMubm9ybWFsaXplKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gb3RoZXIuZWxldmF0ZShub3JtKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29ybmVycygpIDogVmVjdG9yMltdIHtcclxuICAgICAgICAvLyByZW5kZXIgdGhlIGV4dGVuZHMgb2YgdGhpcyBib3VuZGFyeSAvIGRvbWFpblxyXG4gICAgICAgIGxldCBkaW0gPSAyO1xyXG4gICAgICAgIGxldCBjb3JuZXJzID0gMioqZGltO1xyXG4gICAgICAgIGxldCBkYXRhID0gW107XHJcbiAgICAgICAgZm9yKGxldCB4IG9mIFt0aGlzLngudDAsIHRoaXMueC50MV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IobGV0IHkgb2YgW3RoaXMueS50MCwgdGhpcy55LnQxXSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKG5ldyBWZWN0b3IyKHgseSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICppdGVyKGNvdW50WDogbnVtYmVyLCBjb3VudFk6IG51bWJlcikgOiBHZW5lcmF0b3I8VmVjdG9yMiwgdm9pZCwgdW5rbm93bj4ge1xyXG4gICAgLy8gICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGlzIERvbWFpbiAnY291bnQnIG51bWJlciBvZiB0aW1lcyBcclxuICAgIC8vICAgICBmb3IgKGNvbnN0IHkgaW4gdGhpcy55Lml0ZXIoY291bnRZKSkge1xyXG4gICAgLy8gICAgICAgICBmb3IgKGNvbnN0IHggaW4gdGhpcy54Lml0ZXIoY291bnRYKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgLy8geWllbGQgbmV3IFZlY3RvcjIoeCwgeSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gKml0ZXJTdGVwKHNpemVYOiBudW1iZXIsIHNpemVZOiBudW1iZXIpIDogR2VuZXJhdG9yPFZlY3RvcjIsIHZvaWQsIHVua25vd24+IHtcclxuICAgIC8vICAgICAvLyBpdGVyYXRlIG92ZXIgdGhpcyBkb21haW4gd2l0aCBhIHN0ZXBzaXplIG9mICdzdGVwJ1xyXG4gICAgLy8gICAgIGZvciAobGV0IHkgaW4gdGhpcy55Lml0ZXJTdGVwKHNpemVZKSkge1xyXG4gICAgLy8gICAgICAgICBmb3IgKGxldCB4IGluIHRoaXMueC5pdGVyU3RlcChzaXplWCkpIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIHlpZWxkIG5ldyBWZWN0b3IyKHgsIHkpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSAgICBcclxuICAgIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvbWFpbjMge1xyXG5cclxuICAgIHg6IERvbWFpbjtcclxuICAgIHk6IERvbWFpbjtcclxuICAgIHo6IERvbWFpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBEb21haW4gPSBuZXcgRG9tYWluKCksIHk6IERvbWFpbiA9IG5ldyBEb21haW4oKSwgejogRG9tYWluID0gbmV3IERvbWFpbigpKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMueiA9IHo7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21Cb3VuZHMoeDA6IG51bWJlciwgeDE6IG51bWJlciwgeTA6IG51bWJlciwgeTE6IG51bWJlciwgejA6IG51bWJlciwgejE6IG51bWJlcikgOiBEb21haW4zIHtcclxuICAgICAgICByZXR1cm4gbmV3IERvbWFpbjMobmV3IERvbWFpbih4MCwgeDEpLCBuZXcgRG9tYWluKHkwLCB5MSksIG5ldyBEb21haW4oejAsIHoxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21SYWRpdXMocjogbnVtYmVyKSA6IERvbWFpbjMge1xyXG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMyhEb21haW4uZnJvbVJhZGl1cyhyKSwgRG9tYWluLmZyb21SYWRpdXMociksIERvbWFpbi5mcm9tUmFkaXVzKHIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbVJhZGlpKHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIsIHJ6OiBudW1iZXIpIDogRG9tYWluMyB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEb21haW4zKFxyXG4gICAgICAgICAgICBEb21haW4uZnJvbVJhZGl1cyhyeCksIFxyXG4gICAgICAgICAgICBEb21haW4uZnJvbVJhZGl1cyhyeSksIFxyXG4gICAgICAgICAgICBEb21haW4uZnJvbVJhZGl1cyhyeilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tSW5jbHVkZShkYXRhOiBWZWN0b3IzQXJyYXkpIDogRG9tYWluMyB7XHJcbiAgICAgICAgLy8gbm90ZSA6IGNvdWxkIGJlIHF1aWNrZXIgYnkgZ29pbmcgdmVyYm9zZSwgdGhpcyBub3cgaXRlcmF0ZXMgb3ZlciBkYXRhIDYgdGltZXNcclxuICAgICAgICByZXR1cm4gbmV3IERvbWFpbjMoXHJcbiAgICAgICAgICAgIERvbWFpbi5mcm9tSW5jbHVkZShkYXRhLmdldENvbHVtbigwKSksXHJcbiAgICAgICAgICAgIERvbWFpbi5mcm9tSW5jbHVkZShkYXRhLmdldENvbHVtbigxKSksXHJcbiAgICAgICAgICAgIERvbWFpbi5mcm9tSW5jbHVkZShkYXRhLmdldENvbHVtbigyKSksXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBvZmZzZXQoeFh5WW9mZnNldDogbnVtYmVyW10pIHtcclxuICAgICAgICBsZXQgb2ZmID0geFh5WW9mZnNldFxyXG4gICAgICAgIGlmIChvZmYubGVuZ3RoICE9IDYpIHRocm93IFwibmVlZCA2IHZhbHVlc1wiO1xyXG5cclxuICAgICAgICB0aGlzLngub2Zmc2V0KG9mZlswXSwgb2ZmWzFdKTtcclxuICAgICAgICB0aGlzLnkub2Zmc2V0KG9mZlsyXSwgb2ZmWzNdKTtcclxuICAgICAgICB0aGlzLnoub2Zmc2V0KG9mZls0XSwgb2ZmWzVdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpbmNsdWRlcyh2YWx1ZTogVmVjdG9yMykgOiBib29sZWFuIHtcclxuICAgICAgICAvLyBub3RlOiBpbmNsdWRpbmcgdDAsIGluY2x1ZGluZyB0MVxyXG4gICAgICAgIHJldHVybiB0aGlzLnguaW5jbHVkZXModmFsdWUueCkgJiYgdGhpcy55LmluY2x1ZGVzKHZhbHVlLnkpICYmIHRoaXMuei5pbmNsdWRlcyh2YWx1ZS56KTtcclxuICAgIH1cclxuXHJcbiAgICBzaXplKCkgOiBWZWN0b3IzIHtcclxuICAgICAgICAvLyB0aGUgc2l6ZSBvciBsZW5ndGggb2YgdGhpcyBkb21haW5cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54LnNpemUoKSwgdGhpcy55LnNpemUoKSwgdGhpcy56LnNpemUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbm9ybWFsaXplKHZhbHVlOiBWZWN0b3IzKSA6IFZlY3RvcjMge1xyXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhIHBhcmFtZXRlclxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLngubm9ybWFsaXplKHZhbHVlLngpLCB0aGlzLnkubm9ybWFsaXplKHZhbHVlLnkpLCB0aGlzLnoubm9ybWFsaXplKHZhbHVlLnopKTtcclxuICAgIH1cclxuXHJcbiAgICBlbGV2YXRlKHQ6IFZlY3RvcjMpIDogVmVjdG9yMyB7XHJcbiAgICAgICAgLy8gZWxldmF0ZSBhIG5vcm1hbGl6ZWQgcGFyYW1ldGVyIHRvIHRoZSBwYXJhbWV0ZXIgc3BhY2Ugb2YgdGhpcyBkb21haW5cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54LmVsZXZhdGUodC54KSwgdGhpcy55LmVsZXZhdGUodC55KSwgdGhpcy56LmVsZXZhdGUodC56KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtYXAodmFsdWU6IFZlY3RvcjMsIG90aGVyOiBEb21haW4zID0gbmV3IERvbWFpbjMoKSkgOiBWZWN0b3IzIHtcclxuICAgICAgICAvLyBub3JtYWxpemUgYSB2YWx1ZSwgdGhlbiBlbGV2YXRlIGl0IHRvIGEgbmV3IGRvbWFpblxyXG4gICAgICAgIGxldCBub3JtID0gdGhpcy5ub3JtYWxpemUodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBvdGhlci5lbGV2YXRlKG5vcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbWFwQWxsKHZhbHVlczogVmVjdG9yM0FycmF5LCBvdGhlcjogRG9tYWluMyA9IG5ldyBEb21haW4zKCkpIDogVmVjdG9yM0FycmF5IHtcclxuICAgICAgICAvLyBub3JtYWxpemUgYSB2YWx1ZSwgdGhlbiBlbGV2YXRlIGl0IHRvIGEgbmV3IGRvbWFpblxyXG4gICAgICAgIGxldCBuZXdWYWx1ZXMgPSBuZXcgVmVjdG9yM0FycmF5KHZhbHVlcy5jb3VudCgpKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHZhbHVlcy5jb3VudCgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5vcm0gPSB0aGlzLm5vcm1hbGl6ZSh2YWx1ZXMuZ2V0VmVjdG9yKGkpKTtcclxuICAgICAgICAgICAgbmV3VmFsdWVzLnNldFZlY3RvcihpLCBvdGhlci5lbGV2YXRlKG5vcm0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBjb3JuZXJzKG1hdHJpeDogTWF0cml4NCkgOiBWZWN0b3IzW10ge1xyXG4gICAgICAgIC8vIHJlbmRlciB0aGUgZXh0ZW5kcyBvZiB0aGlzIGJvdW5kYXJ5IC8gZG9tYWluXHJcbiAgICAgICAgbGV0IGRpbSA9IDM7XHJcbiAgICAgICAgbGV0IGNvcm5lcnMgPSAyIF4gZGltO1xyXG4gICAgICAgIGxldCBkYXRhID0gW107XHJcbiAgICAgICAgZm9yKGxldCB4IG9mIFt0aGlzLngudDAsIHRoaXMueC50MV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IobGV0IHkgb2YgW3RoaXMueS50MCwgdGhpcy55LnQxXSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB6IG9mIFt0aGlzLnoudDAsIHRoaXMuei50MV0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKG1hdHJpeC5tdWx0aXBseVZlY3RvcihuZXcgVmVjdG9yMyh4LHkseikpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/domain.ts\n");

/***/ }),

/***/ "./src/math/math.ts":
/*!**************************!*\
  !*** ./src/math/math.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GMath\": () => /* binding */ GMath\n/* harmony export */ });\n// purpose: simple operations with only numbers\r\nclass GMath {\r\n    // make sure 'value' is more than 'lower', and less than 'upper'\r\n    static clamp(value, lower, upper) {\r\n        return Math.min(Math.max(value, lower), upper);\r\n    }\r\n    static fade(t) {\r\n        // Fade function as defined by Ken Perlin.  This eases coordinate values\r\n        // so that they will ease towards integral values.  This ends up smoothing\r\n        // the final output.\r\n        return t * t * t * (t * (t * 6 - 15) + 10); // 6t^5 - 15t^4 + 10t^3\r\n    }\r\n    static lerp(a, b, x) {\r\n        return a + x * (b - a);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvbWF0aC50cz8wN2RjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSwrQ0FBK0M7QUFLeEMsTUFBTSxLQUFLO0lBRWQsZ0VBQWdFO0lBQ2hFLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBYSxFQUFFLEtBQWEsRUFBRSxLQUFhO1FBQ3BELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFTO1FBRXZCLHdFQUF3RTtRQUN4RSwwRUFBMEU7UUFDMUUsb0JBQW9CO1FBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQVMsdUJBQXVCO0lBQzVFLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUztRQUUxQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDeEIsQ0FBQztDQUdEIiwiZmlsZSI6Ii4vc3JjL21hdGgvbWF0aC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHB1cnBvc2U6IHNpbXBsZSBvcGVyYXRpb25zIHdpdGggb25seSBudW1iZXJzXHJcbiBcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdNYXRoIHtcclxuICAgIFxyXG4gICAgLy8gbWFrZSBzdXJlICd2YWx1ZScgaXMgbW9yZSB0aGFuICdsb3dlcicsIGFuZCBsZXNzIHRoYW4gJ3VwcGVyJ1xyXG4gICAgc3RhdGljIGNsYW1wKHZhbHVlOiBudW1iZXIsIGxvd2VyOiBudW1iZXIsIHVwcGVyOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIGxvd2VyKSwgdXBwZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmYWRlKHQ6IG51bWJlcikgOiBudW1iZXJcclxuXHR7XHJcblx0XHQvLyBGYWRlIGZ1bmN0aW9uIGFzIGRlZmluZWQgYnkgS2VuIFBlcmxpbi4gIFRoaXMgZWFzZXMgY29vcmRpbmF0ZSB2YWx1ZXNcclxuXHRcdC8vIHNvIHRoYXQgdGhleSB3aWxsIGVhc2UgdG93YXJkcyBpbnRlZ3JhbCB2YWx1ZXMuICBUaGlzIGVuZHMgdXAgc21vb3RoaW5nXHJcblx0XHQvLyB0aGUgZmluYWwgb3V0cHV0LlxyXG5cdFx0cmV0dXJuIHQgKiB0ICogdCAqICh0ICogKHQgKiA2IC0gMTUpICsgMTApOyAgICAgICAgIC8vIDZ0XjUgLSAxNXReNCArIDEwdF4zXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgbGVycChhOiBudW1iZXIsIGI6IG51bWJlciwgeDogbnVtYmVyKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBhICsgeCAqIChiIC0gYSk7XHJcblx0fVxyXG5cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/math/math.ts\n");

/***/ }),

/***/ "./src/math/matrix.ts":
/*!****************************!*\
  !*** ./src/math/matrix.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Matrix3\": () => /* binding */ Matrix3,\n/* harmony export */   \"Matrix4\": () => /* binding */ Matrix4\n/* harmony export */ });\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/float-matrix */ \"./src/data/float-matrix.ts\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./src/math/vector.ts\");\n// matrix\r\n// author: Jos Feenstra\r\n// TODO: FIX MATRIX4 !!!\r\n// NOTE: \r\n\r\n\r\n// 3x3 matrix of floats used for 2d math\r\n// inspired by Gregg Tavares. \r\nclass Matrix3 extends _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix {\r\n    constructor(data = []) {\r\n        super(3, 3, data);\r\n    }\r\n    static newIdentity() {\r\n        return new Matrix3([\r\n            1, 0, 0,\r\n            0, 1, 0,\r\n            0, 0, 1,\r\n        ]);\r\n    }\r\n    static newProjection(width, height) {\r\n        // Note: This matrix flips the Y axis so 0 is at the top.\r\n        return new Matrix3([\r\n            2 / width, 0, 0,\r\n            0, -2 / height, 0,\r\n            -1, 1, 1,\r\n        ]);\r\n    }\r\n    static newTranslation(dx, dy) {\r\n        return new Matrix3([\r\n            1, 0, 0,\r\n            0, 1, 0,\r\n            dx, dy, 1,\r\n        ]);\r\n    }\r\n    // angle in radians\r\n    static newRotation(r) {\r\n        var c = Math.cos(r);\r\n        var s = Math.sin(r);\r\n        return new Matrix3([\r\n            c, -s, 0,\r\n            s, c, 0,\r\n            0, 0, 1,\r\n        ]);\r\n    }\r\n    static newScalar(sx, sy) {\r\n        return new Matrix3([\r\n            sx, 0, 0,\r\n            0, sy, 0,\r\n            0, 0, 1,\r\n        ]);\r\n    }\r\n    toMat4() {\r\n        let d = this.data;\r\n        return new Matrix4([\r\n            d[0], d[1], 0, d[2],\r\n            d[3], d[4], 0, d[5],\r\n            0, 0, 1, 0,\r\n            d[6], d[7], 0, d[8],\r\n        ]);\r\n    }\r\n    project(width, height) {\r\n        return this.multiply(Matrix3.newProjection(width, height));\r\n    }\r\n    translateN(dx, dy) {\r\n        return this.multiply(Matrix3.newTranslation(dx, dy));\r\n    }\r\n    translate(v) {\r\n        return this.multiply(Matrix3.newTranslation(v.x, v.y));\r\n    }\r\n    rotate(r) {\r\n        return this.multiply(Matrix3.newRotation(r));\r\n    }\r\n    scale(sx, sy) {\r\n        return this.multiply(Matrix3.newScalar(sx, sy));\r\n    }\r\n    // multiply two m3's \r\n    multiply(other) {\r\n        let a = this.data;\r\n        let b = other.data;\r\n        var a00 = a[0 * 3 + 0];\r\n        var a01 = a[0 * 3 + 1];\r\n        var a02 = a[0 * 3 + 2];\r\n        var a10 = a[1 * 3 + 0];\r\n        var a11 = a[1 * 3 + 1];\r\n        var a12 = a[1 * 3 + 2];\r\n        var a20 = a[2 * 3 + 0];\r\n        var a21 = a[2 * 3 + 1];\r\n        var a22 = a[2 * 3 + 2];\r\n        var b00 = b[0 * 3 + 0];\r\n        var b01 = b[0 * 3 + 1];\r\n        var b02 = b[0 * 3 + 2];\r\n        var b10 = b[1 * 3 + 0];\r\n        var b11 = b[1 * 3 + 1];\r\n        var b12 = b[1 * 3 + 2];\r\n        var b20 = b[2 * 3 + 0];\r\n        var b21 = b[2 * 3 + 1];\r\n        var b22 = b[2 * 3 + 2];\r\n        return new Matrix3([\r\n            b00 * a00 + b01 * a10 + b02 * a20,\r\n            b00 * a01 + b01 * a11 + b02 * a21,\r\n            b00 * a02 + b01 * a12 + b02 * a22,\r\n            b10 * a00 + b11 * a10 + b12 * a20,\r\n            b10 * a01 + b11 * a11 + b12 * a21,\r\n            b10 * a02 + b11 * a12 + b12 * a22,\r\n            b20 * a00 + b21 * a10 + b22 * a20,\r\n            b20 * a01 + b21 * a11 + b22 * a21,\r\n            b20 * a02 + b21 * a12 + b22 * a22,\r\n        ]);\r\n    }\r\n    // transform a vector. RECYCLE IT\r\n    transformVector(v) {\r\n        let m = this.data;\r\n        let v0 = v.x;\r\n        let v1 = v.y;\r\n        let d = v0 * m[0 * 3 + 2] + v1 * m[1 * 3 + 2] + m[2 * 3 + 2];\r\n        v.x = (v0 * m[0 * 3 + 0] + v1 * m[1 * 3 + 0] + m[2 * 3 + 0]) / d;\r\n        v.y = (v0 * m[0 * 3 + 1] + v1 * m[1 * 3 + 1] + m[2 * 3 + 1]) / d;\r\n        return v;\r\n    }\r\n    // return the inverse of this matrix\r\n    inverse() {\r\n        // ive got no idea what is happening here, \r\n        // but apparantly, this is how you inverse a 3x3 matrix.\r\n        let m = this.data;\r\n        var t00 = m[1 * 3 + 1] * m[2 * 3 + 2] - m[1 * 3 + 2] * m[2 * 3 + 1];\r\n        var t10 = m[0 * 3 + 1] * m[2 * 3 + 2] - m[0 * 3 + 2] * m[2 * 3 + 1];\r\n        var t20 = m[0 * 3 + 1] * m[1 * 3 + 2] - m[0 * 3 + 2] * m[1 * 3 + 1];\r\n        // discriminant\r\n        var d = 1.0 / (m[0 * 3 + 0] * t00 - m[1 * 3 + 0] * t10 + m[2 * 3 + 0] * t20);\r\n        this.setData([\r\n            d * t00, -d * t10, d * t20,\r\n            -d * (m[1 * 3 + 0] * m[2 * 3 + 2] - m[1 * 3 + 2] * m[2 * 3 + 0]),\r\n            d * (m[0 * 3 + 0] * m[2 * 3 + 2] - m[0 * 3 + 2] * m[2 * 3 + 0]),\r\n            -d * (m[0 * 3 + 0] * m[1 * 3 + 2] - m[0 * 3 + 2] * m[1 * 3 + 0]),\r\n            d * (m[1 * 3 + 0] * m[2 * 3 + 1] - m[1 * 3 + 1] * m[2 * 3 + 0]),\r\n            -d * (m[0 * 3 + 0] * m[2 * 3 + 1] - m[0 * 3 + 1] * m[2 * 3 + 0]),\r\n            d * (m[0 * 3 + 0] * m[1 * 3 + 1] - m[0 * 3 + 1] * m[1 * 3 + 0]),\r\n        ]);\r\n        return this;\r\n    }\r\n}\r\n// 4x4 matrix of floats used for 3d math\r\n// inspired by Gregg Tavares. \r\nclass Matrix4 extends _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix {\r\n    constructor(data = []) {\r\n        super(4, 4, data);\r\n    }\r\n    static newIdentity() {\r\n        return new Matrix4([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n    }\r\n    static newCopy(other) {\r\n        let result = new Matrix4();\r\n        for (let i = 0; i < 16; i++) {\r\n            result.data[i] = other.data[i];\r\n        }\r\n        return result;\r\n    }\r\n    clone() {\r\n        return Matrix4.newCopy(this);\r\n    }\r\n    multiplied(other) {\r\n        // NOTE: i swapped a and b, this makes more sense to me, but i could be wrong about it...\r\n        const a = other.data;\r\n        const b = this.data;\r\n        var b00 = b[0 * 4 + 0];\r\n        var b01 = b[0 * 4 + 1];\r\n        var b02 = b[0 * 4 + 2];\r\n        var b03 = b[0 * 4 + 3];\r\n        var b10 = b[1 * 4 + 0];\r\n        var b11 = b[1 * 4 + 1];\r\n        var b12 = b[1 * 4 + 2];\r\n        var b13 = b[1 * 4 + 3];\r\n        var b20 = b[2 * 4 + 0];\r\n        var b21 = b[2 * 4 + 1];\r\n        var b22 = b[2 * 4 + 2];\r\n        var b23 = b[2 * 4 + 3];\r\n        var b30 = b[3 * 4 + 0];\r\n        var b31 = b[3 * 4 + 1];\r\n        var b32 = b[3 * 4 + 2];\r\n        var b33 = b[3 * 4 + 3];\r\n        var a00 = a[0 * 4 + 0];\r\n        var a01 = a[0 * 4 + 1];\r\n        var a02 = a[0 * 4 + 2];\r\n        var a03 = a[0 * 4 + 3];\r\n        var a10 = a[1 * 4 + 0];\r\n        var a11 = a[1 * 4 + 1];\r\n        var a12 = a[1 * 4 + 2];\r\n        var a13 = a[1 * 4 + 3];\r\n        var a20 = a[2 * 4 + 0];\r\n        var a21 = a[2 * 4 + 1];\r\n        var a22 = a[2 * 4 + 2];\r\n        var a23 = a[2 * 4 + 3];\r\n        var a30 = a[3 * 4 + 0];\r\n        var a31 = a[3 * 4 + 1];\r\n        var a32 = a[3 * 4 + 2];\r\n        var a33 = a[3 * 4 + 3];\r\n        return new Matrix4([\r\n            b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n            b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n            b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n            b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n            b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n            b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n            b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n            b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n            b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n            b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n            b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n            b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n            b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n            b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n            b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n            b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\r\n        ]);\r\n    }\r\n    multiply(other) {\r\n        this.data = this.multiplied(other).data;\r\n        return this;\r\n    }\r\n    transpose() {\r\n        let matrix = new Matrix4();\r\n        let res = matrix.data;\r\n        let old = this.data;\r\n        res[0] = old[0];\r\n        res[1] = old[4];\r\n        res[2] = old[8];\r\n        res[3] = old[12];\r\n        res[4] = old[1];\r\n        res[5] = old[5];\r\n        res[6] = old[9];\r\n        res[7] = old[13];\r\n        res[8] = old[2];\r\n        res[9] = old[6];\r\n        res[10] = old[10];\r\n        res[11] = old[14];\r\n        res[12] = old[3];\r\n        res[13] = old[7];\r\n        res[14] = old[11];\r\n        res[15] = old[15];\r\n        return matrix;\r\n    }\r\n    static newLookAt(cameraPosition, target, up) {\r\n        let matrix = new Matrix4();\r\n        let data = matrix.data;\r\n        let zAxis = cameraPosition.clone().sub(target).normalize();\r\n        let xAxis = up.clone().cross(up).normalize();\r\n        let yAxis = zAxis.clone().cross(xAxis).normalize();\r\n        data[0] = xAxis.x;\r\n        data[1] = xAxis.y;\r\n        data[2] = xAxis.z;\r\n        data[3] = 0;\r\n        data[4] = yAxis.x;\r\n        data[5] = yAxis.y;\r\n        data[6] = yAxis.z;\r\n        data[7] = 0;\r\n        data[8] = zAxis.x;\r\n        data[9] = zAxis.y;\r\n        data[10] = zAxis.z;\r\n        data[11] = 0;\r\n        data[12] = cameraPosition.x;\r\n        data[13] = cameraPosition.y;\r\n        data[14] = cameraPosition.z;\r\n        data[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 perspective transformation matrix given the angular height\r\n     * of the frustum, the aspect ratio, and the near and far clipping planes.  The\r\n     * arguments define a frustum extending in the negative z direction.  The given\r\n     * angle is the vertical angle of the frustum, and the horizontal angle is\r\n     * determined to produce the given aspect ratio.  The arguments near and far are\r\n     * the distances to the near and far clipping planes.  Note that near and far\r\n     * are not z coordinates, but rather they are distances along the negative\r\n     * z-axis.  The matrix generated sends the viewing frustum to the unit box.\r\n     * We assume a unit box extending from -1 to 1 in the x and y dimensions and\r\n     * from -1 to 1 in the z dimension.\r\n     * @param {number} fieldOfViewInRadians field of view in y axis.\r\n     * @param {number} aspect aspect of viewport (width / height)\r\n     * @param {number} near near Z clipping plane\r\n     * @param {number} far far Z clipping plane\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newPerspective(fov, aspect, near, far) {\r\n        let matrix = new Matrix4();\r\n        let data = matrix.data;\r\n        var f = Math.tan(Math.PI * 0.5 - 0.5 * fov);\r\n        var rangeInv = 1.0 / (near - far);\r\n        data[0] = f / aspect;\r\n        data[1] = 0;\r\n        data[2] = 0;\r\n        data[3] = 0;\r\n        data[4] = 0;\r\n        data[5] = f;\r\n        data[6] = 0;\r\n        data[7] = 0;\r\n        data[8] = 0;\r\n        data[9] = 0;\r\n        data[10] = (near + far) * rangeInv;\r\n        data[11] = -1;\r\n        data[12] = 0;\r\n        data[13] = 0;\r\n        data[14] = near * far * rangeInv * 2;\r\n        data[15] = 0;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 orthographic projection matrix given the coordinates of the\r\n     * planes defining the axis-aligned, box-shaped viewing volume.  The matrix\r\n     * generated sends that box to the unit box.  Note that although left and right\r\n     * are x coordinates and bottom and top are y coordinates, near and far\r\n     * are not z coordinates, but rather they are distances along the negative\r\n     * z-axis.  We assume a unit box extending from -1 to 1 in the x and y\r\n     * dimensions and from -1 to 1 in the z dimension.\r\n     * @param {number} left The x coordinate of the left plane of the box.\r\n     * @param {number} right The x coordinate of the right plane of the box.\r\n     * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n     * @param {number} top The y coordinate of the right plane of the box.\r\n     * @param {number} near The negative z coordinate of the near plane of the box.\r\n     * @param {number} far The negative z coordinate of the far plane of the box.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newOrthographic(left, right, bottom, top, near, far) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        dst[0] = 2 / (right - left);\r\n        dst[1] = 0;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = 0;\r\n        dst[5] = 2 / (top - bottom);\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = 0;\r\n        dst[9] = 0;\r\n        dst[10] = 2 / (near - far);\r\n        dst[11] = 0;\r\n        dst[12] = (left + right) / (left - right);\r\n        dst[13] = (bottom + top) / (bottom - top);\r\n        dst[14] = (near + far) / (near - far);\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 perspective transformation matrix given the left, right,\r\n     * top, bottom, near and far clipping planes. The arguments define a frustum\r\n     * extending in the negative z direction. The arguments near and far are the\r\n     * distances to the near and far clipping planes. Note that near and far are not\r\n     * z coordinates, but rather they are distances along the negative z-axis. The\r\n     * matrix generated sends the viewing frustum to the unit box. We assume a unit\r\n     * box extending from -1 to 1 in the x and y dimensions and from -1 to 1 in the z\r\n     * dimension.\r\n     * @param {number} left The x coordinate of the left plane of the box.\r\n     * @param {number} right The x coordinate of the right plane of the box.\r\n     * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n     * @param {number} top The y coordinate of the right plane of the box.\r\n     * @param {number} near The negative z coordinate of the near plane of the box.\r\n     * @param {number} far The negative z coordinate of the far plane of the box.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newFrustum(left, right, bottom, top, near, far) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        var dx = right - left;\r\n        var dy = top - bottom;\r\n        var dz = far - near;\r\n        dst[0] = 2 * near / dx;\r\n        dst[1] = 0;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = 0;\r\n        dst[5] = 2 * near / dy;\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = (left + right) / dx;\r\n        dst[9] = (top + bottom) / dy;\r\n        dst[10] = -(far + near) / dz;\r\n        dst[11] = -1;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = -2 * near * far / dz;\r\n        dst[15] = 0;\r\n        return matrix;\r\n    }\r\n    static newTranslation(tx, ty, tz) {\r\n        return new Matrix4([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            tx, ty, tz, 1\r\n        ]);\r\n    }\r\n    static newXRotation(angleInRadians) {\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        return new Matrix4([\r\n            1, 0, 0, 0,\r\n            0, c, -s, 0,\r\n            0, s, c, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n    }\r\n    static newYRotation(angleInRadians) {\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        return new Matrix4([\r\n            c, 0, s, 0,\r\n            0, 1, 0, 0,\r\n            -s, 0, c, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n    }\r\n    static newZRotation(angleInRadians) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        dst[0] = c;\r\n        dst[1] = s;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = -s;\r\n        dst[5] = c;\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = 0;\r\n        dst[9] = 0;\r\n        dst[10] = 1;\r\n        dst[11] = 0;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = 0;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Makes an rotation matrix around an arbitrary axis\r\n     * @param {Vector3} axis axis to rotate around\r\n     * @param {number} angleInRadians amount to rotate\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newAxisRotation(axis, angleInRadians) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let x = axis.x;\r\n        let y = axis.y;\r\n        let z = axis.z;\r\n        let n = Math.sqrt(x * x + y * y + z * z);\r\n        x /= n;\r\n        y /= n;\r\n        z /= n;\r\n        let xx = x * x;\r\n        let yy = y * y;\r\n        let zz = z * z;\r\n        let c = Math.cos(angleInRadians);\r\n        let s = Math.sin(angleInRadians);\r\n        let oneMinusCosine = 1 - c;\r\n        dst[0] = xx + (1 - xx) * c;\r\n        dst[1] = x * y * oneMinusCosine + z * s;\r\n        dst[2] = x * z * oneMinusCosine - y * s;\r\n        dst[3] = 0;\r\n        dst[4] = x * y * oneMinusCosine - z * s;\r\n        dst[5] = yy + (1 - yy) * c;\r\n        dst[6] = y * z * oneMinusCosine + x * s;\r\n        dst[7] = 0;\r\n        dst[8] = x * z * oneMinusCosine + y * s;\r\n        dst[9] = y * z * oneMinusCosine - x * s;\r\n        dst[10] = zz + (1 - zz) * c;\r\n        dst[11] = 0;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = 0;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Multiply by an axis rotation matrix\r\n     * @param {Matrix4} m matrix to multiply\r\n     * @param {Vector3} axis axis to rotate around\r\n     * @param {number} angleInRadians amount to rotate\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     * @memberOf module:webgl-3d-math\r\n     */\r\n    axisRotate(axis, angleInRadians) {\r\n        // This is the optimized version of\r\n        // return multiply(m, axisRotation(axis, angleInRadians), dst);\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        var x = axis.x;\r\n        var y = axis.y;\r\n        var z = axis.z;\r\n        var n = Math.sqrt(x * x + y * y + z * z);\r\n        x /= n;\r\n        y /= n;\r\n        z /= n;\r\n        var xx = x * x;\r\n        var yy = y * y;\r\n        var zz = z * z;\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        var oneMinusCosine = 1 - c;\r\n        var r00 = xx + (1 - xx) * c;\r\n        var r01 = x * y * oneMinusCosine + z * s;\r\n        var r02 = x * z * oneMinusCosine - y * s;\r\n        var r10 = x * y * oneMinusCosine - z * s;\r\n        var r11 = yy + (1 - yy) * c;\r\n        var r12 = y * z * oneMinusCosine + x * s;\r\n        var r20 = x * z * oneMinusCosine + y * s;\r\n        var r21 = y * z * oneMinusCosine - x * s;\r\n        var r22 = zz + (1 - zz) * c;\r\n        var m00 = m[0];\r\n        var m01 = m[1];\r\n        var m02 = m[2];\r\n        var m03 = m[3];\r\n        var m10 = m[4];\r\n        var m11 = m[5];\r\n        var m12 = m[6];\r\n        var m13 = m[7];\r\n        var m20 = m[8];\r\n        var m21 = m[9];\r\n        var m22 = m[10];\r\n        var m23 = m[11];\r\n        dst[0] = r00 * m00 + r01 * m10 + r02 * m20;\r\n        dst[1] = r00 * m01 + r01 * m11 + r02 * m21;\r\n        dst[2] = r00 * m02 + r01 * m12 + r02 * m22;\r\n        dst[3] = r00 * m03 + r01 * m13 + r02 * m23;\r\n        dst[4] = r10 * m00 + r11 * m10 + r12 * m20;\r\n        dst[5] = r10 * m01 + r11 * m11 + r12 * m21;\r\n        dst[6] = r10 * m02 + r11 * m12 + r12 * m22;\r\n        dst[7] = r10 * m03 + r11 * m13 + r12 * m23;\r\n        dst[8] = r20 * m00 + r21 * m10 + r22 * m20;\r\n        dst[9] = r20 * m01 + r21 * m11 + r22 * m21;\r\n        dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\r\n        dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\r\n        if (m !== dst) {\r\n            dst[12] = m[12];\r\n            dst[13] = m[13];\r\n            dst[14] = m[14];\r\n            dst[15] = m[15];\r\n        }\r\n        return matrix;\r\n    }\r\n    // make a scaling matrix \r\n    static newScaler(sx, sy, sz) {\r\n        return new Matrix4([\r\n            sx, 0, 0, 0,\r\n            0, sy, 0, 0,\r\n            0, 0, sz, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n    }\r\n    /**\r\n     * Multiply by a scaling matrix\r\n     * @param {Matrix4} m matrix to multiply\r\n     * @param {number} sx x scale.\r\n     * @param {number} sy y scale.\r\n     * @param {number} sz z scale.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     * @memberOf module:webgl-3d-math\r\n     */\r\n    scale(sx, sy, sz) {\r\n        // This is the optimized version of\r\n        // return multiply(m, scaling(sx, sy, sz), dst);\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        dst[0] = sx * m[0 * 4 + 0];\r\n        dst[1] = sx * m[0 * 4 + 1];\r\n        dst[2] = sx * m[0 * 4 + 2];\r\n        dst[3] = sx * m[0 * 4 + 3];\r\n        dst[4] = sy * m[1 * 4 + 0];\r\n        dst[5] = sy * m[1 * 4 + 1];\r\n        dst[6] = sy * m[1 * 4 + 2];\r\n        dst[7] = sy * m[1 * 4 + 3];\r\n        dst[8] = sz * m[2 * 4 + 0];\r\n        dst[9] = sz * m[2 * 4 + 1];\r\n        dst[10] = sz * m[2 * 4 + 2];\r\n        dst[11] = sz * m[2 * 4 + 3];\r\n        if (m !== dst) {\r\n            dst[12] = m[12];\r\n            dst[13] = m[13];\r\n            dst[14] = m[14];\r\n            dst[15] = m[15];\r\n        }\r\n        return matrix;\r\n    }\r\n    /**\r\n     * creates a matrix from translation, quaternion, scale\r\n     * @param {Number[]} translation [x, y, z] translation\r\n     * @param {Number[]} quaternion [x, y, z, z] quaternion rotation\r\n     * @param {Number[]} scale [x, y, z] scale\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    newCompose(translation, quaternion, scale) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        const x = quaternion.x;\r\n        const y = quaternion.y;\r\n        const z = quaternion.z;\r\n        const w = quaternion.w;\r\n        const x2 = x + x;\r\n        const y2 = y + y;\r\n        const z2 = z + z;\r\n        const xx = x * x2;\r\n        const xy = x * y2;\r\n        const xz = x * z2;\r\n        const yy = y * y2;\r\n        const yz = y * z2;\r\n        const zz = z * z2;\r\n        const wx = w * x2;\r\n        const wy = w * y2;\r\n        const wz = w * z2;\r\n        const sx = scale.x;\r\n        const sy = scale.y;\r\n        const sz = scale.z;\r\n        dst[0] = (1 - (yy + zz)) * sx;\r\n        dst[1] = (xy + wz) * sx;\r\n        dst[2] = (xz - wy) * sx;\r\n        dst[3] = 0;\r\n        dst[4] = (xy - wz) * sy;\r\n        dst[5] = (1 - (xx + zz)) * sy;\r\n        dst[6] = (yz + wx) * sy;\r\n        dst[7] = 0;\r\n        dst[8] = (xz + wy) * sz;\r\n        dst[9] = (yz - wx) * sz;\r\n        dst[10] = (1 - (xx + yy)) * sz;\r\n        dst[11] = 0;\r\n        dst[12] = translation.x;\r\n        dst[13] = translation.y;\r\n        dst[14] = translation.z;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    // quatFromRotationMatrix() {\r\n    //     // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n    //     // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n    //     const m11 = m[0];\r\n    //     const m12 = m[4];\r\n    //     const m13 = m[8];\r\n    //     const m21 = m[1];\r\n    //     const m22 = m[5];\r\n    //     const m23 = m[9];\r\n    //     const m31 = m[2];\r\n    //     const m32 = m[6];\r\n    //     const m33 = m[10];\r\n    //     const trace = m11 + m22 + m33;\r\n    //     if (trace > 0) {\r\n    //         const s = 0.5 / Math.sqrt(trace + 1);\r\n    //         dst[3] = 0.25 / s;\r\n    //         dst[0] = (m32 - m23) * s;\r\n    //         dst[1] = (m13 - m31) * s;\r\n    //         dst[2] = (m21 - m12) * s;\r\n    //     } else if (m11 > m22 && m11 > m33) {\r\n    //         const s = 2 * Math.sqrt(1 + m11 - m22 - m33);\r\n    //         dst[3] = (m32 - m23) / s;\r\n    //         dst[0] = 0.25 * s;\r\n    //         dst[1] = (m12 + m21) / s;\r\n    //         dst[2] = (m13 + m31) / s;\r\n    //     } else if (m22 > m33) {\r\n    //         const s = 2 * Math.sqrt(1 + m22 - m11 - m33);\r\n    //         dst[3] = (m13 - m31) / s;\r\n    //         dst[0] = (m12 + m21) / s;\r\n    //         dst[1] = 0.25 * s;\r\n    //         dst[2] = (m23 + m32) / s;\r\n    //     } else {\r\n    //         const s = 2 * Math.sqrt(1 + m33 - m11 - m22);\r\n    //         dst[3] = (m21 - m12) / s;\r\n    //         dst[0] = (m13 + m31) / s;\r\n    //         dst[1] = (m23 + m32) / s;\r\n    //         dst[2] = 0.25 * s;\r\n    //     }\r\n    // }\r\n    // decompose(mat, translation, quaternion, scale) {\r\n    //     let sx = m4.length(mat.slice(0, 3));\r\n    //     const sy = m4.length(mat.slice(4, 7));\r\n    //     const sz = m4.length(mat.slice(8, 11));\r\n    //     // if determinate is negative, we need to invert one scale\r\n    //     const det = determinate(mat);\r\n    //     if (det < 0) {\r\n    //         sx = -sx;\r\n    //     }\r\n    //     translation[0] = mat[12];\r\n    //     translation[1] = mat[13];\r\n    //     translation[2] = mat[14];\r\n    //     // scale the rotation part\r\n    //     const matrix = m4.copy(mat);\r\n    //     const invSX = 1 / sx;\r\n    //     const invSY = 1 / sy;\r\n    //     const invSZ = 1 / sz;\r\n    //     matrix[0] *= invSX;\r\n    //     matrix[1] *= invSX;\r\n    //     matrix[2] *= invSX;\r\n    //     matrix[4] *= invSY;\r\n    //     matrix[5] *= invSY;\r\n    //     matrix[6] *= invSY;\r\n    //     matrix[8] *= invSZ;\r\n    //     matrix[9] *= invSZ;\r\n    //     matrix[10] *= invSZ;\r\n    //     quatFromRotationMatrix(matrix, quaternion);\r\n    //     scale[0] = sx;\r\n    //     scale[1] = sy;\r\n    //     scale[2] = sz;\r\n    // }\r\n    determinate() {\r\n        let m = this.data;\r\n        var m00 = m[0 * 4 + 0];\r\n        var m01 = m[0 * 4 + 1];\r\n        var m02 = m[0 * 4 + 2];\r\n        var m03 = m[0 * 4 + 3];\r\n        var m10 = m[1 * 4 + 0];\r\n        var m11 = m[1 * 4 + 1];\r\n        var m12 = m[1 * 4 + 2];\r\n        var m13 = m[1 * 4 + 3];\r\n        var m20 = m[2 * 4 + 0];\r\n        var m21 = m[2 * 4 + 1];\r\n        var m22 = m[2 * 4 + 2];\r\n        var m23 = m[2 * 4 + 3];\r\n        var m30 = m[3 * 4 + 0];\r\n        var m31 = m[3 * 4 + 1];\r\n        var m32 = m[3 * 4 + 2];\r\n        var m33 = m[3 * 4 + 3];\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\r\n            (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\r\n            (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\r\n            (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\r\n            (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n        return 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n    }\r\n    inverse() {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        var m00 = m[0 * 4 + 0];\r\n        var m01 = m[0 * 4 + 1];\r\n        var m02 = m[0 * 4 + 2];\r\n        var m03 = m[0 * 4 + 3];\r\n        var m10 = m[1 * 4 + 0];\r\n        var m11 = m[1 * 4 + 1];\r\n        var m12 = m[1 * 4 + 2];\r\n        var m13 = m[1 * 4 + 3];\r\n        var m20 = m[2 * 4 + 0];\r\n        var m21 = m[2 * 4 + 1];\r\n        var m22 = m[2 * 4 + 2];\r\n        var m23 = m[2 * 4 + 3];\r\n        var m30 = m[3 * 4 + 0];\r\n        var m31 = m[3 * 4 + 1];\r\n        var m32 = m[3 * 4 + 2];\r\n        var m33 = m[3 * 4 + 3];\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var tmp_12 = m20 * m31;\r\n        var tmp_13 = m30 * m21;\r\n        var tmp_14 = m10 * m31;\r\n        var tmp_15 = m30 * m11;\r\n        var tmp_16 = m10 * m21;\r\n        var tmp_17 = m20 * m11;\r\n        var tmp_18 = m00 * m31;\r\n        var tmp_19 = m30 * m01;\r\n        var tmp_20 = m00 * m21;\r\n        var tmp_21 = m20 * m01;\r\n        var tmp_22 = m00 * m11;\r\n        var tmp_23 = m10 * m01;\r\n        var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\r\n            (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\r\n            (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\r\n            (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\r\n            (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n        var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n        dst[0] = d * t0;\r\n        dst[1] = d * t1;\r\n        dst[2] = d * t2;\r\n        dst[3] = d * t3;\r\n        dst[4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\r\n            (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\r\n        dst[5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\r\n            (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\r\n        dst[6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\r\n            (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\r\n        dst[7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\r\n            (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\r\n        dst[8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\r\n            (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\r\n        dst[9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\r\n            (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\r\n        dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\r\n            (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\r\n        dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\r\n            (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\r\n        dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\r\n            (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\r\n        dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\r\n            (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\r\n        dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\r\n            (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\r\n        dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\r\n            (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\r\n        return matrix;\r\n    }\r\n    multiplyVector(v) {\r\n        let data = new Array(3);\r\n        for (var i = 0; i < 3; ++i) {\r\n            data[i] = 0.0;\r\n            for (var j = 0; j < 4; ++j) {\r\n                data[i] += v.item(j) * this.get(j, i);\r\n            }\r\n        }\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(data[0], data[1], data[2]);\r\n    }\r\n    multiplyVectors(other) {\r\n        // dumb way\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = other.getVector(i);\r\n            vec = this.multiplyVector(vec);\r\n            other.setVector(i, vec);\r\n        }\r\n        return other;\r\n        // smart way\r\n        // let matrix = new Vector3Array(other.count());\r\n        // // for every row\r\n        // for (var r = 0; r < other.count(); r++) {\r\n        //     // for every item in row\r\n        //     for (var c = 0; c < 3; ++c) {\r\n        //         let item = 0.0;\r\n        //         for (var j = 0; j < 4; ++j) {\r\n        //             item += other.get(r, c) * this.get(j, c);\r\n        //         }\r\n        //         matrix.set(r, c, item);\r\n        //     }\r\n        // }\r\n        // other.data = matrix.data;\r\n        return other;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvbWF0cml4LnRzPzVhMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVM7QUFDVCx1QkFBdUI7QUFDdkIsd0JBQXdCO0FBQ3hCLFNBQVM7QUFJMEM7QUFFUDtBQUc1Qyx3Q0FBd0M7QUFDeEMsOEJBQThCO0FBQ3ZCLE1BQU0sT0FBUSxTQUFRLDJEQUFXO0lBRXBDLFlBQVksT0FBaUIsRUFBRTtRQUMzQixLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVc7UUFDZCxPQUFPLElBQUksT0FBTyxDQUFDO1lBQ2YsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1NBQ1YsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBYSxFQUFFLE1BQWM7UUFDOUMseURBQXlEO1FBQ3pELE9BQU8sSUFBSSxPQUFPLENBQUM7WUFDZixDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ2YsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1NBQ1gsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBVSxFQUFFLEVBQVU7UUFDeEMsT0FBTyxJQUFJLE9BQU8sQ0FBQztZQUNmLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNQLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNQLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztTQUNaLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDLFdB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Q0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxH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QUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRXBFLGVBQWU7UUFDZixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWixDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRztZQUMzQixDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQy9ELENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2hFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDL0QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDaEUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMvRCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvRCxDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0o7QUFFRCx3Q0FBd0M7QUFDeEMsOEJBQThCO0FBQ3ZCLE1BQU0sT0FBUSxTQUFRLDJEQUFXO0lBRXBDLFlBQVksT0FBaUIsRUFBRTtRQUMzQixLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVc7UUFDZCxPQUFPLElBQUksT0FBTyxDQUFDO1lBQ2YsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztZQUNQLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7WUFDUCxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO1lBQ1AsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztTQUNWLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWM7UUFFekIsSUFBSSxNQUFNLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUM1QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxLQUFLO1FBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYztRQUVyQix5RkFBeUY7UUFDekYsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUNyQixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRXBCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRXZCLE9BQU8sSUFBSSxPQUFPLENBQUM7WUFDZixHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztTQUNoRCxDQUFDLENBQUM7SUFDUCxDQUFDO0lBR0QsUUFBUSxDQUFDLEtBQWM7UUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBR0QsU0FBUztRQUNMLElBQUksTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFFM0IsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRXBCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEIsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFbEIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBdUIsRUFBRSxNQUFlLEVBQUUsRUFBVztRQUVsRSxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQzNCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUcsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUMzRCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzdDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFbkQsSUFBSSxDQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBRSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBRSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBRSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFD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LENBQUMsY0FBYyxDQUFDLENBQUM7UUFDakMsSUFBSSxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUUzQixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1osR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUIsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNaLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGNBQWMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGNBQWMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FB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QUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWhCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUM1QyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDNUMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzVDLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUM1QyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDNUMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFD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Q0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1QixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUU1QixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7WUFDWCxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ25CO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSCxVQUFVLENBQUMsV0FBb0IsRUFBRSxVQUFzQixFQUFFLEtBQWM7UUFFbkUsSUFBSSxNQUFNLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUMzQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBRXRCLE1BQU0sQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDdkIsTUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN2QixNQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFFdkIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFakIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNsQixNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFbEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNsQixNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFbEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNsQixNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFbEIsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNuQixNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFFbkIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDeEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVgsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDOUIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVgsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN6QixHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMvQixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVosR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDeEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDeEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDeEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVaLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCw2QkFBNkI7SUFDN0IseUdBQXlHO0lBRXpHLDhFQUE4RTtJQUM5RSx3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHlCQUF5QjtJQUV6QixxQ0FBcUM7SUFFckMsdUJBQXVCO0lBQ3ZCLGdEQUFnRDtJQUNoRCw2QkFBNkI7SUFDN0Isb0NBQW9DO0lBQ3BDLG9DQUFvQztJQUNwQyxvQ0FBb0M7SUFDcEMsMkNBQTJDO0lBQzNDLHdEQUF3RDtJQUN4RCxvQ0FBb0M7SUFDcEMsNkJBQTZCO0lBQzdCLG9DQUFvQztJQUNwQyxvQ0FBb0M7SUFDcEMsOEJBQThCO0lBQzlCLHdEQUF3RDtJQUN4RCxvQ0FBb0M7SUFDcEMsb0NBQW9DO0lBQ3BDLDZCQUE2QjtJQUM3QixvQ0FBb0M7SUFDcEMsZUFBZTtJQUNmLHdEQUF3RDtJQUN4RCxvQ0FBb0M7SUFDcEMsb0NBQW9DO0lBQ3BDLG9DQUFvQztJQUNwQyw2QkFBNkI7SUFDN0IsUUFBUTtJQUNSLElBQUk7SUFFSixtREFBbUQ7SUFDbkQsMkNBQTJDO0lBQzNDLDZDQUE2QztJQUM3Qyw4Q0FBOEM7SUFFOUMsaUVBQWlFO0lBQ2pFLG9DQUFvQztJQUNwQyxxQkFBcUI7SUFDckIsb0JBQW9CO0lBQ3BCLFFBQVE7SUFFUixnQ0FBZ0M7SUFDaEMsZ0NBQWdDO0lBQ2hDLGdDQUFnQztJQUVoQyxpQ0FBaUM7SUFDakMsbUNBQW1DO0lBRW5DLDRCQUE0QjtJQUM1Qiw0QkFBNEI7SUFDNUIsNEJBQTRCO0lBRTVCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFDMUIsMEJBQTBCO0lBRTFCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFDMUIsMEJBQTBCO0lBRTFCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFDMUIsMkJBQTJCO0lBRTNCLGtEQUFrRDtJQUVsRCxxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixJQUFJO0lBRUosV0FBVztRQUVQLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFbEIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFFdkIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUM5QyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDOUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUM5QyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDOUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUMvQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDL0MsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUMvQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFFL0MsT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELE9BQU87UUFFSCxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQzNCLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVsQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksS0FBSyxHQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxLQUFLLEdBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUV2QixJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQzlDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM5QyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQzlDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM5QyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQy9DLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUMvQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQy9DLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUUvQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFFMUQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDaEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDaEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDaEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDaEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDL0MsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDL0MsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDaEQsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDaEQsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbEQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbEQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDbkQsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFdEQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELGNBQWMsQ0FBQyxDQUFVO1FBRXJCLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNkLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3pDO1NBQ0o7UUFDRCxPQUFPLElBQUksNENBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRCxlQUFlLENBQUMsS0FBbUI7UUFFL0IsV0FBVztRQUNYLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMvQixLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sS0FBSyxDQUFDO1FBRWIsWUFBWTtRQUNaLGdEQUFnRDtRQUNoRCxtQkFBbUI7UUFDbkIsNENBQTRDO1FBRTVDLCtCQUErQjtRQUMvQixvQ0FBb0M7UUFFcEMsMEJBQTBCO1FBQzFCLHdDQUF3QztRQUN4Qyx3REFBd0Q7UUFDeEQsWUFBWTtRQUNaLGtDQUFrQztRQUNsQyxRQUFRO1FBQ1IsSUFBSTtRQUVKLDRCQUE0QjtRQUM1QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBaUZKIiwiZmlsZSI6Ii4vc3JjL21hdGgvbWF0cml4LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbWF0cml4XHJcbi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXHJcbi8vIFRPRE86IEZJWCBNQVRSSVg0ICEhIVxyXG4vLyBOT1RFOiBcclxuXHJcbmltcG9ydCB7IGFycmF5QnVmZmVyVG9CYXNlNjRTdHJpbmcgfSBmcm9tIFwiQHRlbnNvcmZsb3cvdGZqcy1jb3JlL2Rpc3QvaW8vaW9fdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XHJcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tIFwiLi9xdWF0ZXJuaW9uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi92ZWN0b3JcIjtcclxuXHJcblxyXG4vLyAzeDMgbWF0cml4IG9mIGZsb2F0cyB1c2VkIGZvciAyZCBtYXRoXHJcbi8vIGluc3BpcmVkIGJ5IEdyZWdnIFRhdmFyZXMuIFxyXG5leHBvcnQgY2xhc3MgTWF0cml4MyBleHRlbmRzIEZsb2F0TWF0cml4IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBudW1iZXJbXSA9IFtdKSB7XHJcbiAgICAgICAgc3VwZXIoMywgMywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5ld0lkZW50aXR5KCkgOiBNYXRyaXgzIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDMoW1xyXG4gICAgICAgICAgICAxLCAwLCAwLFxyXG4gICAgICAgICAgICAwLCAxLCAwLCBcclxuICAgICAgICAgICAgMCwgMCwgMSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbmV3UHJvamVjdGlvbih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgOiBNYXRyaXgzIHtcclxuICAgICAgICAvLyBOb3RlOiBUaGlzIG1hdHJpeCBmbGlwcyB0aGUgWSBheGlzIHNvIDAgaXMgYXQgdGhlIHRvcC5cclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDMoW1xyXG4gICAgICAgICAgICAyIC8gd2lkdGgsIDAsIDAsIFxyXG4gICAgICAgICAgICAwLCAtMiAvIGhlaWdodCwgMCxcclxuICAgICAgICAgICAgLTEsIDEsIDEsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5ld1RyYW5zbGF0aW9uKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpIDogTWF0cml4M3tcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDMoW1xyXG4gICAgICAgICAgICAxLCAwLCAwLFxyXG4gICAgICAgICAgICAwLCAxLCAwLFxyXG4gICAgICAgICAgICBkeCwgZHksIDEsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYW5nbGUgaW4gcmFkaWFuc1xyXG4gICAgc3RhdGljIG5ld1JvdGF0aW9uKHI6IG51bWJlcikgOiBNYXRyaXgzIHtcclxuICAgICAgICB2YXIgYyA9IE1hdGguY29zKHIpO1xyXG4gICAgICAgIHZhciBzID0gTWF0aC5zaW4ocik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgzKFtcclxuICAgICAgICAgICAgYywgLXMsIDAsXHJcbiAgICAgICAgICAgIHMsIGMsIDAsXHJcbiAgICAgICAgICAgIDAsIDAsIDEsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5ld1NjYWxhcihzeDogbnVtYmVyLCBzeTogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgzKFtcclxuICAgICAgICAgICAgc3gsIDAsIDAsXHJcbiAgICAgICAgICAgIDAsIHN5LCAwLFxyXG4gICAgICAgICAgICAwLCAwLCAxLFxyXG4gICAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9NYXQ0KCkgOiBNYXRyaXg0IHtcclxuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0YTtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW1xyXG4gICAgICAgICAgICBkWzBdLCBkWzFdLCAgICAwLCAgICBkWzJdLFxyXG4gICAgICAgICAgICBkWzNdLCBkWzRdLCAgICAwLCAgICBkWzVdLFxyXG4gICAgICAgICAgICAwICAgLCAgMCAsICAgICAxLCAgICAwLFxyXG4gICAgICAgICAgICBkWzZdLCBkWzddLCAgICAwLCAgICBkWzhdLFxyXG4gICAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvamVjdCh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgOiBNYXRyaXgzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShNYXRyaXgzLm5ld1Byb2plY3Rpb24od2lkdGgsIGhlaWdodCkpXHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNsYXRlTihkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA6IE1hdHJpeDMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5KE1hdHJpeDMubmV3VHJhbnNsYXRpb24oZHgsIGR5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNsYXRlKHY6IFZlY3RvcjIpIDogTWF0cml4MyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkoTWF0cml4My5uZXdUcmFuc2xhdGlvbih2LngsIHYueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZShyOiBudW1iZXIpIDogTWF0cml4MyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkoTWF0cml4My5uZXdSb3RhdGlvbihyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2NhbGUoc3g6IG51bWJlciwgc3k6IG51bWJlcikgOiBNYXRyaXgzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShNYXRyaXgzLm5ld1NjYWxhcihzeCwgc3kpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtdWx0aXBseSB0d28gbTMncyBcclxuICAgIG11bHRpcGx5KG90aGVyOiBNYXRyaXgzKSA6IE1hdHJpeDMge1xyXG4gICAgICAgIGxldCBhID0gdGhpcy5kYXRhO1xyXG4gICAgICAgIGxldCBiID0gb3RoZXIuZGF0YTtcclxuXHJcbiAgICAgICAgdmFyIGEwMCA9IGFbMCAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYTAxID0gYVswICogMyArIDFdO1xyXG4gICAgICAgIHZhciBhMDIgPSBhWzAgKiAzICsgMl07XHJcbiAgICAgICAgdmFyIGExMCA9IGFbMSAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYTExID0gYVsxICogMyArIDFdO1xyXG4gICAgICAgIHZhciBhMTIgPSBhWzEgKiAzICsgMl07XHJcbiAgICAgICAgdmFyIGEyMCA9IGFbMiAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYTIxID0gYVsyICogMyArIDFdO1xyXG4gICAgICAgIHZhciBhMjIgPSBhWzIgKiAzICsgMl07XHJcbiAgICAgICAgdmFyIGIwMCA9IGJbMCAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYjAxID0gYlswICogMyArIDFdO1xyXG4gICAgICAgIHZhciBiMDIgPSBiWzAgKiAzICsgMl07XHJcbiAgICAgICAgdmFyIGIxMCA9IGJbMSAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYjExID0gYlsxICogMyArIDFdO1xyXG4gICAgICAgIHZhciBiMTIgPSBiWzEgKiAzICsgMl07XHJcbiAgICAgICAgdmFyIGIyMCA9IGJbMiAqIDMgKyAwXTtcclxuICAgICAgICB2YXIgYjIxID0gYlsyICogMyArIDFdO1xyXG4gICAgICAgIHZhciBiMjIgPSBiWzIgKiAzICsgMl07XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4MyhbXHJcbiAgICAgICAgICAgIGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMCxcclxuICAgICAgICAgICAgYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxLFxyXG4gICAgICAgICAgICBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjIsXHJcbiAgICAgICAgICAgIGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMCxcclxuICAgICAgICAgICAgYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxLFxyXG4gICAgICAgICAgICBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjIsXHJcbiAgICAgICAgICAgIGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMCxcclxuICAgICAgICAgICAgYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxLFxyXG4gICAgICAgICAgICBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjIsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdHJhbnNmb3JtIGEgdmVjdG9yLiBSRUNZQ0xFIElUXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3IodjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICBsZXQgbSA9IHRoaXMuZGF0YTtcclxuICAgICAgICBsZXQgdjAgPSB2Lng7XHJcbiAgICAgICAgbGV0IHYxID0gdi55O1xyXG4gICAgICAgIGxldCBkID0gdjAgKiBtWzAgKiAzICsgMl0gKyB2MSAqIG1bMSAqIDMgKyAyXSArIG1bMiAqIDMgKyAyXTtcclxuICAgICAgICB2LnggPSAodjAgKiBtWzAgKiAzICsgMF0gKyB2MSAqIG1bMSAqIDMgKyAwXSArIG1bMiAqIDMgKyAwXSkgLyBkO1xyXG4gICAgICAgIHYueSA9ICh2MCAqIG1bMCAqIDMgKyAxXSArIHYxICogbVsxICogMyArIDFdICsgbVsyICogMyArIDFdKSAvIGQ7XHJcbiAgICAgICAgcmV0dXJuIHY7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHJldHVybiB0aGUgaW52ZXJzZSBvZiB0aGlzIG1hdHJpeFxyXG4gICAgaW52ZXJzZSgpIDogTWF0cml4MyB7XHJcblxyXG4gICAgICAgIC8vIGl2ZSBnb3Qgbm8gaWRlYSB3aGF0IGlzIGhhcHBlbmluZyBoZXJlLCBcclxuICAgICAgICAvLyBidXQgYXBwYXJhbnRseSwgdGhpcyBpcyBob3cgeW91IGludmVyc2UgYSAzeDMgbWF0cml4LlxyXG4gICAgICAgIGxldCBtID0gdGhpcy5kYXRhO1xyXG4gICAgICAgIHZhciB0MDAgPSBtWzEgKiAzICsgMV0gKiBtWzIgKiAzICsgMl0gLSBtWzEgKiAzICsgMl0gKiBtWzIgKiAzICsgMV07XHJcbiAgICAgICAgdmFyIHQxMCA9IG1bMCAqIDMgKyAxXSAqIG1bMiAqIDMgKyAyXSAtIG1bMCAqIDMgKyAyXSAqIG1bMiAqIDMgKyAxXTtcclxuICAgICAgICB2YXIgdDIwID0gbVswICogMyArIDFdICogbVsxICogMyArIDJdIC0gbVswICogMyArIDJdICogbVsxICogMyArIDFdO1xyXG5cclxuICAgICAgICAvLyBkaXNjcmltaW5hbnRcclxuICAgICAgICB2YXIgZCA9IDEuMCAvIChtWzAgKiAzICsgMF0gKiB0MDAgLSBtWzEgKiAzICsgMF0gKiB0MTAgKyBtWzIgKiAzICsgMF0gKiB0MjApO1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YShbXHJcbiAgICAgICAgIGQgKiB0MDAsIC1kICogdDEwLCBkICogdDIwLFxyXG4gICAgICAgIC1kICogKG1bMSAqIDMgKyAwXSAqIG1bMiAqIDMgKyAyXSAtIG1bMSAqIDMgKyAyXSAqIG1bMiAqIDMgKyAwXSksXHJcbiAgICAgICAgIGQgKiAobVswICogMyArIDBdICogbVsyICogMyArIDJdIC0gbVswICogMyArIDJdICogbVsyICogMyArIDBdKSxcclxuICAgICAgICAtZCAqIChtWzAgKiAzICsgMF0gKiBtWzEgKiAzICsgMl0gLSBtWzAgKiAzICsgMl0gKiBtWzEgKiAzICsgMF0pLFxyXG4gICAgICAgICBkICogKG1bMSAqIDMgKyAwXSAqIG1bMiAqIDMgKyAxXSAtIG1bMSAqIDMgKyAxXSAqIG1bMiAqIDMgKyAwXSksXHJcbiAgICAgICAgLWQgKiAobVswICogMyArIDBdICogbVsyICogMyArIDFdIC0gbVswICogMyArIDFdICogbVsyICogMyArIDBdKSxcclxuICAgICAgICAgZCAqIChtWzAgKiAzICsgMF0gKiBtWzEgKiAzICsgMV0gLSBtWzAgKiAzICsgMV0gKiBtWzEgKiAzICsgMF0pLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyA0eDQgbWF0cml4IG9mIGZsb2F0cyB1c2VkIGZvciAzZCBtYXRoXHJcbi8vIGluc3BpcmVkIGJ5IEdyZWdnIFRhdmFyZXMuIFxyXG5leHBvcnQgY2xhc3MgTWF0cml4NCBleHRlbmRzIEZsb2F0TWF0cml4IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBudW1iZXJbXSA9IFtdKSB7XHJcbiAgICAgICAgc3VwZXIoNCwgNCwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN0YXRpYyBuZXdJZGVudGl0eSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW1xyXG4gICAgICAgICAgICAxLDAsMCwwLFxyXG4gICAgICAgICAgICAwLDEsMCwwLFxyXG4gICAgICAgICAgICAwLDAsMSwwLFxyXG4gICAgICAgICAgICAwLDAsMCwxLFxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBuZXdDb3B5KG90aGVyOiBNYXRyaXg0KSA6IE1hdHJpeDQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IDE2OyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXN1bHQuZGF0YVtpXSA9IG90aGVyLmRhdGFbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUoKSA6IE1hdHJpeDQge1xyXG4gICAgICAgIHJldHVybiBNYXRyaXg0Lm5ld0NvcHkodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbGllZChvdGhlcjogTWF0cml4NCkge1xyXG4gIFxyXG4gICAgICAgIC8vIE5PVEU6IGkgc3dhcHBlZCBhIGFuZCBiLCB0aGlzIG1ha2VzIG1vcmUgc2Vuc2UgdG8gbWUsIGJ1dCBpIGNvdWxkIGJlIHdyb25nIGFib3V0IGl0Li4uXHJcbiAgICAgICAgY29uc3QgYSA9IG90aGVyLmRhdGE7XHJcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuZGF0YTsgXHJcblxyXG4gICAgICAgIHZhciBiMDAgPSBiWzAgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIGIwMSA9IGJbMCAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgYjAyID0gYlswICogNCArIDJdO1xyXG4gICAgICAgIHZhciBiMDMgPSBiWzAgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIGIxMCA9IGJbMSAqIDQgKyAwXTtcclxuICAgICAgICB2YXIgYjExID0gYlsxICogNCArIDFdO1xyXG4gICAgICAgIHZhciBiMTIgPSBiWzEgKiA0ICsgMl07XHJcbiAgICAgICAgdmFyIGIxMyA9IGJbMSAqIDQgKyAzXTtcclxuICAgICAgICB2YXIgYjIwID0gYlsyICogNCArIDBdO1xyXG4gICAgICAgIHZhciBiMjEgPSBiWzIgKiA0ICsgMV07XHJcbiAgICAgICAgdmFyIGIyMiA9IGJbMiAqIDQgKyAyXTtcclxuICAgICAgICB2YXIgYjIzID0gYlsyICogNCArIDNdO1xyXG4gICAgICAgIHZhciBiMzAgPSBiWzMgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIGIzMSA9IGJbMyAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgYjMyID0gYlszICogNCArIDJdO1xyXG4gICAgICAgIHZhciBiMzMgPSBiWzMgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIGEwMCA9IGFbMCAqIDQgKyAwXTtcclxuICAgICAgICB2YXIgYTAxID0gYVswICogNCArIDFdO1xyXG4gICAgICAgIHZhciBhMDIgPSBhWzAgKiA0ICsgMl07XHJcbiAgICAgICAgdmFyIGEwMyA9IGFbMCAqIDQgKyAzXTtcclxuICAgICAgICB2YXIgYTEwID0gYVsxICogNCArIDBdO1xyXG4gICAgICAgIHZhciBhMTEgPSBhWzEgKiA0ICsgMV07XHJcbiAgICAgICAgdmFyIGExMiA9IGFbMSAqIDQgKyAyXTtcclxuICAgICAgICB2YXIgYTEzID0gYVsxICogNCArIDNdO1xyXG4gICAgICAgIHZhciBhMjAgPSBhWzIgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIGEyMSA9IGFbMiAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgYTIyID0gYVsyICogNCArIDJdO1xyXG4gICAgICAgIHZhciBhMjMgPSBhWzIgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIGEzMCA9IGFbMyAqIDQgKyAwXTtcclxuICAgICAgICB2YXIgYTMxID0gYVszICogNCArIDFdO1xyXG4gICAgICAgIHZhciBhMzIgPSBhWzMgKiA0ICsgMl07XHJcbiAgICAgICAgdmFyIGEzMyA9IGFbMyAqIDQgKyAzXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXg0KFtcclxuICAgICAgICAgICAgYjAwICogYTAwICsgYjAxICogYTEwICsgYjAyICogYTIwICsgYjAzICogYTMwLFxyXG4gICAgICAgICAgICBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjEgKyBiMDMgKiBhMzEsXHJcbiAgICAgICAgICAgIGIwMCAqIGEwMiArIGIwMSAqIGExMiArIGIwMiAqIGEyMiArIGIwMyAqIGEzMixcclxuICAgICAgICAgICAgYjAwICogYTAzICsgYjAxICogYTEzICsgYjAyICogYTIzICsgYjAzICogYTMzLFxyXG4gICAgICAgICAgICBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjAgKyBiMTMgKiBhMzAsXHJcbiAgICAgICAgICAgIGIxMCAqIGEwMSArIGIxMSAqIGExMSArIGIxMiAqIGEyMSArIGIxMyAqIGEzMSxcclxuICAgICAgICAgICAgYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyICsgYjEzICogYTMyLFxyXG4gICAgICAgICAgICBiMTAgKiBhMDMgKyBiMTEgKiBhMTMgKyBiMTIgKiBhMjMgKyBiMTMgKiBhMzMsXHJcbiAgICAgICAgICAgIGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMCArIGIyMyAqIGEzMCxcclxuICAgICAgICAgICAgYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxICsgYjIzICogYTMxLFxyXG4gICAgICAgICAgICBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjIgKyBiMjMgKiBhMzIsXHJcbiAgICAgICAgICAgIGIyMCAqIGEwMyArIGIyMSAqIGExMyArIGIyMiAqIGEyMyArIGIyMyAqIGEzMyxcclxuICAgICAgICAgICAgYjMwICogYTAwICsgYjMxICogYTEwICsgYjMyICogYTIwICsgYjMzICogYTMwLFxyXG4gICAgICAgICAgICBiMzAgKiBhMDEgKyBiMzEgKiBhMTEgKyBiMzIgKiBhMjEgKyBiMzMgKiBhMzEsXHJcbiAgICAgICAgICAgIGIzMCAqIGEwMiArIGIzMSAqIGExMiArIGIzMiAqIGEyMiArIGIzMyAqIGEzMixcclxuICAgICAgICAgICAgYjMwICogYTAzICsgYjMxICogYTEzICsgYjMyICogYTIzICsgYjMzICogYTMzLFxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICBcclxuICAgIFxyXG4gICAgbXVsdGlwbHkob3RoZXI6IE1hdHJpeDQpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm11bHRpcGxpZWQob3RoZXIpLmRhdGE7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICB0cmFuc3Bvc2UoKSA6IE1hdHJpeDQge1xyXG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCByZXMgPSBtYXRyaXguZGF0YTtcclxuICAgICAgICBsZXQgb2xkID0gdGhpcy5kYXRhO1xyXG5cclxuICAgICAgICByZXNbIDBdID0gb2xkWzBdO1xyXG4gICAgICAgIHJlc1sgMV0gPSBvbGRbNF07XHJcbiAgICAgICAgcmVzWyAyXSA9IG9sZFs4XTtcclxuICAgICAgICByZXNbIDNdID0gb2xkWzEyXTtcclxuICAgICAgICByZXNbIDRdID0gb2xkWzFdO1xyXG4gICAgICAgIHJlc1sgNV0gPSBvbGRbNV07XHJcbiAgICAgICAgcmVzWyA2XSA9IG9sZFs5XTtcclxuICAgICAgICByZXNbIDddID0gb2xkWzEzXTtcclxuICAgICAgICByZXNbIDhdID0gb2xkWzJdO1xyXG4gICAgICAgIHJlc1sgOV0gPSBvbGRbNl07XHJcbiAgICAgICAgcmVzWzEwXSA9IG9sZFsxMF07XHJcbiAgICAgICAgcmVzWzExXSA9IG9sZFsxNF07XHJcbiAgICAgICAgcmVzWzEyXSA9IG9sZFszXTtcclxuICAgICAgICByZXNbMTNdID0gb2xkWzddO1xyXG4gICAgICAgIHJlc1sxNF0gPSBvbGRbMTFdO1xyXG4gICAgICAgIHJlc1sxNV0gPSBvbGRbMTVdO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3RhdGljIG5ld0xvb2tBdChjYW1lcmFQb3NpdGlvbjogVmVjdG9yMywgdGFyZ2V0OiBWZWN0b3IzLCB1cDogVmVjdG9yMykgOiBNYXRyaXg0IHtcclxuXHJcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBtYXRyaXguZGF0YTtcclxuICAgICAgICBsZXQgekF4aXMgPSBjYW1lcmFQb3NpdGlvbi5jbG9uZSgpLnN1Yih0YXJnZXQpLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIGxldCB4QXhpcyA9IHVwLmNsb25lKCkuY3Jvc3ModXApLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIGxldCB5QXhpcyA9IHpBeGlzLmNsb25lKCkuY3Jvc3MoeEF4aXMpLm5vcm1hbGl6ZSgpO1xyXG4gICAgXHJcbiAgICAgICAgZGF0YVsgMF0gPSB4QXhpcy54O1xyXG4gICAgICAgIGRhdGFbIDFdID0geEF4aXMueTtcclxuICAgICAgICBkYXRhWyAyXSA9IHhBeGlzLno7XHJcbiAgICAgICAgZGF0YVsgM10gPSAwO1xyXG4gICAgICAgIGRhdGFbIDRdID0geUF4aXMueDtcclxuICAgICAgICBkYXRhWyA1XSA9IHlBeGlzLnk7XHJcbiAgICAgICAgZGF0YVsgNl0gPSB5QXhpcy56O1xyXG4gICAgICAgIGRhdGFbIDddID0gMDtcclxuICAgICAgICBkYXRhWyA4XSA9IHpBeGlzLng7XHJcbiAgICAgICAgZGF0YVsgOV0gPSB6QXhpcy55O1xyXG4gICAgICAgIGRhdGFbMTBdID0gekF4aXMuejtcclxuICAgICAgICBkYXRhWzExXSA9IDA7XHJcbiAgICAgICAgZGF0YVsxMl0gPSBjYW1lcmFQb3NpdGlvbi54O1xyXG4gICAgICAgIGRhdGFbMTNdID0gY2FtZXJhUG9zaXRpb24ueTtcclxuICAgICAgICBkYXRhWzE0XSA9IGNhbWVyYVBvc2l0aW9uLno7XHJcbiAgICAgICAgZGF0YVsxNV0gPSAxO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlcyBhIDQtYnktNCBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZ2l2ZW4gdGhlIGFuZ3VsYXIgaGVpZ2h0XHJcbiAgICAgKiBvZiB0aGUgZnJ1c3R1bSwgdGhlIGFzcGVjdCByYXRpbywgYW5kIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiAgVGhlXHJcbiAgICAgKiBhcmd1bWVudHMgZGVmaW5lIGEgZnJ1c3R1bSBleHRlbmRpbmcgaW4gdGhlIG5lZ2F0aXZlIHogZGlyZWN0aW9uLiAgVGhlIGdpdmVuXHJcbiAgICAgKiBhbmdsZSBpcyB0aGUgdmVydGljYWwgYW5nbGUgb2YgdGhlIGZydXN0dW0sIGFuZCB0aGUgaG9yaXpvbnRhbCBhbmdsZSBpc1xyXG4gICAgICogZGV0ZXJtaW5lZCB0byBwcm9kdWNlIHRoZSBnaXZlbiBhc3BlY3QgcmF0aW8uICBUaGUgYXJndW1lbnRzIG5lYXIgYW5kIGZhciBhcmVcclxuICAgICAqIHRoZSBkaXN0YW5jZXMgdG8gdGhlIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuICBOb3RlIHRoYXQgbmVhciBhbmQgZmFyXHJcbiAgICAgKiBhcmUgbm90IHogY29vcmRpbmF0ZXMsIGJ1dCByYXRoZXIgdGhleSBhcmUgZGlzdGFuY2VzIGFsb25nIHRoZSBuZWdhdGl2ZVxyXG4gICAgICogei1heGlzLiAgVGhlIG1hdHJpeCBnZW5lcmF0ZWQgc2VuZHMgdGhlIHZpZXdpbmcgZnJ1c3R1bSB0byB0aGUgdW5pdCBib3guXHJcbiAgICAgKiBXZSBhc3N1bWUgYSB1bml0IGJveCBleHRlbmRpbmcgZnJvbSAtMSB0byAxIGluIHRoZSB4IGFuZCB5IGRpbWVuc2lvbnMgYW5kXHJcbiAgICAgKiBmcm9tIC0xIHRvIDEgaW4gdGhlIHogZGltZW5zaW9uLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkT2ZWaWV3SW5SYWRpYW5zIGZpZWxkIG9mIHZpZXcgaW4geSBheGlzLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBhc3BlY3Qgb2Ygdmlld3BvcnQgKHdpZHRoIC8gaGVpZ2h0KVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgbmVhciBaIGNsaXBwaW5nIHBsYW5lXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmFyIGZhciBaIGNsaXBwaW5nIHBsYW5lXHJcbiAgICAgKiBAcGFyYW0ge01hdHJpeDR9IFtkc3RdIG9wdGlvbmFsIG1hdHJpeCB0byBzdG9yZSByZXN1bHRcclxuICAgICAqIEByZXR1cm4ge01hdHJpeDR9IGRzdCBvciBhIG5ldyBtYXRyaXggaWYgbm9uZSBwcm92aWRlZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbmV3UGVyc3BlY3RpdmUoZm92OiBudW1iZXIsIGFzcGVjdDogbnVtYmVyLCBuZWFyOiBudW1iZXIsIGZhcjogbnVtYmVyKSA6IE1hdHJpeDQge1xyXG5cclxuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgICAgICBsZXQgZGF0YSA9IG1hdHJpeC5kYXRhO1xyXG5cclxuICAgICAgICB2YXIgZiA9IE1hdGgudGFuKE1hdGguUEkgKiAwLjUgLSAwLjUgKiBmb3YpO1xyXG4gICAgICAgIHZhciByYW5nZUludiA9IDEuMCAvIChuZWFyIC0gZmFyKTtcclxuICAgIFxyXG4gICAgICAgIGRhdGFbIDBdID0gZiAvIGFzcGVjdDtcclxuICAgICAgICBkYXRhWyAxXSA9IDA7XHJcbiAgICAgICAgZGF0YVsgMl0gPSAwO1xyXG4gICAgICAgIGRhdGFbIDNdID0gMDtcclxuICAgICAgICBkYXRhWyA0XSA9IDA7XHJcbiAgICAgICAgZGF0YVsgNV0gPSBmO1xyXG4gICAgICAgIGRhdGFbIDZdID0gMDtcclxuICAgICAgICBkYXRhWyA3XSA9IDA7XHJcbiAgICAgICAgZGF0YVsgOF0gPSAwO1xyXG4gICAgICAgIGRhdGFbIDldID0gMDtcclxuICAgICAgICBkYXRhWzEwXSA9IChuZWFyICsgZmFyKSAqIHJhbmdlSW52O1xyXG4gICAgICAgIGRhdGFbMTFdID0gLTE7XHJcbiAgICAgICAgZGF0YVsxMl0gPSAwO1xyXG4gICAgICAgIGRhdGFbMTNdID0gMDtcclxuICAgICAgICBkYXRhWzE0XSA9IG5lYXIgKiBmYXIgKiByYW5nZUludiAqIDI7XHJcbiAgICAgICAgZGF0YVsxNV0gPSAwO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlcyBhIDQtYnktNCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXggZ2l2ZW4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZVxyXG4gICAgICogcGxhbmVzIGRlZmluaW5nIHRoZSBheGlzLWFsaWduZWQsIGJveC1zaGFwZWQgdmlld2luZyB2b2x1bWUuICBUaGUgbWF0cml4XHJcbiAgICAgKiBnZW5lcmF0ZWQgc2VuZHMgdGhhdCBib3ggdG8gdGhlIHVuaXQgYm94LiAgTm90ZSB0aGF0IGFsdGhvdWdoIGxlZnQgYW5kIHJpZ2h0XHJcbiAgICAgKiBhcmUgeCBjb29yZGluYXRlcyBhbmQgYm90dG9tIGFuZCB0b3AgYXJlIHkgY29vcmRpbmF0ZXMsIG5lYXIgYW5kIGZhclxyXG4gICAgICogYXJlIG5vdCB6IGNvb3JkaW5hdGVzLCBidXQgcmF0aGVyIHRoZXkgYXJlIGRpc3RhbmNlcyBhbG9uZyB0aGUgbmVnYXRpdmVcclxuICAgICAqIHotYXhpcy4gIFdlIGFzc3VtZSBhIHVuaXQgYm94IGV4dGVuZGluZyBmcm9tIC0xIHRvIDEgaW4gdGhlIHggYW5kIHlcclxuICAgICAqIGRpbWVuc2lvbnMgYW5kIGZyb20gLTEgdG8gMSBpbiB0aGUgeiBkaW1lbnNpb24uXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgcGxhbmUgb2YgdGhlIGJveC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmVhciBUaGUgbmVnYXRpdmUgeiBjb29yZGluYXRlIG9mIHRoZSBuZWFyIHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmFyIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIGZhciBwbGFuZSBvZiB0aGUgYm94LlxyXG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBbZHN0XSBvcHRpb25hbCBtYXRyaXggdG8gc3RvcmUgcmVzdWx0XHJcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXg0fSBkc3Qgb3IgYSBuZXcgbWF0cml4IGlmIG5vbmUgcHJvdmlkZWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5ld09ydGhvZ3JhcGhpYyhsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCB0b3A6IG51bWJlciwgbmVhcjogbnVtYmVyLCBmYXI6IG51bWJlcikgOiBNYXRyaXg0IHtcclxuICAgIFxyXG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIGxldCBkc3QgPSBtYXRyaXguZGF0YTtcclxuICAgIFxyXG4gICAgICAgIGRzdFsgMF0gPSAyIC8gKHJpZ2h0IC0gbGVmdCk7XHJcbiAgICAgICAgZHN0WyAxXSA9IDA7XHJcbiAgICAgICAgZHN0WyAyXSA9IDA7XHJcbiAgICAgICAgZHN0WyAzXSA9IDA7XHJcbiAgICAgICAgZHN0WyA0XSA9IDA7XHJcbiAgICAgICAgZHN0WyA1XSA9IDIgLyAodG9wIC0gYm90dG9tKTtcclxuICAgICAgICBkc3RbIDZdID0gMDtcclxuICAgICAgICBkc3RbIDddID0gMDtcclxuICAgICAgICBkc3RbIDhdID0gMDtcclxuICAgICAgICBkc3RbIDldID0gMDtcclxuICAgICAgICBkc3RbMTBdID0gMiAvIChuZWFyIC0gZmFyKTtcclxuICAgICAgICBkc3RbMTFdID0gMDtcclxuICAgICAgICBkc3RbMTJdID0gKGxlZnQgKyByaWdodCkgLyAobGVmdCAtIHJpZ2h0KTtcclxuICAgICAgICBkc3RbMTNdID0gKGJvdHRvbSArIHRvcCkgLyAoYm90dG9tIC0gdG9wKTtcclxuICAgICAgICBkc3RbMTRdID0gKG5lYXIgKyBmYXIpIC8gKG5lYXIgLSBmYXIpO1xyXG4gICAgICAgIGRzdFsxNV0gPSAxO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlcyBhIDQtYnktNCBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZ2l2ZW4gdGhlIGxlZnQsIHJpZ2h0LFxyXG4gICAgICogdG9wLCBib3R0b20sIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuIFRoZSBhcmd1bWVudHMgZGVmaW5lIGEgZnJ1c3R1bVxyXG4gICAgICogZXh0ZW5kaW5nIGluIHRoZSBuZWdhdGl2ZSB6IGRpcmVjdGlvbi4gVGhlIGFyZ3VtZW50cyBuZWFyIGFuZCBmYXIgYXJlIHRoZVxyXG4gICAgICogZGlzdGFuY2VzIHRvIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiBOb3RlIHRoYXQgbmVhciBhbmQgZmFyIGFyZSBub3RcclxuICAgICAqIHogY29vcmRpbmF0ZXMsIGJ1dCByYXRoZXIgdGhleSBhcmUgZGlzdGFuY2VzIGFsb25nIHRoZSBuZWdhdGl2ZSB6LWF4aXMuIFRoZVxyXG4gICAgICogbWF0cml4IGdlbmVyYXRlZCBzZW5kcyB0aGUgdmlld2luZyBmcnVzdHVtIHRvIHRoZSB1bml0IGJveC4gV2UgYXNzdW1lIGEgdW5pdFxyXG4gICAgICogYm94IGV4dGVuZGluZyBmcm9tIC0xIHRvIDEgaW4gdGhlIHggYW5kIHkgZGltZW5zaW9ucyBhbmQgZnJvbSAtMSB0byAxIGluIHRoZSB6XHJcbiAgICAgKiBkaW1lbnNpb24uXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgcGxhbmUgb2YgdGhlIGJveC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmVhciBUaGUgbmVnYXRpdmUgeiBjb29yZGluYXRlIG9mIHRoZSBuZWFyIHBsYW5lIG9mIHRoZSBib3guXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmFyIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIGZhciBwbGFuZSBvZiB0aGUgYm94LlxyXG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBbZHN0XSBvcHRpb25hbCBtYXRyaXggdG8gc3RvcmUgcmVzdWx0XHJcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXg0fSBkc3Qgb3IgYSBuZXcgbWF0cml4IGlmIG5vbmUgcHJvdmlkZWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5ld0ZydXN0dW0obGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgdG9wOiBudW1iZXIsIG5lYXI6IG51bWJlciwgZmFyOiBudW1iZXIpIDogTWF0cml4NCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICAgICAgbGV0IGRzdCA9IG1hdHJpeC5kYXRhO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGR4ID0gcmlnaHQgLSBsZWZ0O1xyXG4gICAgICAgIHZhciBkeSA9IHRvcCAtIGJvdHRvbTtcclxuICAgICAgICB2YXIgZHogPSBmYXIgLSBuZWFyO1xyXG4gICAgXHJcbiAgICAgICAgZHN0WyAwXSA9IDIgKiBuZWFyIC8gZHg7XHJcbiAgICAgICAgZHN0WyAxXSA9IDA7XHJcbiAgICAgICAgZHN0WyAyXSA9IDA7XHJcbiAgICAgICAgZHN0WyAzXSA9IDA7XHJcbiAgICAgICAgZHN0WyA0XSA9IDA7XHJcbiAgICAgICAgZHN0WyA1XSA9IDIgKiBuZWFyIC8gZHk7XHJcbiAgICAgICAgZHN0WyA2XSA9IDA7XHJcbiAgICAgICAgZHN0WyA3XSA9IDA7XHJcbiAgICAgICAgZHN0WyA4XSA9IChsZWZ0ICsgcmlnaHQpIC8gZHg7XHJcbiAgICAgICAgZHN0WyA5XSA9ICh0b3AgKyBib3R0b20pIC8gZHk7XHJcbiAgICAgICAgZHN0WzEwXSA9IC0oZmFyICsgbmVhcikgLyBkejtcclxuICAgICAgICBkc3RbMTFdID0gLTE7XHJcbiAgICAgICAgZHN0WzEyXSA9IDA7XHJcbiAgICAgICAgZHN0WzEzXSA9IDA7XHJcbiAgICAgICAgZHN0WzE0XSA9IC0yICogbmVhciAqIGZhciAvIGR6O1xyXG4gICAgICAgIGRzdFsxNV0gPSAwO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3RhdGljIG5ld1RyYW5zbGF0aW9uKHR4OiBudW1iZXIsIHR5OiBudW1iZXIsIHR6OiBudW1iZXIpIDogTWF0cml4NCB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW1xyXG4gICAgICAgICAgICAxLDAsMCwwLFxyXG4gICAgICAgICAgICAwLDEsMCwwLFxyXG4gICAgICAgICAgICAwLDAsMSwwLFxyXG4gICAgICAgICAgICB0eCx0eSx0eiwxXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN0YXRpYyBuZXdYUm90YXRpb24oYW5nbGVJblJhZGlhbnM6IG51bWJlcikgOiBNYXRyaXg0IHtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcclxuICAgICAgICB2YXIgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXg0KFtcclxuICAgICAgICAgICAgMSwwLDAsMCxcclxuICAgICAgICAgICAgMCxjLC1zLDAsXHJcbiAgICAgICAgICAgIDAscyxjLDAsXHJcbiAgICAgICAgICAgIDAsMCwwLDEsXHJcbiAgICAgICAgXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN0YXRpYyBuZXdZUm90YXRpb24oYW5nbGVJblJhZGlhbnM6IG51bWJlcikgOiBNYXRyaXg0IHtcclxuXHJcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XHJcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW1xyXG4gICAgICAgICAgICBjLDAscywwLFxyXG4gICAgICAgICAgICAwLDEsMCwwLFxyXG4gICAgICAgICAgICAtcywwLGMsMCxcclxuICAgICAgICAgICAgMCwwLDAsMSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3RhdGljIG5ld1pSb3RhdGlvbihhbmdsZUluUmFkaWFuczogbnVtYmVyKSB7XHJcbiAgICBcclxuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XHJcbiAgICBcclxuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcclxuICAgICAgICB2YXIgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcclxuICAgIFxyXG4gICAgICAgIGRzdFsgMF0gPSBjO1xyXG4gICAgICAgIGRzdFsgMV0gPSBzO1xyXG4gICAgICAgIGRzdFsgMl0gPSAwO1xyXG4gICAgICAgIGRzdFsgM10gPSAwO1xyXG4gICAgICAgIGRzdFsgNF0gPSAtcztcclxuICAgICAgICBkc3RbIDVdID0gYztcclxuICAgICAgICBkc3RbIDZdID0gMDtcclxuICAgICAgICBkc3RbIDddID0gMDtcclxuICAgICAgICBkc3RbIDhdID0gMDtcclxuICAgICAgICBkc3RbIDldID0gMDtcclxuICAgICAgICBkc3RbMTBdID0gMTtcclxuICAgICAgICBkc3RbMTFdID0gMDtcclxuICAgICAgICBkc3RbMTJdID0gMDtcclxuICAgICAgICBkc3RbMTNdID0gMDtcclxuICAgICAgICBkc3RbMTRdID0gMDtcclxuICAgICAgICBkc3RbMTVdID0gMTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIE1ha2VzIGFuIHJvdGF0aW9uIG1hdHJpeCBhcm91bmQgYW4gYXJiaXRyYXJ5IGF4aXNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yM30gYXhpcyBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBhbW91bnQgdG8gcm90YXRlXHJcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXg0fSBkc3Qgb3IgYSBuZXcgbWF0cml4IGlmIG5vbmUgcHJvdmlkZWRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG5ld0F4aXNSb3RhdGlvbihheGlzOiBWZWN0b3IzLCBhbmdsZUluUmFkaWFuczogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIGxldCBkc3QgPSBtYXRyaXguZGF0YTtcclxuICAgIFxyXG4gICAgICAgIGxldCB4ID0gYXhpcy54O1xyXG4gICAgICAgIGxldCB5ID0gYXhpcy55O1xyXG4gICAgICAgIGxldCB6ID0gYXhpcy56O1xyXG4gICAgICAgIGxldCBuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XHJcbiAgICAgICAgeCAvPSBuO1xyXG4gICAgICAgIHkgLz0gbjtcclxuICAgICAgICB6IC89IG47XHJcbiAgICAgICAgbGV0IHh4ID0geCAqIHg7XHJcbiAgICAgICAgbGV0IHl5ID0geSAqIHk7XHJcbiAgICAgICAgbGV0IHp6ID0geiAqIHo7XHJcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XHJcbiAgICAgICAgbGV0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XHJcbiAgICAgICAgbGV0IG9uZU1pbnVzQ29zaW5lID0gMSAtIGM7XHJcbiAgICBcclxuICAgICAgICBkc3RbIDBdID0geHggKyAoMSAtIHh4KSAqIGM7XHJcbiAgICAgICAgZHN0WyAxXSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgKyB6ICogcztcclxuICAgICAgICBkc3RbIDJdID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHkgKiBzO1xyXG4gICAgICAgIGRzdFsgM10gPSAwO1xyXG4gICAgICAgIGRzdFsgNF0gPSB4ICogeSAqIG9uZU1pbnVzQ29zaW5lIC0geiAqIHM7XHJcbiAgICAgICAgZHN0WyA1XSA9IHl5ICsgKDEgLSB5eSkgKiBjO1xyXG4gICAgICAgIGRzdFsgNl0gPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeCAqIHM7XHJcbiAgICAgICAgZHN0WyA3XSA9IDA7XHJcbiAgICAgICAgZHN0WyA4XSA9IHggKiB6ICogb25lTWludXNDb3NpbmUgKyB5ICogcztcclxuICAgICAgICBkc3RbIDldID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xyXG4gICAgICAgIGRzdFsxMF0gPSB6eiArICgxIC0genopICogYztcclxuICAgICAgICBkc3RbMTFdID0gMDtcclxuICAgICAgICBkc3RbMTJdID0gMDtcclxuICAgICAgICBkc3RbMTNdID0gMDtcclxuICAgICAgICBkc3RbMTRdID0gMDtcclxuICAgICAgICBkc3RbMTVdID0gMTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogTXVsdGlwbHkgYnkgYW4gYXhpcyByb3RhdGlvbiBtYXRyaXhcclxuICAgICAqIEBwYXJhbSB7TWF0cml4NH0gbSBtYXRyaXggdG8gbXVsdGlwbHlcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yM30gYXhpcyBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBhbW91bnQgdG8gcm90YXRlXHJcbiAgICAgKiBAcGFyYW0ge01hdHJpeDR9IFtkc3RdIG9wdGlvbmFsIG1hdHJpeCB0byBzdG9yZSByZXN1bHRcclxuICAgICAqIEByZXR1cm4ge01hdHJpeDR9IGRzdCBvciBhIG5ldyBtYXRyaXggaWYgbm9uZSBwcm92aWRlZFxyXG4gICAgICogQG1lbWJlck9mIG1vZHVsZTp3ZWJnbC0zZC1tYXRoXHJcbiAgICAgKi9cclxuICAgIGF4aXNSb3RhdGUoYXhpczogVmVjdG9yMywgYW5nbGVJblJhZGlhbnM6IG51bWJlcikgOiBNYXRyaXg0IHtcclxuXHJcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgb3B0aW1pemVkIHZlcnNpb24gb2ZcclxuICAgICAgICAvLyByZXR1cm4gbXVsdGlwbHkobSwgYXhpc1JvdGF0aW9uKGF4aXMsIGFuZ2xlSW5SYWRpYW5zKSwgZHN0KTtcclxuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XHJcbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGE7XHJcblxyXG4gICAgICAgIHZhciB4ID0gYXhpcy54O1xyXG4gICAgICAgIHZhciB5ID0gYXhpcy55O1xyXG4gICAgICAgIHZhciB6ID0gYXhpcy56O1xyXG4gICAgICAgIHZhciBuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XHJcbiAgICAgICAgeCAvPSBuO1xyXG4gICAgICAgIHkgLz0gbjtcclxuICAgICAgICB6IC89IG47XHJcbiAgICAgICAgdmFyIHh4ID0geCAqIHg7XHJcbiAgICAgICAgdmFyIHl5ID0geSAqIHk7XHJcbiAgICAgICAgdmFyIHp6ID0geiAqIHo7XHJcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XHJcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XHJcbiAgICAgICAgdmFyIG9uZU1pbnVzQ29zaW5lID0gMSAtIGM7XHJcbiAgICBcclxuICAgICAgICB2YXIgcjAwID0geHggKyAoMSAtIHh4KSAqIGM7XHJcbiAgICAgICAgdmFyIHIwMSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgKyB6ICogcztcclxuICAgICAgICB2YXIgcjAyID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHkgKiBzO1xyXG4gICAgICAgIHZhciByMTAgPSB4ICogeSAqIG9uZU1pbnVzQ29zaW5lIC0geiAqIHM7XHJcbiAgICAgICAgdmFyIHIxMSA9IHl5ICsgKDEgLSB5eSkgKiBjO1xyXG4gICAgICAgIHZhciByMTIgPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeCAqIHM7XHJcbiAgICAgICAgdmFyIHIyMCA9IHggKiB6ICogb25lTWludXNDb3NpbmUgKyB5ICogcztcclxuICAgICAgICB2YXIgcjIxID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xyXG4gICAgICAgIHZhciByMjIgPSB6eiArICgxIC0genopICogYztcclxuICAgIFxyXG4gICAgICAgIHZhciBtMDAgPSBtWzBdO1xyXG4gICAgICAgIHZhciBtMDEgPSBtWzFdO1xyXG4gICAgICAgIHZhciBtMDIgPSBtWzJdO1xyXG4gICAgICAgIHZhciBtMDMgPSBtWzNdO1xyXG4gICAgICAgIHZhciBtMTAgPSBtWzRdO1xyXG4gICAgICAgIHZhciBtMTEgPSBtWzVdO1xyXG4gICAgICAgIHZhciBtMTIgPSBtWzZdO1xyXG4gICAgICAgIHZhciBtMTMgPSBtWzddO1xyXG4gICAgICAgIHZhciBtMjAgPSBtWzhdO1xyXG4gICAgICAgIHZhciBtMjEgPSBtWzldO1xyXG4gICAgICAgIHZhciBtMjIgPSBtWzEwXTtcclxuICAgICAgICB2YXIgbTIzID0gbVsxMV07XHJcbiAgICBcclxuICAgICAgICBkc3RbIDBdID0gcjAwICogbTAwICsgcjAxICogbTEwICsgcjAyICogbTIwO1xyXG4gICAgICAgIGRzdFsgMV0gPSByMDAgKiBtMDEgKyByMDEgKiBtMTEgKyByMDIgKiBtMjE7XHJcbiAgICAgICAgZHN0WyAyXSA9IHIwMCAqIG0wMiArIHIwMSAqIG0xMiArIHIwMiAqIG0yMjtcclxuICAgICAgICBkc3RbIDNdID0gcjAwICogbTAzICsgcjAxICogbTEzICsgcjAyICogbTIzO1xyXG4gICAgICAgIGRzdFsgNF0gPSByMTAgKiBtMDAgKyByMTEgKiBtMTAgKyByMTIgKiBtMjA7XHJcbiAgICAgICAgZHN0WyA1XSA9IHIxMCAqIG0wMSArIHIxMSAqIG0xMSArIHIxMiAqIG0yMTtcclxuICAgICAgICBkc3RbIDZdID0gcjEwICogbTAyICsgcjExICogbTEyICsgcjEyICogbTIyO1xyXG4gICAgICAgIGRzdFsgN10gPSByMTAgKiBtMDMgKyByMTEgKiBtMTMgKyByMTIgKiBtMjM7XHJcbiAgICAgICAgZHN0WyA4XSA9IHIyMCAqIG0wMCArIHIyMSAqIG0xMCArIHIyMiAqIG0yMDtcclxuICAgICAgICBkc3RbIDldID0gcjIwICogbTAxICsgcjIxICogbTExICsgcjIyICogbTIxO1xyXG4gICAgICAgIGRzdFsxMF0gPSByMjAgKiBtMDIgKyByMjEgKiBtMTIgKyByMjIgKiBtMjI7XHJcbiAgICAgICAgZHN0WzExXSA9IHIyMCAqIG0wMyArIHIyMSAqIG0xMyArIHIyMiAqIG0yMztcclxuICAgIFxyXG4gICAgICAgIGlmIChtICE9PSBkc3QpIHtcclxuICAgICAgICAgICAgZHN0WzEyXSA9IG1bMTJdO1xyXG4gICAgICAgICAgICBkc3RbMTNdID0gbVsxM107XHJcbiAgICAgICAgICAgIGRzdFsxNF0gPSBtWzE0XTtcclxuICAgICAgICAgICAgZHN0WzE1XSA9IG1bMTVdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWFrZSBhIHNjYWxpbmcgbWF0cml4IFxyXG4gICAgc3RhdGljIG5ld1NjYWxlcihzeDogbnVtYmVyLCBzeTogbnVtYmVyLCBzejogbnVtYmVyKSA6IE1hdHJpeDQge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbXHJcbiAgICAgICAgICAgIHN4LDAsMCwwLFxyXG4gICAgICAgICAgICAwLHN5LDAsMCxcclxuICAgICAgICAgICAgMCwwLHN6LDAsXHJcbiAgICAgICAgICAgIDAsMCwwLCAxLFxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTXVsdGlwbHkgYnkgYSBzY2FsaW5nIG1hdHJpeFxyXG4gICAgICAgICAqIEBwYXJhbSB7TWF0cml4NH0gbSBtYXRyaXggdG8gbXVsdGlwbHlcclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ggeCBzY2FsZS5cclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3kgeSBzY2FsZS5cclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc3ogeiBzY2FsZS5cclxuICAgICAgICAgKiBAcGFyYW0ge01hdHJpeDR9IFtkc3RdIG9wdGlvbmFsIG1hdHJpeCB0byBzdG9yZSByZXN1bHRcclxuICAgICAgICAgKiBAcmV0dXJuIHtNYXRyaXg0fSBkc3Qgb3IgYSBuZXcgbWF0cml4IGlmIG5vbmUgcHJvdmlkZWRcclxuICAgICAgICAgKiBAbWVtYmVyT2YgbW9kdWxlOndlYmdsLTNkLW1hdGhcclxuICAgICAgICAgKi9cclxuICAgIHNjYWxlKHN4OiBudW1iZXIsIHN5OiBudW1iZXIsIHN6OiBudW1iZXIpIDogTWF0cml4NCB7XHJcbiAgICBcclxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBvcHRpbWl6ZWQgdmVyc2lvbiBvZlxyXG4gICAgICAgIC8vIHJldHVybiBtdWx0aXBseShtLCBzY2FsaW5nKHN4LCBzeSwgc3opLCBkc3QpO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XHJcbiAgICAgICAgbGV0IGRzdCA9IG1hdHJpeC5kYXRhO1xyXG4gICAgICAgIGxldCBtID0gdGhpcy5kYXRhO1xyXG5cclxuICAgICAgICBkc3RbIDBdID0gc3ggKiBtWzAgKiA0ICsgMF07XHJcbiAgICAgICAgZHN0WyAxXSA9IHN4ICogbVswICogNCArIDFdO1xyXG4gICAgICAgIGRzdFsgMl0gPSBzeCAqIG1bMCAqIDQgKyAyXTtcclxuICAgICAgICBkc3RbIDNdID0gc3ggKiBtWzAgKiA0ICsgM107XHJcbiAgICAgICAgZHN0WyA0XSA9IHN5ICogbVsxICogNCArIDBdO1xyXG4gICAgICAgIGRzdFsgNV0gPSBzeSAqIG1bMSAqIDQgKyAxXTtcclxuICAgICAgICBkc3RbIDZdID0gc3kgKiBtWzEgKiA0ICsgMl07XHJcbiAgICAgICAgZHN0WyA3XSA9IHN5ICogbVsxICogNCArIDNdO1xyXG4gICAgICAgIGRzdFsgOF0gPSBzeiAqIG1bMiAqIDQgKyAwXTtcclxuICAgICAgICBkc3RbIDldID0gc3ogKiBtWzIgKiA0ICsgMV07XHJcbiAgICAgICAgZHN0WzEwXSA9IHN6ICogbVsyICogNCArIDJdO1xyXG4gICAgICAgIGRzdFsxMV0gPSBzeiAqIG1bMiAqIDQgKyAzXTtcclxuICAgIFxyXG4gICAgICAgIGlmIChtICE9PSBkc3QpIHtcclxuICAgICAgICAgICAgZHN0WzEyXSA9IG1bMTJdO1xyXG4gICAgICAgICAgICBkc3RbMTNdID0gbVsxM107XHJcbiAgICAgICAgICAgIGRzdFsxNF0gPSBtWzE0XTtcclxuICAgICAgICAgICAgZHN0WzE1XSA9IG1bMTVdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBtYXRyaXg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogY3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRyYW5zbGF0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJbXX0gdHJhbnNsYXRpb24gW3gsIHksIHpdIHRyYW5zbGF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBxdWF0ZXJuaW9uIFt4LCB5LCB6LCB6XSBxdWF0ZXJuaW9uIHJvdGF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBzY2FsZSBbeCwgeSwgel0gc2NhbGVcclxuICAgICAqIEBwYXJhbSB7TWF0cml4NH0gW2RzdF0gb3B0aW9uYWwgbWF0cml4IHRvIHN0b3JlIHJlc3VsdFxyXG4gICAgICogQHJldHVybiB7TWF0cml4NH0gZHN0IG9yIGEgbmV3IG1hdHJpeCBpZiBub25lIHByb3ZpZGVkXHJcbiAgICAgKi9cclxuICAgIG5ld0NvbXBvc2UodHJhbnNsYXRpb246IFZlY3RvcjMsIHF1YXRlcm5pb246IFF1YXRlcm5pb24sIHNjYWxlOiBWZWN0b3IzKSA6IE1hdHJpeDQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xyXG4gICAgICAgIGxldCBkc3QgPSBtYXRyaXguZGF0YTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IHggPSBxdWF0ZXJuaW9uLng7XHJcbiAgICAgICAgY29uc3QgeSA9IHF1YXRlcm5pb24ueTtcclxuICAgICAgICBjb25zdCB6ID0gcXVhdGVybmlvbi56O1xyXG4gICAgICAgIGNvbnN0IHcgPSBxdWF0ZXJuaW9uLnc7XHJcbiAgICBcclxuICAgICAgICBjb25zdCB4MiA9IHggKyB4O1xyXG4gICAgICAgIGNvbnN0IHkyID0geSArIHk7XHJcbiAgICAgICAgY29uc3QgejIgPSB6ICsgejtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IHh4ID0geCAqIHgyO1xyXG4gICAgICAgIGNvbnN0IHh5ID0geCAqIHkyO1xyXG4gICAgICAgIGNvbnN0IHh6ID0geCAqIHoyO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgeXkgPSB5ICogeTI7XHJcbiAgICAgICAgY29uc3QgeXogPSB5ICogejI7XHJcbiAgICAgICAgY29uc3QgenogPSB6ICogejI7XHJcbiAgICBcclxuICAgICAgICBjb25zdCB3eCA9IHcgKiB4MjtcclxuICAgICAgICBjb25zdCB3eSA9IHcgKiB5MjtcclxuICAgICAgICBjb25zdCB3eiA9IHcgKiB6MjtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IHN4ID0gc2NhbGUueDtcclxuICAgICAgICBjb25zdCBzeSA9IHNjYWxlLnk7XHJcbiAgICAgICAgY29uc3Qgc3ogPSBzY2FsZS56O1xyXG4gICAgXHJcbiAgICAgICAgZHN0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XHJcbiAgICAgICAgZHN0WzFdID0gKHh5ICsgd3opICogc3g7XHJcbiAgICAgICAgZHN0WzJdID0gKHh6IC0gd3kpICogc3g7XHJcbiAgICAgICAgZHN0WzNdID0gMDtcclxuICAgIFxyXG4gICAgICAgIGRzdFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xyXG4gICAgICAgIGRzdFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xyXG4gICAgICAgIGRzdFs2XSA9ICh5eiArIHd4KSAqIHN5O1xyXG4gICAgICAgIGRzdFs3XSA9IDA7XHJcbiAgICBcclxuICAgICAgICBkc3RbIDhdID0gKHh6ICsgd3kpICogc3o7XHJcbiAgICAgICAgZHN0WyA5XSA9ICh5eiAtIHd4KSAqIHN6O1xyXG4gICAgICAgIGRzdFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcclxuICAgICAgICBkc3RbMTFdID0gMDtcclxuICAgIFxyXG4gICAgICAgIGRzdFsxMl0gPSB0cmFuc2xhdGlvbi54O1xyXG4gICAgICAgIGRzdFsxM10gPSB0cmFuc2xhdGlvbi55O1xyXG4gICAgICAgIGRzdFsxNF0gPSB0cmFuc2xhdGlvbi56O1xyXG4gICAgICAgIGRzdFsxNV0gPSAxO1xyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcXVhdEZyb21Sb3RhdGlvbk1hdHJpeCgpIHtcclxuICAgIC8vICAgICAvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxyXG4gICAgXHJcbiAgICAvLyAgICAgLy8gYXNzdW1lcyB0aGUgdXBwZXIgM3gzIG9mIG0gaXMgYSBwdXJlIHJvdGF0aW9uIG1hdHJpeCAoaS5lLCB1bnNjYWxlZClcclxuICAgIC8vICAgICBjb25zdCBtMTEgPSBtWzBdO1xyXG4gICAgLy8gICAgIGNvbnN0IG0xMiA9IG1bNF07XHJcbiAgICAvLyAgICAgY29uc3QgbTEzID0gbVs4XTtcclxuICAgIC8vICAgICBjb25zdCBtMjEgPSBtWzFdO1xyXG4gICAgLy8gICAgIGNvbnN0IG0yMiA9IG1bNV07XHJcbiAgICAvLyAgICAgY29uc3QgbTIzID0gbVs5XTtcclxuICAgIC8vICAgICBjb25zdCBtMzEgPSBtWzJdO1xyXG4gICAgLy8gICAgIGNvbnN0IG0zMiA9IG1bNl07XHJcbiAgICAvLyAgICAgY29uc3QgbTMzID0gbVsxMF07XHJcbiAgICBcclxuICAgIC8vICAgICBjb25zdCB0cmFjZSA9IG0xMSArIG0yMiArIG0zMztcclxuICAgIFxyXG4gICAgLy8gICAgIGlmICh0cmFjZSA+IDApIHtcclxuICAgIC8vICAgICAgICAgY29uc3QgcyA9IDAuNSAvIE1hdGguc3FydCh0cmFjZSArIDEpO1xyXG4gICAgLy8gICAgICAgICBkc3RbM10gPSAwLjI1IC8gcztcclxuICAgIC8vICAgICAgICAgZHN0WzBdID0gKG0zMiAtIG0yMykgKiBzO1xyXG4gICAgLy8gICAgICAgICBkc3RbMV0gPSAobTEzIC0gbTMxKSAqIHM7XHJcbiAgICAvLyAgICAgICAgIGRzdFsyXSA9IChtMjEgLSBtMTIpICogcztcclxuICAgIC8vICAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMpIHtcclxuICAgIC8vICAgICAgICAgY29uc3QgcyA9IDIgKiBNYXRoLnNxcnQoMSArIG0xMSAtIG0yMiAtIG0zMyk7XHJcbiAgICAvLyAgICAgICAgIGRzdFszXSA9IChtMzIgLSBtMjMpIC8gcztcclxuICAgIC8vICAgICAgICAgZHN0WzBdID0gMC4yNSAqIHM7XHJcbiAgICAvLyAgICAgICAgIGRzdFsxXSA9IChtMTIgKyBtMjEpIC8gcztcclxuICAgIC8vICAgICAgICAgZHN0WzJdID0gKG0xMyArIG0zMSkgLyBzO1xyXG4gICAgLy8gICAgIH0gZWxzZSBpZiAobTIyID4gbTMzKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnN0IHMgPSAyICogTWF0aC5zcXJ0KDEgKyBtMjIgLSBtMTEgLSBtMzMpO1xyXG4gICAgLy8gICAgICAgICBkc3RbM10gPSAobTEzIC0gbTMxKSAvIHM7XHJcbiAgICAvLyAgICAgICAgIGRzdFswXSA9IChtMTIgKyBtMjEpIC8gcztcclxuICAgIC8vICAgICAgICAgZHN0WzFdID0gMC4yNSAqIHM7XHJcbiAgICAvLyAgICAgICAgIGRzdFsyXSA9IChtMjMgKyBtMzIpIC8gcztcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zdCBzID0gMiAqIE1hdGguc3FydCgxICsgbTMzIC0gbTExIC0gbTIyKTtcclxuICAgIC8vICAgICAgICAgZHN0WzNdID0gKG0yMSAtIG0xMikgLyBzO1xyXG4gICAgLy8gICAgICAgICBkc3RbMF0gPSAobTEzICsgbTMxKSAvIHM7XHJcbiAgICAvLyAgICAgICAgIGRzdFsxXSA9IChtMjMgKyBtMzIpIC8gcztcclxuICAgIC8vICAgICAgICAgZHN0WzJdID0gMC4yNSAqIHM7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICAvLyBkZWNvbXBvc2UobWF0LCB0cmFuc2xhdGlvbiwgcXVhdGVybmlvbiwgc2NhbGUpIHtcclxuICAgIC8vICAgICBsZXQgc3ggPSBtNC5sZW5ndGgobWF0LnNsaWNlKDAsIDMpKTtcclxuICAgIC8vICAgICBjb25zdCBzeSA9IG00Lmxlbmd0aChtYXQuc2xpY2UoNCwgNykpO1xyXG4gICAgLy8gICAgIGNvbnN0IHN6ID0gbTQubGVuZ3RoKG1hdC5zbGljZSg4LCAxMSkpO1xyXG4gICAgXHJcbiAgICAvLyAgICAgLy8gaWYgZGV0ZXJtaW5hdGUgaXMgbmVnYXRpdmUsIHdlIG5lZWQgdG8gaW52ZXJ0IG9uZSBzY2FsZVxyXG4gICAgLy8gICAgIGNvbnN0IGRldCA9IGRldGVybWluYXRlKG1hdCk7XHJcbiAgICAvLyAgICAgaWYgKGRldCA8IDApIHtcclxuICAgIC8vICAgICAgICAgc3ggPSAtc3g7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgXHJcbiAgICAvLyAgICAgdHJhbnNsYXRpb25bMF0gPSBtYXRbMTJdO1xyXG4gICAgLy8gICAgIHRyYW5zbGF0aW9uWzFdID0gbWF0WzEzXTtcclxuICAgIC8vICAgICB0cmFuc2xhdGlvblsyXSA9IG1hdFsxNF07XHJcbiAgICBcclxuICAgIC8vICAgICAvLyBzY2FsZSB0aGUgcm90YXRpb24gcGFydFxyXG4gICAgLy8gICAgIGNvbnN0IG1hdHJpeCA9IG00LmNvcHkobWF0KTtcclxuICAgIFxyXG4gICAgLy8gICAgIGNvbnN0IGludlNYID0gMSAvIHN4O1xyXG4gICAgLy8gICAgIGNvbnN0IGludlNZID0gMSAvIHN5O1xyXG4gICAgLy8gICAgIGNvbnN0IGludlNaID0gMSAvIHN6O1xyXG4gICAgXHJcbiAgICAvLyAgICAgbWF0cml4WzBdICo9IGludlNYO1xyXG4gICAgLy8gICAgIG1hdHJpeFsxXSAqPSBpbnZTWDtcclxuICAgIC8vICAgICBtYXRyaXhbMl0gKj0gaW52U1g7XHJcbiAgICBcclxuICAgIC8vICAgICBtYXRyaXhbNF0gKj0gaW52U1k7XHJcbiAgICAvLyAgICAgbWF0cml4WzVdICo9IGludlNZO1xyXG4gICAgLy8gICAgIG1hdHJpeFs2XSAqPSBpbnZTWTtcclxuICAgIFxyXG4gICAgLy8gICAgIG1hdHJpeFs4XSAqPSBpbnZTWjtcclxuICAgIC8vICAgICBtYXRyaXhbOV0gKj0gaW52U1o7XHJcbiAgICAvLyAgICAgbWF0cml4WzEwXSAqPSBpbnZTWjtcclxuICAgIFxyXG4gICAgLy8gICAgIHF1YXRGcm9tUm90YXRpb25NYXRyaXgobWF0cml4LCBxdWF0ZXJuaW9uKTtcclxuICAgIFxyXG4gICAgLy8gICAgIHNjYWxlWzBdID0gc3g7XHJcbiAgICAvLyAgICAgc2NhbGVbMV0gPSBzeTtcclxuICAgIC8vICAgICBzY2FsZVsyXSA9IHN6O1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICBkZXRlcm1pbmF0ZSgpIDogbnVtYmVyIHtcclxuXHJcbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBtMDAgPSBtWzAgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIG0wMSA9IG1bMCAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgbTAyID0gbVswICogNCArIDJdO1xyXG4gICAgICAgIHZhciBtMDMgPSBtWzAgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIG0xMCA9IG1bMSAqIDQgKyAwXTtcclxuICAgICAgICB2YXIgbTExID0gbVsxICogNCArIDFdO1xyXG4gICAgICAgIHZhciBtMTIgPSBtWzEgKiA0ICsgMl07XHJcbiAgICAgICAgdmFyIG0xMyA9IG1bMSAqIDQgKyAzXTtcclxuICAgICAgICB2YXIgbTIwID0gbVsyICogNCArIDBdO1xyXG4gICAgICAgIHZhciBtMjEgPSBtWzIgKiA0ICsgMV07XHJcbiAgICAgICAgdmFyIG0yMiA9IG1bMiAqIDQgKyAyXTtcclxuICAgICAgICB2YXIgbTIzID0gbVsyICogNCArIDNdO1xyXG4gICAgICAgIHZhciBtMzAgPSBtWzMgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIG0zMSA9IG1bMyAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgbTMyID0gbVszICogNCArIDJdO1xyXG4gICAgICAgIHZhciBtMzMgPSBtWzMgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIHRtcF8wICA9IG0yMiAqIG0zMztcclxuICAgICAgICB2YXIgdG1wXzEgID0gbTMyICogbTIzO1xyXG4gICAgICAgIHZhciB0bXBfMiAgPSBtMTIgKiBtMzM7XHJcbiAgICAgICAgdmFyIHRtcF8zICA9IG0zMiAqIG0xMztcclxuICAgICAgICB2YXIgdG1wXzQgID0gbTEyICogbTIzO1xyXG4gICAgICAgIHZhciB0bXBfNSAgPSBtMjIgKiBtMTM7XHJcbiAgICAgICAgdmFyIHRtcF82ICA9IG0wMiAqIG0zMztcclxuICAgICAgICB2YXIgdG1wXzcgID0gbTMyICogbTAzO1xyXG4gICAgICAgIHZhciB0bXBfOCAgPSBtMDIgKiBtMjM7XHJcbiAgICAgICAgdmFyIHRtcF85ICA9IG0yMiAqIG0wMztcclxuICAgICAgICB2YXIgdG1wXzEwID0gbTAyICogbTEzO1xyXG4gICAgICAgIHZhciB0bXBfMTEgPSBtMTIgKiBtMDM7XHJcbiAgICBcclxuICAgICAgICB2YXIgdDAgPSAodG1wXzAgKiBtMTEgKyB0bXBfMyAqIG0yMSArIHRtcF80ICogbTMxKSAtXHJcbiAgICAgICAgICAgICh0bXBfMSAqIG0xMSArIHRtcF8yICogbTIxICsgdG1wXzUgKiBtMzEpO1xyXG4gICAgICAgIHZhciB0MSA9ICh0bXBfMSAqIG0wMSArIHRtcF82ICogbTIxICsgdG1wXzkgKiBtMzEpIC1cclxuICAgICAgICAgICAgKHRtcF8wICogbTAxICsgdG1wXzcgKiBtMjEgKyB0bXBfOCAqIG0zMSk7XHJcbiAgICAgICAgdmFyIHQyID0gKHRtcF8yICogbTAxICsgdG1wXzcgKiBtMTEgKyB0bXBfMTAgKiBtMzEpIC1cclxuICAgICAgICAgICAgKHRtcF8zICogbTAxICsgdG1wXzYgKiBtMTEgKyB0bXBfMTEgKiBtMzEpO1xyXG4gICAgICAgIHZhciB0MyA9ICh0bXBfNSAqIG0wMSArIHRtcF84ICogbTExICsgdG1wXzExICogbTIxKSAtXHJcbiAgICAgICAgICAgICh0bXBfNCAqIG0wMSArIHRtcF85ICogbTExICsgdG1wXzEwICogbTIxKTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiAxLjAgLyAobTAwICogdDAgKyBtMTAgKiB0MSArIG0yMCAqIHQyICsgbTMwICogdDMpO1xyXG4gICAgfVxyXG5cclxuICAgIGludmVyc2UoKSA6IE1hdHJpeDQge1xyXG5cclxuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcclxuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XHJcbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBtMDAgPSBtWzAgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIG0wMSA9IG1bMCAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgbTAyID0gbVswICogNCArIDJdO1xyXG4gICAgICAgIHZhciBtMDMgPSBtWzAgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIG0xMCA9IG1bMSAqIDQgKyAwXTtcclxuICAgICAgICB2YXIgbTExID0gbVsxICogNCArIDFdO1xyXG4gICAgICAgIHZhciBtMTIgPSBtWzEgKiA0ICsgMl07XHJcbiAgICAgICAgdmFyIG0xMyA9IG1bMSAqIDQgKyAzXTtcclxuICAgICAgICB2YXIgbTIwID0gbVsyICogNCArIDBdO1xyXG4gICAgICAgIHZhciBtMjEgPSBtWzIgKiA0ICsgMV07XHJcbiAgICAgICAgdmFyIG0yMiA9IG1bMiAqIDQgKyAyXTtcclxuICAgICAgICB2YXIgbTIzID0gbVsyICogNCArIDNdO1xyXG4gICAgICAgIHZhciBtMzAgPSBtWzMgKiA0ICsgMF07XHJcbiAgICAgICAgdmFyIG0zMSA9IG1bMyAqIDQgKyAxXTtcclxuICAgICAgICB2YXIgbTMyID0gbVszICogNCArIDJdO1xyXG4gICAgICAgIHZhciBtMzMgPSBtWzMgKiA0ICsgM107XHJcbiAgICAgICAgdmFyIHRtcF8wICA9IG0yMiAqIG0zMztcclxuICAgICAgICB2YXIgdG1wXzEgID0gbTMyICogbTIzO1xyXG4gICAgICAgIHZhciB0bXBfMiAgPSBtMTIgKiBtMzM7XHJcbiAgICAgICAgdmFyIHRtcF8zICA9IG0zMiAqIG0xMztcclxuICAgICAgICB2YXIgdG1wXzQgID0gbTEyICogbTIzO1xyXG4gICAgICAgIHZhciB0bXBfNSAgPSBtMjIgKiBtMTM7XHJcbiAgICAgICAgdmFyIHRtcF82ICA9IG0wMiAqIG0zMztcclxuICAgICAgICB2YXIgdG1wXzcgID0gbTMyICogbTAzO1xyXG4gICAgICAgIHZhciB0bXBfOCAgPSBtMDIgKiBtMjM7XHJcbiAgICAgICAgdmFyIHRtcF85ICA9IG0yMiAqIG0wMztcclxuICAgICAgICB2YXIgdG1wXzEwID0gbTAyICogbTEzO1xyXG4gICAgICAgIHZhciB0bXBfMTEgPSBtMTIgKiBtMDM7XHJcbiAgICAgICAgdmFyIHRtcF8xMiA9IG0yMCAqIG0zMTtcclxuICAgICAgICB2YXIgdG1wXzEzID0gbTMwICogbTIxO1xyXG4gICAgICAgIHZhciB0bXBfMTQgPSBtMTAgKiBtMzE7XHJcbiAgICAgICAgdmFyIHRtcF8xNSA9IG0zMCAqIG0xMTtcclxuICAgICAgICB2YXIgdG1wXzE2ID0gbTEwICogbTIxO1xyXG4gICAgICAgIHZhciB0bXBfMTcgPSBtMjAgKiBtMTE7XHJcbiAgICAgICAgdmFyIHRtcF8xOCA9IG0wMCAqIG0zMTtcclxuICAgICAgICB2YXIgdG1wXzE5ID0gbTMwICogbTAxO1xyXG4gICAgICAgIHZhciB0bXBfMjAgPSBtMDAgKiBtMjE7XHJcbiAgICAgICAgdmFyIHRtcF8yMSA9IG0yMCAqIG0wMTtcclxuICAgICAgICB2YXIgdG1wXzIyID0gbTAwICogbTExO1xyXG4gICAgICAgIHZhciB0bXBfMjMgPSBtMTAgKiBtMDE7XHJcbiAgICBcclxuICAgICAgICB2YXIgdDAgPSAodG1wXzAgKiBtMTEgKyB0bXBfMyAqIG0yMSArIHRtcF80ICogbTMxKSAtXHJcbiAgICAgICAgICAgICh0bXBfMSAqIG0xMSArIHRtcF8yICogbTIxICsgdG1wXzUgKiBtMzEpO1xyXG4gICAgICAgIHZhciB0MSA9ICh0bXBfMSAqIG0wMSArIHRtcF82ICogbTIxICsgdG1wXzkgKiBtMzEpIC1cclxuICAgICAgICAgICAgKHRtcF8wICogbTAxICsgdG1wXzcgKiBtMjEgKyB0bXBfOCAqIG0zMSk7XHJcbiAgICAgICAgdmFyIHQyID0gKHRtcF8yICogbTAxICsgdG1wXzcgKiBtMTEgKyB0bXBfMTAgKiBtMzEpIC1cclxuICAgICAgICAgICAgKHRtcF8zICogbTAxICsgdG1wXzYgKiBtMTEgKyB0bXBfMTEgKiBtMzEpO1xyXG4gICAgICAgIHZhciB0MyA9ICh0bXBfNSAqIG0wMSArIHRtcF84ICogbTExICsgdG1wXzExICogbTIxKSAtXHJcbiAgICAgICAgICAgICh0bXBfNCAqIG0wMSArIHRtcF85ICogbTExICsgdG1wXzEwICogbTIxKTtcclxuICAgIFxyXG4gICAgICAgIHZhciBkID0gMS4wIC8gKG0wMCAqIHQwICsgbTEwICogdDEgKyBtMjAgKiB0MiArIG0zMCAqIHQzKTtcclxuICAgIFxyXG4gICAgICAgIGRzdFswXSA9IGQgKiB0MDtcclxuICAgICAgICBkc3RbMV0gPSBkICogdDE7XHJcbiAgICAgICAgZHN0WzJdID0gZCAqIHQyO1xyXG4gICAgICAgIGRzdFszXSA9IGQgKiB0MztcclxuICAgICAgICBkc3RbNF0gPSBkICogKCh0bXBfMSAqIG0xMCArIHRtcF8yICogbTIwICsgdG1wXzUgKiBtMzApIC1cclxuICAgICAgICAgICAgICAgICh0bXBfMCAqIG0xMCArIHRtcF8zICogbTIwICsgdG1wXzQgKiBtMzApKTtcclxuICAgICAgICBkc3RbNV0gPSBkICogKCh0bXBfMCAqIG0wMCArIHRtcF83ICogbTIwICsgdG1wXzggKiBtMzApIC1cclxuICAgICAgICAgICAgICAgICh0bXBfMSAqIG0wMCArIHRtcF82ICogbTIwICsgdG1wXzkgKiBtMzApKTtcclxuICAgICAgICBkc3RbNl0gPSBkICogKCh0bXBfMyAqIG0wMCArIHRtcF82ICogbTEwICsgdG1wXzExICogbTMwKSAtXHJcbiAgICAgICAgICAgICAgICAodG1wXzIgKiBtMDAgKyB0bXBfNyAqIG0xMCArIHRtcF8xMCAqIG0zMCkpO1xyXG4gICAgICAgIGRzdFs3XSA9IGQgKiAoKHRtcF80ICogbTAwICsgdG1wXzkgKiBtMTAgKyB0bXBfMTAgKiBtMjApIC1cclxuICAgICAgICAgICAgICAgICh0bXBfNSAqIG0wMCArIHRtcF84ICogbTEwICsgdG1wXzExICogbTIwKSk7XHJcbiAgICAgICAgZHN0WzhdID0gZCAqICgodG1wXzEyICogbTEzICsgdG1wXzE1ICogbTIzICsgdG1wXzE2ICogbTMzKSAtXHJcbiAgICAgICAgICAgICAgICAodG1wXzEzICogbTEzICsgdG1wXzE0ICogbTIzICsgdG1wXzE3ICogbTMzKSk7XHJcbiAgICAgICAgZHN0WzldID0gZCAqICgodG1wXzEzICogbTAzICsgdG1wXzE4ICogbTIzICsgdG1wXzIxICogbTMzKSAtXHJcbiAgICAgICAgICAgICAgICAodG1wXzEyICogbTAzICsgdG1wXzE5ICogbTIzICsgdG1wXzIwICogbTMzKSk7XHJcbiAgICAgICAgZHN0WzEwXSA9IGQgKiAoKHRtcF8xNCAqIG0wMyArIHRtcF8xOSAqIG0xMyArIHRtcF8yMiAqIG0zMykgLVxyXG4gICAgICAgICAgICAgICAgKHRtcF8xNSAqIG0wMyArIHRtcF8xOCAqIG0xMyArIHRtcF8yMyAqIG0zMykpO1xyXG4gICAgICAgIGRzdFsxMV0gPSBkICogKCh0bXBfMTcgKiBtMDMgKyB0bXBfMjAgKiBtMTMgKyB0bXBfMjMgKiBtMjMpIC1cclxuICAgICAgICAgICAgICAgICh0bXBfMTYgKiBtMDMgKyB0bXBfMjEgKiBtMTMgKyB0bXBfMjIgKiBtMjMpKTtcclxuICAgICAgICBkc3RbMTJdID0gZCAqICgodG1wXzE0ICogbTIyICsgdG1wXzE3ICogbTMyICsgdG1wXzEzICogbTEyKSAtXHJcbiAgICAgICAgICAgICAgICAodG1wXzE2ICogbTMyICsgdG1wXzEyICogbTEyICsgdG1wXzE1ICogbTIyKSk7XHJcbiAgICAgICAgZHN0WzEzXSA9IGQgKiAoKHRtcF8yMCAqIG0zMiArIHRtcF8xMiAqIG0wMiArIHRtcF8xOSAqIG0yMikgLVxyXG4gICAgICAgICAgICAgICAgKHRtcF8xOCAqIG0yMiArIHRtcF8yMSAqIG0zMiArIHRtcF8xMyAqIG0wMikpO1xyXG4gICAgICAgIGRzdFsxNF0gPSBkICogKCh0bXBfMTggKiBtMTIgKyB0bXBfMjMgKiBtMzIgKyB0bXBfMTUgKiBtMDIpIC1cclxuICAgICAgICAgICAgICAgICh0bXBfMjIgKiBtMzIgKyB0bXBfMTQgKiBtMDIgKyB0bXBfMTkgKiBtMTIpKTtcclxuICAgICAgICBkc3RbMTVdID0gZCAqICgodG1wXzIyICogbTIyICsgdG1wXzE2ICogbTAyICsgdG1wXzIxICogbTEyKSAtXHJcbiAgICAgICAgICAgICAgICAodG1wXzIwICogbTEyICsgdG1wXzIzICogbTIyICsgdG1wXzE3ICogbTAyKSk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gbWF0cml4O1xyXG4gICAgfVxyXG5cclxuICAgIG11bHRpcGx5VmVjdG9yKHY6IFZlY3RvcjMpIDogVmVjdG9yMyB7XHJcblxyXG4gICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5KDMpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgKytpKSB7XHJcbiAgICAgICAgICAgIGRhdGFbaV0gPSAwLjA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhW2ldICs9IHYuaXRlbShqKSAqIHRoaXMuZ2V0KGosIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzJdKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbXVsdGlwbHlWZWN0b3JzKG90aGVyOiBWZWN0b3IzQXJyYXkpIDogVmVjdG9yM0FycmF5IHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBkdW1iIHdheVxyXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb3VudCgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZlYyA9IG90aGVyLmdldFZlY3RvcihpKTtcclxuICAgICAgICAgICAgdmVjID0gdGhpcy5tdWx0aXBseVZlY3Rvcih2ZWMpO1xyXG4gICAgICAgICAgICBvdGhlci5zZXRWZWN0b3IoaSwgdmVjKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG90aGVyO1xyXG5cclxuICAgICAgICAvLyBzbWFydCB3YXlcclxuICAgICAgICAvLyBsZXQgbWF0cml4ID0gbmV3IFZlY3RvcjNBcnJheShvdGhlci5jb3VudCgpKTtcclxuICAgICAgICAvLyAvLyBmb3IgZXZlcnkgcm93XHJcbiAgICAgICAgLy8gZm9yICh2YXIgciA9IDA7IHIgPCBvdGhlci5jb3VudCgpOyByKyspIHtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIGZvciBldmVyeSBpdGVtIGluIHJvd1xyXG4gICAgICAgIC8vICAgICBmb3IgKHZhciBjID0gMDsgYyA8IDM7ICsrYykge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgaXRlbSA9IDAuMDtcclxuICAgICAgICAvLyAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgKytqKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaXRlbSArPSBvdGhlci5nZXQociwgYykgKiB0aGlzLmdldChqLCBjKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIG1hdHJpeC5zZXQociwgYywgaXRlbSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIG90aGVyLmRhdGEgPSBtYXRyaXguZGF0YTtcclxuICAgICAgICByZXR1cm4gb3RoZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLyoqXHJcbiAgICAvLyAgKiBUYWtlcyBhIDQtYnktNCBtYXRyaXggYW5kIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzLFxyXG4gICAgLy8gICogaW50ZXJwcmV0cyB0aGUgdmVjdG9yIGFzIGEgcG9pbnQsIHRyYW5zZm9ybXMgdGhhdCBwb2ludCBieSB0aGUgbWF0cml4LCBhbmRcclxuICAgIC8vICAqIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhIHZlY3RvciB3aXRoIDMgZW50cmllcy5cclxuICAgIC8vICAqIEBwYXJhbSB7TWF0cml4NH0gbSBUaGUgbWF0cml4LlxyXG4gICAgLy8gICogQHBhcmFtIHtWZWN0b3IzfSB2IFRoZSBwb2ludC5cclxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yNH0gZHN0IG9wdGlvbmFsIHZlY3RvcjQgdG8gc3RvcmUgcmVzdWx0XHJcbiAgICAvLyAgKiBAcmV0dXJuIHtWZWN0b3I0fSBkc3Qgb3IgbmV3IFZlY3RvcjQgaWYgbm90IHByb3ZpZGVkXHJcbiAgICAvLyAgKiBAbWVtYmVyT2YgbW9kdWxlOndlYmdsLTNkLW1hdGhcclxuICAgIC8vICAqL1xyXG4gICAgLy8gZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnQobSwgdiwgZHN0KSB7XHJcbiAgICAvLyAgICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDMpO1xyXG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XHJcbiAgICAvLyAgICAgdmFyIHYxID0gdlsxXTtcclxuICAgIC8vICAgICB2YXIgdjIgPSB2WzJdO1xyXG4gICAgLy8gICAgIHZhciBkID0gdjAgKiBtWzAgKiA0ICsgM10gKyB2MSAqIG1bMSAqIDQgKyAzXSArIHYyICogbVsyICogNCArIDNdICsgbVszICogNCArIDNdO1xyXG4gICAgXHJcbiAgICAvLyAgICAgZHN0WzBdID0gKHYwICogbVswICogNCArIDBdICsgdjEgKiBtWzEgKiA0ICsgMF0gKyB2MiAqIG1bMiAqIDQgKyAwXSArIG1bMyAqIDQgKyAwXSkgLyBkO1xyXG4gICAgLy8gICAgIGRzdFsxXSA9ICh2MCAqIG1bMCAqIDQgKyAxXSArIHYxICogbVsxICogNCArIDFdICsgdjIgKiBtWzIgKiA0ICsgMV0gKyBtWzMgKiA0ICsgMV0pIC8gZDtcclxuICAgIC8vICAgICBkc3RbMl0gPSAodjAgKiBtWzAgKiA0ICsgMl0gKyB2MSAqIG1bMSAqIDQgKyAyXSArIHYyICogbVsyICogNCArIDJdICsgbVszICogNCArIDJdKSAvIGQ7XHJcbiAgICBcclxuICAgIC8vICAgICByZXR1cm4gZHN0O1xyXG4gICAgLy8gfVxyXG4gICAgXHJcbiAgICAvLyAvKipcclxuICAgIC8vICAqIFRha2VzIGEgNC1ieS00IG1hdHJpeCBhbmQgYSB2ZWN0b3Igd2l0aCAzIGVudHJpZXMsIGludGVycHJldHMgdGhlIHZlY3RvciBhcyBhXHJcbiAgICAvLyAgKiBkaXJlY3Rpb24sIHRyYW5zZm9ybXMgdGhhdCBkaXJlY3Rpb24gYnkgdGhlIG1hdHJpeCwgYW5kIHJldHVybnMgdGhlIHJlc3VsdDtcclxuICAgIC8vICAqIGFzc3VtZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG9mIDMtZGltZW5zaW9uYWwgc3BhY2UgcmVwcmVzZW50ZWQgYnkgdGhlIG1hdHJpeFxyXG4gICAgLy8gICogaXMgcGFyYWxsZWwtcHJlc2VydmluZywgaS5lLiBhbnkgY29tYmluYXRpb24gb2Ygcm90YXRpb24sIHNjYWxpbmcgYW5kXHJcbiAgICAvLyAgKiB0cmFuc2xhdGlvbiwgYnV0IG5vdCBhIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIFJldHVybnMgYSB2ZWN0b3Igd2l0aCAzXHJcbiAgICAvLyAgKiBlbnRyaWVzLlxyXG4gICAgLy8gICogQHBhcmFtIHtNYXRyaXg0fSBtIFRoZSBtYXRyaXguXHJcbiAgICAvLyAgKiBAcGFyYW0ge1ZlY3RvcjN9IHYgVGhlIGRpcmVjdGlvbi5cclxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yNH0gZHN0IG9wdGlvbmFsIHZlY3RvcjQgdG8gc3RvcmUgcmVzdWx0XHJcbiAgICAvLyAgKiBAcmV0dXJuIHtWZWN0b3I0fSBkc3Qgb3IgbmV3IFZlY3RvcjQgaWYgbm90IHByb3ZpZGVkXHJcbiAgICAvLyAgKiBAbWVtYmVyT2YgbW9kdWxlOndlYmdsLTNkLW1hdGhcclxuICAgIC8vICAqL1xyXG4gICAgLy8gZnVuY3Rpb24gdHJhbnNmb3JtRGlyZWN0aW9uKG0sIHYsIGRzdCkge1xyXG4gICAgLy8gICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgzKTtcclxuICAgIFxyXG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XHJcbiAgICAvLyAgICAgdmFyIHYxID0gdlsxXTtcclxuICAgIC8vICAgICB2YXIgdjIgPSB2WzJdO1xyXG4gICAgXHJcbiAgICAvLyAgICAgZHN0WzBdID0gdjAgKiBtWzAgKiA0ICsgMF0gKyB2MSAqIG1bMSAqIDQgKyAwXSArIHYyICogbVsyICogNCArIDBdO1xyXG4gICAgLy8gICAgIGRzdFsxXSA9IHYwICogbVswICogNCArIDFdICsgdjEgKiBtWzEgKiA0ICsgMV0gKyB2MiAqIG1bMiAqIDQgKyAxXTtcclxuICAgIC8vICAgICBkc3RbMl0gPSB2MCAqIG1bMCAqIDQgKyAyXSArIHYxICogbVsxICogNCArIDJdICsgdjIgKiBtWzIgKiA0ICsgMl07XHJcbiAgICBcclxuICAgIC8vICAgICByZXR1cm4gZHN0O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8qKlxyXG4gICAgLy8gICogVGFrZXMgYSA0LWJ5LTQgbWF0cml4IG0gYW5kIGEgdmVjdG9yIHYgd2l0aCAzIGVudHJpZXMsIGludGVycHJldHMgdGhlIHZlY3RvclxyXG4gICAgLy8gICogYXMgYSBub3JtYWwgdG8gYSBzdXJmYWNlLCBhbmQgY29tcHV0ZXMgYSB2ZWN0b3Igd2hpY2ggaXMgbm9ybWFsIHVwb25cclxuICAgIC8vICAqIHRyYW5zZm9ybWluZyB0aGF0IHN1cmZhY2UgYnkgdGhlIG1hdHJpeC4gVGhlIGVmZmVjdCBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRoZVxyXG4gICAgLy8gICogc2FtZSBhcyB0cmFuc2Zvcm1pbmcgdiAoYXMgYSBkaXJlY3Rpb24pIGJ5IHRoZSBpbnZlcnNlLXRyYW5zcG9zZSBvZiBtLiAgVGhpc1xyXG4gICAgLy8gICogZnVuY3Rpb24gYXNzdW1lcyB0aGUgdHJhbnNmb3JtYXRpb24gb2YgMy1kaW1lbnNpb25hbCBzcGFjZSByZXByZXNlbnRlZCBieSB0aGVcclxuICAgIC8vICAqIG1hdHJpeCBpcyBwYXJhbGxlbC1wcmVzZXJ2aW5nLCBpLmUuIGFueSBjb21iaW5hdGlvbiBvZiByb3RhdGlvbiwgc2NhbGluZyBhbmRcclxuICAgIC8vICAqIHRyYW5zbGF0aW9uLCBidXQgbm90IGEgcGVyc3BlY3RpdmUgZGlzdG9ydGlvbi4gIFJldHVybnMgYSB2ZWN0b3Igd2l0aCAzXHJcbiAgICAvLyAgKiBlbnRyaWVzLlxyXG4gICAgLy8gICogQHBhcmFtIHtNYXRyaXg0fSBtIFRoZSBtYXRyaXguXHJcbiAgICAvLyAgKiBAcGFyYW0ge1ZlY3RvcjN9IHYgVGhlIG5vcm1hbC5cclxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yM30gW2RzdF0gVGhlIGRpcmVjdGlvbi5cclxuICAgIC8vICAqIEByZXR1cm4ge1ZlY3RvcjN9IFRoZSB0cmFuc2Zvcm1lZCBkaXJlY3Rpb24uXHJcbiAgICAvLyAgKiBAbWVtYmVyT2YgbW9kdWxlOndlYmdsLTNkLW1hdGhcclxuICAgIC8vICAqL1xyXG4gICAgLy8gZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsKG0sIHYsIGRzdCkge1xyXG4gICAgLy8gICAgIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgzKTtcclxuICAgIC8vICAgICB2YXIgbWkgPSBpbnZlcnNlKG0pO1xyXG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XHJcbiAgICAvLyAgICAgdmFyIHYxID0gdlsxXTtcclxuICAgIC8vICAgICB2YXIgdjIgPSB2WzJdO1xyXG4gICAgXHJcbiAgICAvLyAgICAgZHN0WzBdID0gdjAgKiBtaVswICogNCArIDBdICsgdjEgKiBtaVswICogNCArIDFdICsgdjIgKiBtaVswICogNCArIDJdO1xyXG4gICAgLy8gICAgIGRzdFsxXSA9IHYwICogbWlbMSAqIDQgKyAwXSArIHYxICogbWlbMSAqIDQgKyAxXSArIHYyICogbWlbMSAqIDQgKyAyXTtcclxuICAgIC8vICAgICBkc3RbMl0gPSB2MCAqIG1pWzIgKiA0ICsgMF0gKyB2MSAqIG1pWzIgKiA0ICsgMV0gKyB2MiAqIG1pWzIgKiA0ICsgMl07XHJcbiAgICBcclxuICAgIC8vICAgICByZXR1cm4gZHN0O1xyXG4gICAgLy8gfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/math/matrix.ts\n");

/***/ }),

/***/ "./src/math/ray.ts":
/*!*************************!*\
  !*** ./src/math/ray.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Ray\": () => /* binding */ Ray\n/* harmony export */ });\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n// author:  Jos Feenstra\r\n// purpose: infinite Ray used for projection and similar actions\r\n// notes:   found some nice examples at https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/raycast/sld004.htm\r\n\r\nclass Ray {\r\n    // i do this to force intent : from points, or from normal. Both vector3, so otherwise confusing\r\n    constructor(origin, normal) {\r\n        this.origin = origin;\r\n        this.normal = normal.normalize();\r\n    }\r\n    static fromNormal(origin, normal) {\r\n        return new Ray(origin, normal);\r\n    }\r\n    static fromPoints(origin, through) {\r\n        return new Ray(origin, through.subbed(origin).normalize());\r\n    }\r\n    at(t) {\r\n        return this.origin.added(this.normal.scaled(t));\r\n    }\r\n    xPlane(plane) {\r\n        // ray : pt = rOrigin + t * rNormal\r\n        // plane : a, b, c, d -> pNormal(a, b, c) , d\r\n        // plane : P . N + d = 0;\r\n        // substitute for p: \r\n        // t = -(rOrigin . N + d) / (V . N)\r\n        let ray = this; // to be clear\r\n        return -(ray.origin.dot(plane.normal) + plane.d) / (ray.normal.dot(plane.normal));\r\n    }\r\n    toLine(length) {\r\n        let toPoint = this.at(length);\r\n        return _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromLines([this.origin, toPoint]);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvcmF5LnRzPzFhODEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx3QkFBd0I7QUFDeEIsZ0VBQWdFO0FBQ2hFLDZIQUE2SDtBQUc5RTtBQUt4QyxNQUFNLEdBQUc7SUFJWixnR0FBZ0c7SUFDaEcsWUFBb0IsTUFBZSxFQUFFLE1BQWU7UUFDaEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUdELE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBZSxFQUFFLE1BQWU7UUFDOUMsT0FBTyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUdELE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBZSxFQUFFLE9BQWdCO1FBQy9DLE9BQU8sSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBR0QsRUFBRSxDQUFDLENBQVM7UUFDUixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUdELE1BQU0sQ0FBQyxLQUFZO1FBRWYsbUNBQW1DO1FBQ25DLDZDQUE2QztRQUM3Qyx5QkFBeUI7UUFDekIscUJBQXFCO1FBQ3JCLG1DQUFtQztRQUVuQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxjQUFjO1FBQzlCLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBR0QsTUFBTSxDQUFDLE1BQWM7UUFDakIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixPQUFPLGlFQUFtQixDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9tYXRoL3JheS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlOiBpbmZpbml0ZSBSYXkgdXNlZCBmb3IgcHJvamVjdGlvbiBhbmQgc2ltaWxhciBhY3Rpb25zXHJcbi8vIG5vdGVzOiAgIGZvdW5kIHNvbWUgbmljZSBleGFtcGxlcyBhdCBodHRwczovL3d3dy5jcy5wcmluY2V0b24uZWR1L2NvdXJzZXMvYXJjaGl2ZS9mYWxsMDAvY3M0MjYvbGVjdHVyZXMvcmF5Y2FzdC9zbGQwMDQuaHRtXHJcblxyXG5cclxuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xyXG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuLi9nZW8vcGxhbmVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSYXkge1xyXG4gICAgb3JpZ2luOiBWZWN0b3IzO1xyXG4gICAgbm9ybWFsOiBWZWN0b3IzO1xyXG5cclxuICAgIC8vIGkgZG8gdGhpcyB0byBmb3JjZSBpbnRlbnQgOiBmcm9tIHBvaW50cywgb3IgZnJvbSBub3JtYWwuIEJvdGggdmVjdG9yMywgc28gb3RoZXJ3aXNlIGNvbmZ1c2luZ1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihvcmlnaW46IFZlY3RvcjMsIG5vcm1hbDogVmVjdG9yMykge1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xyXG4gICAgICAgIHRoaXMubm9ybWFsID0gbm9ybWFsLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZnJvbU5vcm1hbChvcmlnaW46IFZlY3RvcjMsIG5vcm1hbDogVmVjdG9yMykgOiBSYXkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmF5KG9yaWdpbiwgbm9ybWFsKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21Qb2ludHMob3JpZ2luOiBWZWN0b3IzLCB0aHJvdWdoOiBWZWN0b3IzKSA6IFJheSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYXkob3JpZ2luLCB0aHJvdWdoLnN1YmJlZChvcmlnaW4pLm5vcm1hbGl6ZSgpKTtcclxuICAgIH0gXHJcbiAgICBcclxuXHJcbiAgICBhdCh0OiBudW1iZXIpIDogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luLmFkZGVkKHRoaXMubm9ybWFsLnNjYWxlZCh0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICB4UGxhbmUocGxhbmU6IFBsYW5lKSA6IG51bWJlciB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcmF5IDogcHQgPSByT3JpZ2luICsgdCAqIHJOb3JtYWxcclxuICAgICAgICAvLyBwbGFuZSA6IGEsIGIsIGMsIGQgLT4gcE5vcm1hbChhLCBiLCBjKSAsIGRcclxuICAgICAgICAvLyBwbGFuZSA6IFAgLiBOICsgZCA9IDA7XHJcbiAgICAgICAgLy8gc3Vic3RpdHV0ZSBmb3IgcDogXHJcbiAgICAgICAgLy8gdCA9IC0ock9yaWdpbiAuIE4gKyBkKSAvIChWIC4gTilcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcmF5ID0gdGhpczsgLy8gdG8gYmUgY2xlYXJcclxuICAgICAgICByZXR1cm4gLShyYXkub3JpZ2luLmRvdChwbGFuZS5ub3JtYWwpICsgcGxhbmUuZCkgLyAocmF5Lm5vcm1hbC5kb3QocGxhbmUubm9ybWFsKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRvTGluZShsZW5ndGg6IG51bWJlcikgOiBMaW5lQXJyYXkge1xyXG4gICAgICAgIGxldCB0b1BvaW50ID0gdGhpcy5hdChsZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBMaW5lQXJyYXkuZnJvbUxpbmVzKFt0aGlzLm9yaWdpbiwgdG9Qb2ludF0pO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/math/ray.ts\n");

/***/ }),

/***/ "./src/math/statistics.ts":
/*!********************************!*\
  !*** ./src/math/statistics.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Stat\": () => /* binding */ Stat\n/* harmony export */ });\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/float-matrix */ \"./src/data/float-matrix.ts\");\n// name:    statistics.ts\r\n// author:  Jos Feenstra\r\n// purpose: functionality and documentation of variance, \r\n//          covariance, eigen vectors, least squares, and other \r\n//          statistical operations.\r\n// source:  been a while since I did this, \r\n//          https://datascienceplus.com/understanding-the-covariance-matrix/ \r\n//          https://wiki.pathmind.com/eigenvector\r\n//          used to make sure the basics are correct :).\r\n// notes:   Whats the difference between a Principal Component and an Eigen vector? \r\n//          \"Because eigenvectors trace the principal lines of force, and the axes of greatest variance and covariance illustrate where the data is most susceptible to change.\"\r\n\r\nclass Stat {\r\n    // calculate sum\r\n    static sum(x) {\r\n        let sum = 0;\r\n        for (let i = 0; i < x.length; i++) {\r\n            sum += x[i];\r\n        }\r\n        return sum;\r\n    }\r\n    // calculate average\r\n    static mean(x) {\r\n        return this.sum(x) / x.length;\r\n    }\r\n    // calculate variance\r\n    static variance(x) {\r\n        //σ^2x = (1/n−1) * n∑i=1 (x[i] – xAvr)^2\r\n        let n = x.length;\r\n        let avr = this.mean(x);\r\n        let sum = 0;\r\n        for (let i = 0; i < n; i++) {\r\n            sum += Math.pow((x[i] - avr), 2);\r\n        }\r\n        return sum / (n - 1);\r\n    }\r\n    // calculate the standard deviation\r\n    static deviation(x) {\r\n        return Math.pow(this.variance(x), 0.5);\r\n    }\r\n    // calculate covariance\r\n    static covariance(x, y) {\r\n        if (x.length != y.length)\r\n            throw \"this is not how covariance works...\";\r\n        let n = x.length;\r\n        let xAvr = this.mean(x);\r\n        let yAvr = this.mean(y);\r\n        let sum = 0;\r\n        for (let i = 0; i < n; i++) {\r\n            sum += (x[i] - xAvr) * (y[i] - yAvr);\r\n        }\r\n        return sum / (n - 1); // losing one degree of freedom\r\n    }\r\n    // calculate variance / covariance matrix\r\n    static cov(matrix) {\r\n        let size = matrix._width;\r\n        let cov = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(size, size);\r\n        let columns = Array(size);\r\n        for (let i = 0; i < size; i++) {\r\n            columns[i] = matrix.getColumn(i);\r\n        }\r\n        // matrix is symmertical, so only run through one half\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = i; j < size; j++) {\r\n                let value = this.covariance(columns[i], columns[j]);\r\n                cov.set(i, j, value);\r\n                cov.set(j, i, value);\r\n            }\r\n        }\r\n        return cov;\r\n    }\r\n    static eig(A) {\r\n        let results = this.svd(A);\r\n        return [results[1], results[2]];\r\n    }\r\n    /**\r\n     * Single Value Decomposition.\r\n     * Can be used for Eigen Value Decomposition\r\n     * from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970).\r\n     * Taken from numeric.js. not yet cleaned & optimized.\r\n     * https://en.wikipedia.org/wiki/Singular_value_decomposition\r\n     * @param  {FloatMatrix} A matrix to decompose, such as a covariance matrix\r\n     * @returns [U, ∑, V]\r\n     * U -> during EVD, these are the eigen vectors of A transposed, if im not mistaken\r\n     * ∑ -> during EVD, this are the eigen values\r\n     * V -> during EVD, the columns are eigen vectors\r\n     */\r\n    static svd(A) {\r\n        var prec = Math.pow(2, -52); // assumes double prec\r\n        var tolerance = 1.e-64 / prec;\r\n        var itmax = 50;\r\n        var c = 0;\r\n        var i = 0;\r\n        var j = 0;\r\n        var k = 0;\r\n        var l = 0;\r\n        var u = A.clone().toNative();\r\n        var m = u.length;\r\n        var n = u[0].length;\r\n        if (m < n)\r\n            throw \"Need more rows than columns\";\r\n        var e = new Array(n);\r\n        var q = new Array(n);\r\n        for (i = 0; i < n; i++)\r\n            e[i] = q[i] = 0.0;\r\n        var v = rep([n, n], 0);\r\n        function pythag(a, b) {\r\n            a = Math.abs(a);\r\n            b = Math.abs(b);\r\n            if (a > b)\r\n                return a * Math.sqrt(1.0 + (b * b / a / a));\r\n            else if (b == 0.0)\r\n                return a;\r\n            return b * Math.sqrt(1.0 + (a * a / b / b));\r\n        }\r\n        //rep function, [JF] : dont know what this does exactly...\r\n        function rep(s, v, k = 0) {\r\n            let n = s[k];\r\n            let ret = Array(n);\r\n            let i;\r\n            if (k === s.length - 1) {\r\n                for (i = n - 2; i >= 0; i -= 2) {\r\n                    ret[i + 1] = v;\r\n                    ret[i] = v;\r\n                }\r\n                if (i === -1) {\r\n                    ret[0] = v;\r\n                }\r\n                return ret;\r\n            }\r\n            for (i = n - 1; i >= 0; i--) {\r\n                ret[i] = rep(s, v, k + 1);\r\n            }\r\n            return ret;\r\n        }\r\n        //Householder's reduction to bidiagonal form\r\n        var f = 0.0;\r\n        var g = 0.0;\r\n        var h = 0.0;\r\n        var x = 0.0;\r\n        var y = 0.0;\r\n        var z = 0.0;\r\n        var s = 0.0;\r\n        for (i = 0; i < n; i++) {\r\n            e[i] = g;\r\n            s = 0.0;\r\n            l = i + 1;\r\n            for (j = i; j < m; j++)\r\n                s += (u[j][i] * u[j][i]);\r\n            if (s <= tolerance)\r\n                g = 0.0;\r\n            else {\r\n                f = u[i][i];\r\n                g = Math.sqrt(s);\r\n                if (f >= 0.0)\r\n                    g = -g;\r\n                h = f * g - s;\r\n                u[i][i] = f - g;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = i; k < m; k++)\r\n                        s += u[k][i] * u[k][j];\r\n                    f = s / h;\r\n                    for (k = i; k < m; k++)\r\n                        u[k][j] += f * u[k][i];\r\n                }\r\n            }\r\n            q[i] = g;\r\n            s = 0.0;\r\n            for (j = l; j < n; j++)\r\n                s = s + u[i][j] * u[i][j];\r\n            if (s <= tolerance)\r\n                g = 0.0;\r\n            else {\r\n                f = u[i][i + 1];\r\n                g = Math.sqrt(s);\r\n                if (f >= 0.0)\r\n                    g = -g;\r\n                h = f * g - s;\r\n                u[i][i + 1] = f - g;\r\n                for (j = l; j < n; j++)\r\n                    e[j] = u[i][j] / h;\r\n                for (j = l; j < m; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < n; k++)\r\n                        s += (u[j][k] * u[i][k]);\r\n                    for (k = l; k < n; k++)\r\n                        u[j][k] += s * e[k];\r\n                }\r\n            }\r\n            y = Math.abs(q[i]) + Math.abs(e[i]);\r\n            if (y > x)\r\n                x = y;\r\n        }\r\n        // accumulation of right hand gtransformations\r\n        for (i = n - 1; i != -1; i += -1) {\r\n            if (g != 0.0) {\r\n                h = g * u[i][i + 1];\r\n                for (j = l; j < n; j++)\r\n                    v[j][i] = u[i][j] / h;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < n; k++)\r\n                        s += u[i][k] * v[k][j];\r\n                    for (k = l; k < n; k++)\r\n                        v[k][j] += (s * v[k][i]);\r\n                }\r\n            }\r\n            for (j = l; j < n; j++) {\r\n                v[i][j] = 0;\r\n                v[j][i] = 0;\r\n            }\r\n            v[i][i] = 1;\r\n            g = e[i];\r\n            l = i;\r\n        }\r\n        // accumulation of left hand transformations\r\n        for (i = n - 1; i != -1; i += -1) {\r\n            l = i + 1;\r\n            g = q[i];\r\n            for (j = l; j < n; j++)\r\n                u[i][j] = 0;\r\n            if (g != 0.0) {\r\n                h = u[i][i] * g;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < m; k++)\r\n                        s += u[k][i] * u[k][j];\r\n                    f = s / h;\r\n                    for (k = i; k < m; k++)\r\n                        u[k][j] += f * u[k][i];\r\n                }\r\n                for (j = i; j < m; j++)\r\n                    u[j][i] = u[j][i] / g;\r\n            }\r\n            else\r\n                for (j = i; j < m; j++)\r\n                    u[j][i] = 0;\r\n            u[i][i] += 1;\r\n        }\r\n        // diagonalization of the bidiagonal form\r\n        prec = prec * x;\r\n        for (k = n - 1; k != -1; k += -1) {\r\n            for (var iteration = 0; iteration < itmax; iteration++) { // test f splitting\r\n                var test_convergence = false;\r\n                for (l = k; l != -1; l += -1) {\r\n                    if (Math.abs(e[l]) <= prec) {\r\n                        test_convergence = true;\r\n                        break;\r\n                    }\r\n                    if (Math.abs(q[l - 1]) <= prec)\r\n                        break;\r\n                }\r\n                if (!test_convergence) { // cancellation of e[l] if l>0\r\n                    c = 0.0;\r\n                    s = 1.0;\r\n                    var l1 = l - 1;\r\n                    for (i = l; i < k + 1; i++) {\r\n                        f = s * e[i];\r\n                        e[i] = c * e[i];\r\n                        if (Math.abs(f) <= prec)\r\n                            break;\r\n                        g = q[i];\r\n                        h = pythag(f, g);\r\n                        q[i] = h;\r\n                        c = g / h;\r\n                        s = -f / h;\r\n                        for (j = 0; j < m; j++) {\r\n                            y = u[j][l1];\r\n                            z = u[j][i];\r\n                            u[j][l1] = y * c + (z * s);\r\n                            u[j][i] = -y * s + (z * c);\r\n                        }\r\n                    }\r\n                }\r\n                // test f convergence\r\n                z = q[k];\r\n                if (l == k) { //convergence\r\n                    if (z < 0.0) { //q[k] is made non-negative\r\n                        q[k] = -z;\r\n                        for (j = 0; j < n; j++)\r\n                            v[j][k] = -v[j][k];\r\n                    }\r\n                    break; //break out of iteration loop and move on to next k value\r\n                }\r\n                if (iteration >= itmax - 1)\r\n                    throw 'Error: no convergence.';\r\n                // shift from bottom 2x2 minor\r\n                x = q[l];\r\n                y = q[k - 1];\r\n                g = e[k - 1];\r\n                h = e[k];\r\n                f = ((y - z) * (y + z) + (g - h) * (g + h)) / (2.0 * h * y);\r\n                g = pythag(f, 1.0);\r\n                if (f < 0.0)\r\n                    f = ((x - z) * (x + z) + h * (y / (f - g) - h)) / x;\r\n                else\r\n                    f = ((x - z) * (x + z) + h * (y / (f + g) - h)) / x;\r\n                // next QR transformation\r\n                c = 1.0;\r\n                s = 1.0;\r\n                for (i = l + 1; i < k + 1; i++) {\r\n                    g = e[i];\r\n                    y = q[i];\r\n                    h = s * g;\r\n                    g = c * g;\r\n                    z = pythag(f, h);\r\n                    e[i - 1] = z;\r\n                    c = f / z;\r\n                    s = h / z;\r\n                    f = x * c + g * s;\r\n                    g = -x * s + g * c;\r\n                    h = y * s;\r\n                    y = y * c;\r\n                    for (j = 0; j < n; j++) {\r\n                        x = v[j][i - 1];\r\n                        z = v[j][i];\r\n                        v[j][i - 1] = x * c + z * s;\r\n                        v[j][i] = -x * s + z * c;\r\n                    }\r\n                    z = pythag(f, h);\r\n                    q[i - 1] = z;\r\n                    c = f / z;\r\n                    s = h / z;\r\n                    f = c * g + s * y;\r\n                    x = -s * g + c * y;\r\n                    for (j = 0; j < m; j++) {\r\n                        y = u[j][i - 1];\r\n                        z = u[j][i];\r\n                        u[j][i - 1] = y * c + z * s;\r\n                        u[j][i] = -y * s + z * c;\r\n                    }\r\n                }\r\n                e[l] = 0.0;\r\n                e[k] = f;\r\n                q[k] = x;\r\n            }\r\n        }\r\n        for (i = 0; i < q.length; i++)\r\n            if (q[i] < prec)\r\n                q[i] = 0;\r\n        //sort eigenvalues\t\r\n        var temp;\r\n        for (i = 0; i < n; i++) {\r\n            for (j = i - 1; j >= 0; j--) {\r\n                if (q[j] < q[i]) {\r\n                    c = q[j];\r\n                    q[j] = q[i];\r\n                    q[i] = c;\r\n                    for (k = 0; k < u.length; k++) {\r\n                        temp = u[k][i];\r\n                        u[k][i] = u[k][j];\r\n                        u[k][j] = temp;\r\n                    }\r\n                    for (k = 0; k < v.length; k++) {\r\n                        temp = v[k][i];\r\n                        v[k][i] = v[k][j];\r\n                        v[k][j] = temp;\r\n                    }\r\n                    i = j;\r\n                }\r\n            }\r\n        }\r\n        return [_data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix.fromNative(u),\r\n            new Float32Array(q),\r\n            _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix.fromNative(v),\r\n        ];\r\n    }\r\n    ;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvc3RhdGlzdGljcy50cz8zNGI2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEseUJBQXlCO0FBQ3pCLHdCQUF3QjtBQUN4Qix5REFBeUQ7QUFDekQsZ0VBQWdFO0FBQ2hFLG1DQUFtQztBQUVuQywyQ0FBMkM7QUFDM0MsNkVBQTZFO0FBQzdFLGlEQUFpRDtBQUNqRCx3REFBd0Q7QUFDeEQsb0ZBQW9GO0FBQ3BGLGdMQUFnTDtBQUU3SDtBQUU1QyxNQUFNLElBQUk7SUFFYixnQkFBZ0I7SUFDaEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUEwQjtRQUNqQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMvQixHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2Y7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFHRCxvQkFBb0I7SUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUEwQjtRQUNsQyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNsQyxDQUFDO0lBR0QscUJBQXFCO0lBQ3JCLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBMEI7UUFFdEMsd0NBQXdDO1FBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDakIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hCLEdBQUcsSUFBSSxV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QUFDLEdBQUMsQ0FBQztvQkFDTixLQUFLLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFDcEI7d0JBQ0ksQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO3dCQUNaLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNWLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQzt3QkFDbkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQztxQkFDckI7b0JBQ0QsQ0FBQyxHQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO29CQUNkLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUUsQ0FBQztvQkFDVCxDQUFDLEdBQUUsQ0FBQyxHQUFDLENBQUM7b0JBQ04sQ0FBQyxHQUFFLENBQUMsR0FBQyxDQUFDO29CQUNOLENBQUMsR0FBRSxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUMsR0FBQyxDQUFDO29CQUNWLENBQUMsR0FBRSxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUM7b0JBQ1gsS0FBSyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQ3BCO3dCQUNJLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQzt3QkFDWixDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUM7d0JBQ25CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFDLENBQUM7cUJBQ3JCO2lCQUNKO2dCQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxHQUFHO2dCQUNULENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxDQUFDO2dCQUNQLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxDQUFDO2FBQ1Y7U0FDSjtRQUVELEtBQUssQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSTtnQkFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUU3QixtQkFBbUI7UUFDbkIsSUFBSSxJQUFJLENBQUM7UUFDVCxLQUFLLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQixLQUFLLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDYixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDUixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFDUixLQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ3BCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO3FCQUNyRDtvQkFDRCxLQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ3BCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO3FCQUNyRDtvQkFDRCxDQUFDLEdBQUcsQ0FBQztpQkFDUjthQUNKO1NBQ0o7UUFFRCxPQUFPLENBQUMsc0VBQXNCLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNuQixzRUFBc0IsQ0FBQyxDQUFDLENBQUM7U0FDNUIsQ0FBQztJQUNOLENBQUM7SUFBQSxDQUFDO0NBQ0wiLCJmaWxlIjoiLi9zcmMvbWF0aC9zdGF0aXN0aWNzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgc3RhdGlzdGljcy50c1xyXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcclxuLy8gcHVycG9zZTogZnVuY3Rpb25hbGl0eSBhbmQgZG9jdW1lbnRhdGlvbiBvZiB2YXJpYW5jZSwgXHJcbi8vICAgICAgICAgIGNvdmFyaWFuY2UsIGVpZ2VuIHZlY3RvcnMsIGxlYXN0IHNxdWFyZXMsIGFuZCBvdGhlciBcclxuLy8gICAgICAgICAgc3RhdGlzdGljYWwgb3BlcmF0aW9ucy5cclxuXHJcbi8vIHNvdXJjZTogIGJlZW4gYSB3aGlsZSBzaW5jZSBJIGRpZCB0aGlzLCBcclxuLy8gICAgICAgICAgaHR0cHM6Ly9kYXRhc2NpZW5jZXBsdXMuY29tL3VuZGVyc3RhbmRpbmctdGhlLWNvdmFyaWFuY2UtbWF0cml4LyBcclxuLy8gICAgICAgICAgaHR0cHM6Ly93aWtpLnBhdGhtaW5kLmNvbS9laWdlbnZlY3RvclxyXG4vLyAgICAgICAgICB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgYmFzaWNzIGFyZSBjb3JyZWN0IDopLlxyXG4vLyBub3RlczogICBXaGF0cyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGEgUHJpbmNpcGFsIENvbXBvbmVudCBhbmQgYW4gRWlnZW4gdmVjdG9yPyBcclxuLy8gICAgICAgICAgXCJCZWNhdXNlIGVpZ2VudmVjdG9ycyB0cmFjZSB0aGUgcHJpbmNpcGFsIGxpbmVzIG9mIGZvcmNlLCBhbmQgdGhlIGF4ZXMgb2YgZ3JlYXRlc3QgdmFyaWFuY2UgYW5kIGNvdmFyaWFuY2UgaWxsdXN0cmF0ZSB3aGVyZSB0aGUgZGF0YSBpcyBtb3N0IHN1c2NlcHRpYmxlIHRvIGNoYW5nZS5cIlxyXG5cclxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0IHtcclxuXHJcbiAgICAvLyBjYWxjdWxhdGUgc3VtXHJcbiAgICBzdGF0aWMgc3VtKHg6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XHJcbiAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN1bSArPSB4W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2VcclxuICAgIHN0YXRpYyBtZWFuKHg6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VtKHgpIC8geC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSB2YXJpYW5jZVxyXG4gICAgc3RhdGljIHZhcmlhbmNlKHg6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XHJcblxyXG4gICAgICAgIC8vz4NeMnggPSAoMS9u4oiSMSkgKiBu4oiRaT0xICh4W2ldIOKAkyB4QXZyKV4yXHJcbiAgICAgICAgbGV0IG4gPSB4Lmxlbmd0aDtcclxuICAgICAgICBsZXQgYXZyID0gdGhpcy5tZWFuKHgpO1xyXG5cclxuICAgICAgICBsZXQgc3VtID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzdW0gKz0gKHhbaV0gLSBhdnIpKioyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdW0gLyAobiAtIDEpOyBcclxuICAgIH1cclxuIFxyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgc3RhbmRhcmQgZGV2aWF0aW9uXHJcbiAgICBzdGF0aWMgZGV2aWF0aW9uKHg6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbmNlKHgpKiowLjU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSBjb3ZhcmlhbmNlXHJcbiAgICBzdGF0aWMgY292YXJpYW5jZSh4OiBudW1iZXJbXSB8IEZsb2F0MzJBcnJheSwgeTogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpIHtcclxuICAgICAgICBpZiAoeC5sZW5ndGggIT0geS5sZW5ndGgpIHRocm93IFwidGhpcyBpcyBub3QgaG93IGNvdmFyaWFuY2Ugd29ya3MuLi5cIlxyXG4gICAgICAgIGxldCBuID0geC5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHhBdnIgPSB0aGlzLm1lYW4oeCk7XHJcbiAgICAgICAgbGV0IHlBdnIgPSB0aGlzLm1lYW4oeSk7XHJcblxyXG4gICAgICAgIGxldCBzdW0gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN1bSArPSAoeFtpXSAtIHhBdnIpKih5W2ldIC0geUF2cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdW0gLyAobiAtIDEpIC8vIGxvc2luZyBvbmUgZGVncmVlIG9mIGZyZWVkb21cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gY2FsY3VsYXRlIHZhcmlhbmNlIC8gY292YXJpYW5jZSBtYXRyaXhcclxuICAgIHN0YXRpYyBjb3YobWF0cml4OiBGbG9hdE1hdHJpeCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzaXplID0gbWF0cml4Ll93aWR0aDtcclxuICAgICAgICBsZXQgY292ID0gbmV3IEZsb2F0TWF0cml4KHNpemUsIHNpemUpO1xyXG5cclxuICAgICAgICBsZXQgY29sdW1ucyA9IEFycmF5PEZsb2F0MzJBcnJheT4oc2l6ZSk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgY29sdW1uc1tpXSA9IG1hdHJpeC5nZXRDb2x1bW4oaSk7XHJcbiAgICAgICAgfSAgXHJcblxyXG4gICAgICAgIC8vIG1hdHJpeCBpcyBzeW1tZXJ0aWNhbCwgc28gb25seSBydW4gdGhyb3VnaCBvbmUgaGFsZlxyXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IGkgOyBqIDwgc2l6ZTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmNvdmFyaWFuY2UoY29sdW1uc1tpXSwgY29sdW1uc1tqXSk7XHJcbiAgICAgICAgICAgICAgICBjb3Yuc2V0KGksIGosIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNvdi5zZXQoaiwgaSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3Y7XHJcbiAgICB9IFxyXG4gICAgXHJcblxyXG4gICAgc3RhdGljIGVpZyhBOiBGbG9hdE1hdHJpeCkgOiBbRmxvYXQzMkFycmF5LCBGbG9hdE1hdHJpeF0ge1xyXG4gICAgICAgIGxldCByZXN1bHRzID0gdGhpcy5zdmQoQSk7XHJcbiAgICAgICAgcmV0dXJuIFtyZXN1bHRzWzFdLCByZXN1bHRzWzJdXVxyXG4gICAgfVxyXG5cclxuXHJcbiAgIC8qKlxyXG4gICAgKiBTaW5nbGUgVmFsdWUgRGVjb21wb3NpdGlvbi4gXHJcbiAgICAqIENhbiBiZSB1c2VkIGZvciBFaWdlbiBWYWx1ZSBEZWNvbXBvc2l0aW9uXHJcbiAgICAqIGZyb20gRy4gSC4gR29sdWIgYW5kIEMuIFJlaW5zY2gsIE51bWVyLiBNYXRoLiAxNCwgNDAzLTQyMCAoMTk3MCkuXHJcbiAgICAqIFRha2VuIGZyb20gbnVtZXJpYy5qcy4gbm90IHlldCBjbGVhbmVkICYgb3B0aW1pemVkLlxyXG4gICAgKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaW5ndWxhcl92YWx1ZV9kZWNvbXBvc2l0aW9uXHJcbiAgICAqIEBwYXJhbSAge0Zsb2F0TWF0cml4fSBBIG1hdHJpeCB0byBkZWNvbXBvc2UsIHN1Y2ggYXMgYSBjb3ZhcmlhbmNlIG1hdHJpeFxyXG4gICAgKiBAcmV0dXJucyBbVSwg4oiRLCBWXVxyXG4gICAgKiBVIC0+IGR1cmluZyBFVkQsIHRoZXNlIGFyZSB0aGUgZWlnZW4gdmVjdG9ycyBvZiBBIHRyYW5zcG9zZWQsIGlmIGltIG5vdCBtaXN0YWtlblxyXG4gICAgKiDiiJEgLT4gZHVyaW5nIEVWRCwgdGhpcyBhcmUgdGhlIGVpZ2VuIHZhbHVlcyBcclxuICAgICogViAtPiBkdXJpbmcgRVZELCB0aGUgY29sdW1ucyBhcmUgZWlnZW4gdmVjdG9yc1xyXG4gICAgKi9cclxuICAgc3RhdGljIHN2ZChBOiBGbG9hdE1hdHJpeCkgOiBbRmxvYXRNYXRyaXgsIEZsb2F0MzJBcnJheSwgRmxvYXRNYXRyaXhdIHtcclxuXHJcbiAgICAgICAgdmFyIHByZWM9IE1hdGgucG93KDIsLTUyKSAvLyBhc3N1bWVzIGRvdWJsZSBwcmVjXHJcbiAgICAgICAgdmFyIHRvbGVyYW5jZT0gMS5lLTY0L3ByZWM7XHJcbiAgICAgICAgdmFyIGl0bWF4PSA1MDtcclxuICAgICAgICB2YXIgYz0wO1xyXG4gICAgICAgIHZhciBpPTA7XHJcbiAgICAgICAgdmFyIGo9MDtcclxuICAgICAgICB2YXIgaz0wO1xyXG4gICAgICAgIHZhciBsPTA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHU9IEEuY2xvbmUoKS50b05hdGl2ZSgpO1xyXG4gICAgICAgIHZhciBtPSB1Lmxlbmd0aDtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgbj0gdVswXS5sZW5ndGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKG0gPCBuKSB0aHJvdyBcIk5lZWQgbW9yZSByb3dzIHRoYW4gY29sdW1uc1wiXHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGUgPSBuZXcgQXJyYXkobik7XHJcbiAgICAgICAgdmFyIHEgPSBuZXcgQXJyYXkobik7XHJcbiAgICAgICAgZm9yIChpPTA7IGk8bjsgaSsrKSBlW2ldID0gcVtpXSA9IDAuMDtcclxuICAgICAgICB2YXIgdiA9IHJlcChbbixuXSwwKTtcclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBweXRoYWcoYTogbnVtYmVyLGI6IG51bWJlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGEgPSBNYXRoLmFicyhhKVxyXG4gICAgICAgICAgICBiID0gTWF0aC5hYnMoYilcclxuICAgICAgICAgICAgaWYgKGEgPiBiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEqTWF0aC5zcXJ0KDEuMCsoYipiL2EvYSkpXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT0gMC4wKSBcclxuICAgICAgICAgICAgICAgIHJldHVybiBhXHJcbiAgICAgICAgICAgIHJldHVybiBiKk1hdGguc3FydCgxLjArKGEqYS9iL2IpKVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vcmVwIGZ1bmN0aW9uLCBbSkZdIDogZG9udCBrbm93IHdoYXQgdGhpcyBkb2VzIGV4YWN0bHkuLi5cclxuICAgICAgICBmdW5jdGlvbiByZXAoczogQXJyYXk8bnVtYmVyPiwgdjogbnVtYmVyLCBrPTApIHtcclxuICAgICAgICAgICAgbGV0IG4gPSBzW2tdXHJcbiAgICAgICAgICAgIGxldCByZXQgPSBBcnJheShuKVxyXG4gICAgICAgICAgICBsZXQgaTtcclxuICAgICAgICAgICAgaWYgKGsgPT09IHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gbiAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W2kgKyAxXSA9IHY7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0W2ldID0gdjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldFswXSA9IHY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVwKHMsIHYsIGsgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Ib3VzZWhvbGRlcidzIHJlZHVjdGlvbiB0byBiaWRpYWdvbmFsIGZvcm1cclxuXHJcbiAgICAgICAgdmFyIGY9IDAuMDtcclxuICAgICAgICB2YXIgZz0gMC4wO1xyXG4gICAgICAgIHZhciBoPSAwLjA7XHJcbiAgICAgICAgdmFyIHg9IDAuMDtcclxuICAgICAgICB2YXIgeT0gMC4wO1xyXG4gICAgICAgIHZhciB6PSAwLjA7XHJcbiAgICAgICAgdmFyIHM9IDAuMDtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGk9MDsgaSA8IG47IGkrKylcclxuICAgICAgICB7XHRcclxuICAgICAgICAgICAgZVtpXT0gZztcclxuICAgICAgICAgICAgcz0gMC4wO1xyXG4gICAgICAgICAgICBsPSBpKzE7XHJcbiAgICAgICAgICAgIGZvciAoaj1pOyBqIDwgbTsgaisrKSBcclxuICAgICAgICAgICAgICAgIHMgKz0gKHVbal1baV0qdVtqXVtpXSk7XHJcbiAgICAgICAgICAgIGlmIChzIDw9IHRvbGVyYW5jZSlcclxuICAgICAgICAgICAgICAgIGc9IDAuMDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHRcclxuICAgICAgICAgICAgICAgIGY9IHVbaV1baV07XHJcbiAgICAgICAgICAgICAgICBnPSBNYXRoLnNxcnQocyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZiA+PSAwLjApIGc9IC1nO1xyXG4gICAgICAgICAgICAgICAgaD0gZipnLXNcclxuICAgICAgICAgICAgICAgIHVbaV1baV09Zi1nO1xyXG4gICAgICAgICAgICAgICAgZm9yIChqPWw7IGogPCBuOyBqKyspXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcz0gMC4wXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrPWk7IGsgPCBtOyBrKyspIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzICs9IHVba11baV0qdVtrXVtqXVxyXG4gICAgICAgICAgICAgICAgICAgIGY9IHMvaFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaz1pOyBrIDwgbTsgaysrKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdVtrXVtqXSs9Zip1W2tdW2ldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcVtpXT0gZ1xyXG4gICAgICAgICAgICBzPSAwLjBcclxuICAgICAgICAgICAgZm9yIChqPWw7IGogPCBuOyBqKyspIFxyXG4gICAgICAgICAgICAgICAgcz0gcyArIHVbaV1bal0qdVtpXVtqXVxyXG4gICAgICAgICAgICBpZiAocyA8PSB0b2xlcmFuY2UpXHJcbiAgICAgICAgICAgICAgICBnPSAwLjBcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHRcclxuICAgICAgICAgICAgICAgIGY9IHVbaV1baSsxXVxyXG4gICAgICAgICAgICAgICAgZz0gTWF0aC5zcXJ0KHMpXHJcbiAgICAgICAgICAgICAgICBpZiAoZiA+PSAwLjApIGc9IC1nXHJcbiAgICAgICAgICAgICAgICBoPSBmKmcgLSBzXHJcbiAgICAgICAgICAgICAgICB1W2ldW2krMV0gPSBmLWc7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGo9bDsgaiA8IG47IGorKykgZVtqXT0gdVtpXVtqXS9oXHJcbiAgICAgICAgICAgICAgICBmb3IgKGo9bDsgaiA8IG07IGorKylcclxuICAgICAgICAgICAgICAgIHtcdFxyXG4gICAgICAgICAgICAgICAgICAgIHM9MC4wXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrPWw7IGsgPCBuOyBrKyspIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzICs9ICh1W2pdW2tdKnVbaV1ba10pXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrPWw7IGsgPCBuOyBrKyspIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1W2pdW2tdKz1zKmVba11cclxuICAgICAgICAgICAgICAgIH1cdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHk9IE1hdGguYWJzKHFbaV0pK01hdGguYWJzKGVbaV0pXHJcbiAgICAgICAgICAgIGlmICh5PngpIFxyXG4gICAgICAgICAgICAgICAgeD15XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGFjY3VtdWxhdGlvbiBvZiByaWdodCBoYW5kIGd0cmFuc2Zvcm1hdGlvbnNcclxuICAgICAgICBmb3IgKGk9bi0xOyBpICE9IC0xOyBpKz0gLTEpXHJcbiAgICAgICAge1x0XHJcbiAgICAgICAgICAgIGlmIChnICE9IDAuMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaD0gZyp1W2ldW2krMV1cclxuICAgICAgICAgICAgICAgIGZvciAoaj1sOyBqIDwgbjsgaisrKSBcclxuICAgICAgICAgICAgICAgICAgICB2W2pdW2ldPXVbaV1bal0vaFxyXG4gICAgICAgICAgICAgICAgZm9yIChqPWw7IGogPCBuOyBqKyspXHJcbiAgICAgICAgICAgICAgICB7XHRcclxuICAgICAgICAgICAgICAgICAgICBzPTAuMFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaz1sOyBrIDwgbjsgaysrKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcyArPSB1W2ldW2tdKnZba11bal1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGs9bDsgayA8IG47IGsrKykgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZba11bal0rPShzKnZba11baV0pXHJcbiAgICAgICAgICAgICAgICB9XHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGo9bDsgaiA8IG47IGorKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdltpXVtqXSA9IDA7XHJcbiAgICAgICAgICAgICAgICB2W2pdW2ldID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2W2ldW2ldID0gMTtcclxuICAgICAgICAgICAgZz0gZVtpXVxyXG4gICAgICAgICAgICBsPSBpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGFjY3VtdWxhdGlvbiBvZiBsZWZ0IGhhbmQgdHJhbnNmb3JtYXRpb25zXHJcbiAgICAgICAgZm9yIChpPW4tMTsgaSAhPSAtMTsgaSs9IC0xKVxyXG4gICAgICAgIHtcdFxyXG4gICAgICAgICAgICBsPSBpKzFcclxuICAgICAgICAgICAgZz0gcVtpXVxyXG4gICAgICAgICAgICBmb3IgKGo9bDsgaiA8IG47IGorKykgXHJcbiAgICAgICAgICAgICAgICB1W2ldW2pdID0gMDtcclxuICAgICAgICAgICAgaWYgKGcgIT0gMC4wKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBoPSB1W2ldW2ldKmdcclxuICAgICAgICAgICAgICAgIGZvciAoaj1sOyBqIDwgbjsgaisrKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHM9MC4wXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrPWw7IGsgPCBtOyBrKyspIHMgKz0gdVtrXVtpXSp1W2tdW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIGY9IHMvaFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaz1pOyBrIDwgbTsgaysrKSB1W2tdW2pdKz1mKnVba11baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKGo9aTsgaiA8IG07IGorKykgdVtqXVtpXSA9IHVbal1baV0vZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBmb3IgKGo9aTsgaiA8IG07IGorKykgdVtqXVtpXSA9IDA7XHJcbiAgICAgICAgICAgIHVbaV1baV0gKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGlhZ29uYWxpemF0aW9uIG9mIHRoZSBiaWRpYWdvbmFsIGZvcm1cclxuICAgICAgICBwcmVjPSBwcmVjKnhcclxuICAgICAgICBmb3IgKGs9bi0xOyBrICE9IC0xOyBrKz0gLTEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyYXRpb249MDsgaXRlcmF0aW9uIDwgaXRtYXg7IGl0ZXJhdGlvbisrKVxyXG4gICAgICAgICAgICB7XHQvLyB0ZXN0IGYgc3BsaXR0aW5nXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdF9jb252ZXJnZW5jZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBmb3IgKGw9azsgbCAhPSAtMTsgbCs9IC0xKVxyXG4gICAgICAgICAgICAgICAge1x0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGVbbF0pIDw9IHByZWMpXHJcbiAgICAgICAgICAgICAgICAgICAge1x0dGVzdF9jb252ZXJnZW5jZT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHFbbC0xXSkgPD0gcHJlYylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RfY29udmVyZ2VuY2UpXHJcbiAgICAgICAgICAgICAgICB7XHQvLyBjYW5jZWxsYXRpb24gb2YgZVtsXSBpZiBsPjBcclxuICAgICAgICAgICAgICAgICAgICBjPSAwLjBcclxuICAgICAgICAgICAgICAgICAgICBzPSAxLjBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbDE9IGwtMVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9bDsgaTxrKzE7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICB7XHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZj0gcyplW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVbaV09IGMqZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZikgPD0gcHJlYylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGc9IHFbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaD0gcHl0aGFnKGYsZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcVtpXT0gaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjPSBnL2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgcz0gLWYvaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGo9MDsgaiA8IG07IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1x0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PSB1W2pdW2wxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgej0gdVtqXVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdVtqXVtsMV0gPSAgeSpjKyh6KnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1W2pdW2ldID0gLXkqcysoeipjKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGVzdCBmIGNvbnZlcmdlbmNlXHJcbiAgICAgICAgICAgICAgICB6PSBxW2tdXHJcbiAgICAgICAgICAgICAgICBpZiAobD09IGspXHJcbiAgICAgICAgICAgICAgICB7XHQvL2NvbnZlcmdlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHo8MC4wKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcdC8vcVtrXSBpcyBtYWRlIG5vbi1uZWdhdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxW2tdPSAtelxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGo9MDsgaiA8IG47IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZbal1ba10gPSAtdltqXVtrXVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhayAgLy9icmVhayBvdXQgb2YgaXRlcmF0aW9uIGxvb3AgYW5kIG1vdmUgb24gdG8gbmV4dCBrIHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0aW9uID49IGl0bWF4LTEpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0Vycm9yOiBubyBjb252ZXJnZW5jZS4nXHJcbiAgICAgICAgICAgICAgICAvLyBzaGlmdCBmcm9tIGJvdHRvbSAyeDIgbWlub3JcclxuICAgICAgICAgICAgICAgIHg9IHFbbF1cclxuICAgICAgICAgICAgICAgIHk9IHFbay0xXVxyXG4gICAgICAgICAgICAgICAgZz0gZVtrLTFdXHJcbiAgICAgICAgICAgICAgICBoPSBlW2tdXHJcbiAgICAgICAgICAgICAgICBmPSAoKHkteikqKHkreikrKGctaCkqKGcraCkpLygyLjAqaCp5KVxyXG4gICAgICAgICAgICAgICAgZz0gcHl0aGFnKGYsMS4wKVxyXG4gICAgICAgICAgICAgICAgaWYgKGYgPCAwLjApXHJcbiAgICAgICAgICAgICAgICAgICAgZj0gKCh4LXopKih4K3opK2gqKHkvKGYtZyktaCkpL3hcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBmPSAoKHgteikqKHgreikraCooeS8oZitnKS1oKSkveFxyXG4gICAgICAgICAgICAgICAgLy8gbmV4dCBRUiB0cmFuc2Zvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgYz0gMS4wXHJcbiAgICAgICAgICAgICAgICBzPSAxLjBcclxuICAgICAgICAgICAgICAgIGZvciAoaT1sKzE7IGk8IGsrMTsgaSsrKVxyXG4gICAgICAgICAgICAgICAge1x0XHJcbiAgICAgICAgICAgICAgICAgICAgZz0gZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgIHk9IHFbaV1cclxuICAgICAgICAgICAgICAgICAgICBoPSBzKmdcclxuICAgICAgICAgICAgICAgICAgICBnPSBjKmdcclxuICAgICAgICAgICAgICAgICAgICB6PSBweXRoYWcoZixoKVxyXG4gICAgICAgICAgICAgICAgICAgIGVbaS0xXT0gelxyXG4gICAgICAgICAgICAgICAgICAgIGM9IGYvelxyXG4gICAgICAgICAgICAgICAgICAgIHM9IGgvelxyXG4gICAgICAgICAgICAgICAgICAgIGY9IHgqYytnKnNcclxuICAgICAgICAgICAgICAgICAgICBnPSAteCpzK2cqY1xyXG4gICAgICAgICAgICAgICAgICAgIGg9IHkqc1xyXG4gICAgICAgICAgICAgICAgICAgIHk9IHkqY1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaj0wOyBqIDwgbjsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4PSB2W2pdW2ktMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgej0gdltqXVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2W2pdW2ktMV0gPSB4KmMreipzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbal1baV0gPSAteCpzK3oqY1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB6PSBweXRoYWcoZixoKVxyXG4gICAgICAgICAgICAgICAgICAgIHFbaS0xXT0gelxyXG4gICAgICAgICAgICAgICAgICAgIGM9IGYvelxyXG4gICAgICAgICAgICAgICAgICAgIHM9IGgvelxyXG4gICAgICAgICAgICAgICAgICAgIGY9IGMqZytzKnlcclxuICAgICAgICAgICAgICAgICAgICB4PSAtcypnK2MqeVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaj0wOyBqIDwgbTsgaisrKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeT0gdVtqXVtpLTFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHo9IHVbal1baV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdVtqXVtpLTFdID0geSpjK3oqc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1W2pdW2ldID0gLXkqcyt6KmNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlW2xdPSAwLjBcclxuICAgICAgICAgICAgICAgIGVba109IGZcclxuICAgICAgICAgICAgICAgIHFba109IHhcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGZvciAoaT0wO2k8cS5sZW5ndGg7IGkrKykgXHJcbiAgICAgICAgICAgIGlmIChxW2ldIDwgcHJlYykgcVtpXSA9IDBcclxuICAgICAgICBcclxuICAgICAgICAvL3NvcnQgZWlnZW52YWx1ZXNcdFxyXG4gICAgICAgIHZhciB0ZW1wO1xyXG4gICAgICAgIGZvciAoaT0wOyBpPCBuOyBpKyspIHtcdCBcclxuICAgICAgICAgICAgZm9yIChqPWktMTsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChxW2pdIDwgcVtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGMgPSBxW2pdXHJcbiAgICAgICAgICAgICAgICAgICAgcVtqXSA9IHFbaV1cclxuICAgICAgICAgICAgICAgICAgICBxW2ldID0gY1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihrPTA7azx1Lmxlbmd0aDtrKyspIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSB1W2tdW2ldOyB1W2tdW2ldID0gdVtrXVtqXTsgdVtrXVtqXSA9IHRlbXA7IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3Ioaz0wO2s8di5sZW5ndGg7aysrKSB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdltrXVtpXTsgdltrXVtpXSA9IHZba11bal07IHZba11bal0gPSB0ZW1wOyBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IGpcdCAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHRcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIFtGbG9hdE1hdHJpeC5mcm9tTmF0aXZlKHUpLFxyXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KHEpLFxyXG4gICAgICAgICAgICBGbG9hdE1hdHJpeC5mcm9tTmF0aXZlKHYpLFxyXG4gICAgICAgIF07XHJcbiAgICB9O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/statistics.ts\n");

/***/ }),

/***/ "./src/math/vector.ts":
/*!****************************!*\
  !*** ./src/math/vector.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector3\": () => /* binding */ Vector3,\n/* harmony export */   \"Vector2\": () => /* binding */ Vector2,\n/* harmony export */   \"radToDeg\": () => /* binding */ radToDeg,\n/* harmony export */   \"degToRad\": () => /* binding */ degToRad\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./src/math/const.ts\");\n/* harmony import */ var _matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matrix */ \"./src/math/matrix.ts\");\n// author: \tJos Feenstra\r\n// inspiration from Three.js\r\n// note: \trecycle the class as much as possble, building a new class is expensive,\r\n// \t\t\tespecially in javascript\r\n// todo: \tBIJ NADER INZIEN: dont go the copy route. rewrite this in a more functional way creating new classes is expensive, but we really need immutable vectors. \r\n// \t\t\tthese types of consistent vectors are only useful in niche cases, and complitate a lot of common cases. \r\n\r\n\r\nclass Vector3 {\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector3(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha, v1.z + (v2.z - v1.z) * alpha);\r\n    }\r\n    static fromArray(a) {\r\n        return new Vector3(a[0], a[1], a[2]);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector3(Math.random(), Math.random(), Math.random());\r\n    }\r\n    static fromSphere(radius, theta, phi) {\r\n        const sinPhiRadius = Math.sin(phi) * radius;\r\n        return this.constructor(sinPhiRadius * Math.sin(theta), Math.cos(phi) * radius, sinPhiRadius * Math.cos(theta));\r\n    }\r\n    static fromCylinder(radius, theta, height) {\r\n        return this.constructor(radius * Math.sin(theta), height, radius * Math.cos(theta));\r\n    }\r\n    static fromLerpWeights(p1, p2, tP1, tP2, t) {\r\n        if (Math.abs(t - tP1) < 0.00001)\r\n            return (p1);\r\n        if (Math.abs(t - tP2) < 0.00001)\r\n            return (p2);\r\n        if (Math.abs(tP1 - tP2) < 0.00001)\r\n            return (p1);\r\n        let mu = (t - tP1) / (tP2 - tP1);\r\n        return new Vector3(p1.x + mu * (p2.x - p1.x), p1.y + mu * (p2.y - p1.y), p1.z + mu * (p2.z - p1.z));\r\n    }\r\n    // #endregion\r\n    // #region defaults \r\n    static zero() {\r\n        return new Vector3(0, 0, 0);\r\n    }\r\n    ;\r\n    static unitX() {\r\n        return new Vector3(1, 0, 0);\r\n    }\r\n    ;\r\n    static unitY() {\r\n        return new Vector3(0, 1, 0);\r\n    }\r\n    ;\r\n    static unitZ() {\r\n        return new Vector3(0, 0, 1);\r\n    }\r\n    ;\r\n    // #endregion\r\n    // #region basics\r\n    set(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n    equals(v) {\r\n        return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));\r\n    }\r\n    toString() {\r\n        return `Vector3(${this.x}, ${this.y}, ${this.z})`;\r\n    }\r\n    toVector2() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    clone() {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n        return this;\r\n    }\r\n    to2D() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    // #endregion\r\n    // #region math like vector2\r\n    largestValue() {\r\n        return Math.max(this.x, this.y, this.z);\r\n    }\r\n    added(v) {\r\n        return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);\r\n    }\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        return this;\r\n    }\r\n    subbed(v) {\r\n        return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x,\r\n            this.y -= v.y,\r\n            this.z -= v.z;\r\n        return this;\r\n    }\r\n    item(i) {\r\n        switch (i) {\r\n            case (0): return this.x;\r\n            case (1): return this.y;\r\n            case (2): return this.z;\r\n            case (3): return 1;\r\n            default: throw \"nope\";\r\n        }\r\n    }\r\n    scaled(v) {\r\n        return new Vector3(this.x * v, this.y * v, this.z * v);\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        this.z *= v;\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        this.z *= v.z;\r\n        return this;\r\n    }\r\n    multiplied(v) {\r\n        return new Vector3(this.x * v.x, this.y * v.y, this.z * v.z);\r\n    }\r\n    divVector(v) {\r\n        return new Vector3(this.x / v.x, this.y / v.y, this.z / v.z);\r\n    }\r\n    divided(value) {\r\n        return new Vector3(this.x / value, this.y / value, this.z / value);\r\n    }\r\n    div(value) {\r\n        this.x /= value,\r\n            this.y /= value,\r\n            this.z /= value;\r\n        return this;\r\n    }\r\n    minimumed(other) {\r\n        return new Vector3(Math.min(this.x, other.x), Math.min(this.y, other.y), Math.min(this.z, other.z));\r\n    }\r\n    maximumed(other) {\r\n        return new Vector3(Math.max(this.x, other.x), Math.max(this.y, other.y), Math.max(this.z, other.z));\r\n    }\r\n    clamped(min, max) {\r\n        return new Vector3(Math.max(min.x, Math.min(max.x, this.x)), Math.max(min.y, Math.min(max.y, this.y)), Math.max(min.z, Math.min(max.z, this.z)));\r\n    }\r\n    clampScalared(min, max) {\r\n        return new Vector3(clamp(this.x, min, max), clamp(this.y, min, max), clamp(this.z, min, max));\r\n    }\r\n    clampLengthed(min, max) {\r\n        const length = this.length();\r\n        return this.div(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floored() {\r\n        return new Vector3(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\r\n    }\r\n    ceiled() {\r\n        return new Vector3(Math.ceil(this.x), Math.ceil(this.y), Math.ceil(this.z));\r\n    }\r\n    rounded() {\r\n        return new Vector3(Math.round(this.x), Math.round(this.y), Math.round(this.z));\r\n    }\r\n    roundedToZero() {\r\n        return new Vector3((this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x), (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y), (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z));\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n        return this;\r\n    }\r\n    negated() {\r\n        return new Vector3(-this.x, -this.y, -this.z);\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n    cross(other) {\r\n        const ax = this.x, ay = this.y, az = this.z;\r\n        const bx = other.x, by = other.y, bz = other.z;\r\n        return new Vector3(ay * bz - az * by, az * bx - ax * bz, ax * by - ay * bx);\r\n    }\r\n    getLengthSquared() {\r\n        return this.x * this.x + this.y * this.y + this.z * this.z;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.getLengthSquared());\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\r\n    }\r\n    normalize() {\r\n        return this.div(this.length() || 1);\r\n    }\r\n    normalized() {\r\n        return this.divided(this.length() || 1);\r\n    }\r\n    isNormal() {\r\n        return Math.abs(this.length() - 1) < _const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        const dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n        return dx * dx + dy * dy + dz * dz;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x)\r\n            + Math.abs(this.y - v.y)\r\n            + Math.abs(this.z - v.z);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        return new Vector3((other.x - this.x) * alpha, (other.y - this.y) * alpha, (other.z - this.z) * alpha);\r\n    }\r\n    // #endregion\r\n    // #region math specific \r\n    projectOnVector(other) {\r\n        // use dot product to project this vector on the other vector \r\n        const denominator = other.getLengthSquared();\r\n        if (denominator === 0)\r\n            return this.set(0, 0, 0);\r\n        const scalar = other.dot(this) / denominator;\r\n        return this.copy(other).scale(scalar);\r\n    }\r\n    projectedOnPlane(normal) {\r\n        // project a vector \r\n        _vector.copy(this).projectOnVector(normal);\r\n        return this.minimumed(_vector);\r\n    }\r\n    mirrored(normal) {\r\n        // mirror incident vector off plane orthogonal to normal\r\n        // normal is assumed to have unit length\r\n        return this.minimumed(_vector.copy(normal).scale(2 * this.dot(normal)));\r\n    }\r\n    rotated(axis, angle) {\r\n        let mat = _matrix__WEBPACK_IMPORTED_MODULE_1__.Matrix4.newAxisRotation(axis, angle);\r\n        return mat.multiplyVector(this);\r\n    }\r\n}\r\nconst _vector = new Vector3(0, 0, 0);\r\nclass Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    // --- factories & other statics\r\n    static fromArray(a) {\r\n        return new Vector2(a[0], a[1]);\r\n    }\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector2(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector2(Math.random(), Math.random());\r\n    }\r\n    static fromRandomAngle() {\r\n        let alpha = Math.random() * Math.PI * 2;\r\n        return new Vector2(Math.cos(alpha), Math.sin(alpha));\r\n    }\r\n    // static from2Pt(from: Vector2, to: Vector2) : Vector2 {\r\n    // \treturn new Vector2(\r\n    // \t\tfrom.x - to.x,\r\n    // \t\tfrom.y - to.y\r\n    // \t)\r\n    // }\r\n    static fromCircle(center, radius, theta) {\r\n        return new Vector2(center.x + radius * Math.sin(theta), center.y + radius * Math.cos(theta));\r\n    }\r\n    static fromCopy(other) {\r\n        return this.zero().copy(other);\r\n    }\r\n    static zero() { return new Vector2(0, 0); }\r\n    static NaN() { return new Vector2(NaN, NaN); }\r\n    static fromCircumcenter(a, b, c) {\r\n        const asum = a.squareSum();\r\n        const bsum = b.squareSum();\r\n        const csum = c.squareSum();\r\n        // sort of cross product\r\n        let d = 2 * (a.x * (b.y - c.y) +\r\n            b.x * (c.y - a.y) +\r\n            c.x * (a.y - b.y));\r\n        // if this triangle has no circumcenter? \r\n        if (d < 0.000001)\r\n            return Vector2.NaN();\r\n        let x = (asum * (b.y - c.y) +\r\n            bsum * (c.y - a.y) +\r\n            csum * (a.y - b.y)) / d;\r\n        let y = (asum * (c.x - b.x) +\r\n            bsum * (a.x - c.x) +\r\n            csum * (b.x - a.x)) / d;\r\n        return new Vector2(x, y);\r\n    }\r\n    static getSign(a, b, c) {\r\n        // test half plane relationship\r\n        // <0 : point on first half\r\n        // 0  : points collinear\r\n        // >0 : point on second half \r\n        return (a.x - c.x) * (b.y - c.y) -\r\n            (b.x - c.x) * (a.y - c.y);\r\n    }\r\n    // --- basics\r\n    to3D() {\r\n        return new Vector3(this.x, this.y, 0);\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    roughlyEquals(v, tol) {\r\n        return (Math.abs(this.x - v.x) < tol &&\r\n            Math.abs(this.y - v.y) < tol);\r\n    }\r\n    equals(v) {\r\n        return ((v.x === this.x) && (v.y === this.y));\r\n    }\r\n    toString() {\r\n        return `Vector2(${this.x}, ${this.y})`;\r\n    }\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        return this;\r\n    }\r\n    // --- math\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n    added(v) {\r\n        return new Vector2(this.x + v.x, this.y + v.y);\r\n    }\r\n    addn(arg0, arg1) {\r\n        this.x += arg0;\r\n        this.y += arg1;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n    subbed(v) {\r\n        return new Vector2(this.x - v.x, this.y - v.y);\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        return this;\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        return this;\r\n    }\r\n    scaled(v) {\r\n        return new Vector2(this.x * v, this.y * v);\r\n    }\r\n    divVector(v) {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this.x /= v;\r\n        this.y /= v;\r\n        return this;\r\n    }\r\n    dived(v) {\r\n        return new Vector2(this.x / v, this.y / v);\r\n    }\r\n    minimum(other) {\r\n        this.x = Math.min(this.x, other.x);\r\n        this.y = Math.min(this.y, other.y);\r\n        return this;\r\n    }\r\n    maximum(other) {\r\n        this.x = Math.max(this.x, other.x);\r\n        this.y = Math.max(this.y, other.y);\r\n        return this;\r\n    }\r\n    clamp(min, max) {\r\n        // assumes min < max, componentwise\r\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\r\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\r\n        return this;\r\n    }\r\n    clampScalar(minVal, maxVal) {\r\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\r\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\r\n        return this;\r\n    }\r\n    clampLength(min, max) {\r\n        const length = this.length();\r\n        return this.div(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floor() {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    round() {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        return this;\r\n    }\r\n    roundToZero() {\r\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\r\n        return this;\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        return this.x * v.y - this.y * v.x; // ????\r\n    }\r\n    squareSum() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.lengthSquared());\r\n    }\r\n    lengthSquared() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y);\r\n    }\r\n    normalize() {\r\n        return this.div(this.length() || 1);\r\n    }\r\n    normalized() {\r\n        return this.dived(this.length() || 1);\r\n    }\r\n    angle() {\r\n        // computes the angle in radians with respect to the positive x-axis\r\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\r\n        return angle;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        let dx = this.x - v.x;\r\n        let dy = this.y - v.y;\r\n        return dx * dx + dy * dy;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        return new Vector2(this.x + (other.x - this.x) * alpha, this.y + (other.y - this.y) * alpha);\r\n    }\r\n    // calculate the 'triangle sign' of three points. Can be used to determine clockwise & counter clockwise\r\n    sign(b, c) {\r\n        return ((this.x - c.x) * (b.y - c.y)) - ((b.x - c.x) * (this.y - c.y));\r\n    }\r\n    // use dot product to project this vector on the other vector\r\n    projectOnVector(other) {\r\n        const denominator = other.lengthSquared();\r\n        if (denominator === 0)\r\n            return this.set(0, 0);\r\n        const scalar = other.dot(this) / denominator;\r\n        return this.copy(other).scale(scalar);\r\n    }\r\n}\r\nfunction clamp(value, min, max) {\r\n    return Math.max(min, Math.min(max, value));\r\n}\r\nfunction radToDeg(r) {\r\n    return r * 180 / Math.PI;\r\n}\r\nfunction degToRad(d) {\r\n    return d * Math.PI / 180;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21hdGgvdmVjdG9yLnRzP2RkMTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsd0JBQXdCO0FBQ3hCLDRCQUE0QjtBQUM1QixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLG1LQUFtSztBQUNuSyw4R0FBOEc7QUFFOUU7QUFDRztBQUc1QixNQUFNLE9BQU87SUFNaEIsWUFBWSxDQUFVLEVBQUUsQ0FBVSxFQUFFLENBQVU7UUFFMUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUdKLE1BQU0sQ0FBQyxRQUFRLENBQUUsRUFBVSxFQUFFLEVBQVUsRUFBRSxLQUFZO1FBRXBELE9BQU8sSUFBSSxPQUFPLENBQ2pCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsR0FBRyxLQUFLLEVBQ3JCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsR0FBRyxLQUFLLEVBQzlCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsR0FBRyxLQUFLLENBQ3ZDLENBQUM7SUFDSCxDQUFDO0lBR0UsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUEwQztRQUN2RCxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUdELE1BQU0sQ0FBQyxVQUFVO1FBRWIsT0FBTyxJQUFJLE9BQU8sQ0FDcEIsSUFB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QUFDLENBQUM7UUFDckQsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBR0QsV0FBVyxDQUFDLEdBQVUsRUFBRSxHQUFVO1FBQ2pDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUUsTUFBTSxJQUFJLENBQUMsQ0FBRSxDQUFDLEtBQUssQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUdELEtBQUs7UUFDSixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBR0QsSUFBSTtRQUNILElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFHRCxLQUFLO1FBQ0osSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUdELFdBQVc7UUFDVixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxD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QUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0MsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUM7UUFDN0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0Q7QUFFRCxTQUFTLEtBQUssQ0FBQyxLQUFhLEVBQUUsR0FBVyxFQUFFLEdBQVc7SUFDckQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQzVDLENBQUM7QUFHTSxTQUFTLFFBQVEsQ0FBQyxDQUFTO0lBQ2pDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQzFCLENBQUM7QUFFTSxTQUFTLFFBQVEsQ0FBQyxDQUFTO0lBQ2pDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDO0FBQzFCLENBQUMiLCJmaWxlIjoiLi9zcmMvbWF0aC92ZWN0b3IudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhdXRob3I6IFx0Sm9zIEZlZW5zdHJhXHJcbi8vIGluc3BpcmF0aW9uIGZyb20gVGhyZWUuanNcclxuLy8gbm90ZTogXHRyZWN5Y2xlIHRoZSBjbGFzcyBhcyBtdWNoIGFzIHBvc3NibGUsIGJ1aWxkaW5nIGEgbmV3IGNsYXNzIGlzIGV4cGVuc2l2ZSxcclxuLy8gXHRcdFx0ZXNwZWNpYWxseSBpbiBqYXZhc2NyaXB0XHJcbi8vIHRvZG86IFx0QklKIE5BREVSIElOWklFTjogZG9udCBnbyB0aGUgY29weSByb3V0ZS4gcmV3cml0ZSB0aGlzIGluIGEgbW9yZSBmdW5jdGlvbmFsIHdheSBjcmVhdGluZyBuZXcgY2xhc3NlcyBpcyBleHBlbnNpdmUsIGJ1dCB3ZSByZWFsbHkgbmVlZCBpbW11dGFibGUgdmVjdG9ycy4gXHJcbi8vIFx0XHRcdHRoZXNlIHR5cGVzIG9mIGNvbnNpc3RlbnQgdmVjdG9ycyBhcmUgb25seSB1c2VmdWwgaW4gbmljaGUgY2FzZXMsIGFuZCBjb21wbGl0YXRlIGEgbG90IG9mIGNvbW1vbiBjYXNlcy4gXHJcblxyXG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuL2NvbnN0XCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi9tYXRyaXhcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVmVjdG9yM1xyXG57XHJcbiAgICAvLyAjcmVnaW9uIGNvbnN0cnVjdG9yc1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgejogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoeCA6IG51bWJlciwgeSA6IG51bWJlciwgeiA6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy56ID0gejtcclxuICAgIH1cclxuXHJcblxyXG5cdHN0YXRpYyBmcm9tTGVycCggdjE6VmVjdG9yMywgdjI6VmVjdG9yMywgYWxwaGE6bnVtYmVyICkgOiBWZWN0b3IzIFxyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0djEueCArICggdjIueCAtIHYxLnggKSAqIGFscGhhLFxyXG4gICAgICAgICAgICB2MS55ICsgKCB2Mi55IC0gdjEueSApICogYWxwaGEsXHJcbiAgICAgICAgICAgIHYxLnogKyAoIHYyLnogLSB2MS56ICkgKiBhbHBoYVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tQXJyYXkoYTogRmxvYXQzMkFycmF5IHwgbnVtYmVyW10gfCBBcnJheTxudW1iZXI+KSA6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhhWzBdLCBhWzFdLCBhWzJdKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21SYW5kb20oKSA6IFZlY3RvcjMgXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKFxyXG5cdFx0ICAgIE1hdGgucmFuZG9tKCksXHJcblx0XHQgICAgTWF0aC5yYW5kb20oKSxcclxuXHRcdCAgICBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21TcGhlcmUocmFkaXVzOm51bWJlciwgdGhldGE6bnVtYmVyLCBwaGk6bnVtYmVyKSA6IFZlY3RvcjNcclxuICAgIHtcclxuXHRcdGNvbnN0IHNpblBoaVJhZGl1cyA9IE1hdGguc2luKCBwaGkgKSAqIHJhZGl1cztcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihcclxuICAgICAgICAgICAgc2luUGhpUmFkaXVzICogTWF0aC5zaW4oIHRoZXRhICksXHJcbiAgICAgICAgICAgIE1hdGguY29zKCBwaGkgKSAqIHJhZGl1cyxcclxuICAgICAgICAgICAgc2luUGhpUmFkaXVzICogTWF0aC5jb3MoIHRoZXRhICksXHJcbiAgICAgICAgKTtcclxuXHR9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tQ3lsaW5kZXIocmFkaXVzOm51bWJlciwgdGhldGE6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSA6IFZlY3RvcjMgXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoXHJcbiAgICAgICAgICAgIHJhZGl1cyAqIE1hdGguc2luKCB0aGV0YSApLFxyXG4gICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgIHJhZGl1cyAqIE1hdGguY29zKCB0aGV0YSApXHJcbiAgICAgICAgKTtcclxuXHR9XHJcblxyXG5cclxuXHRzdGF0aWMgZnJvbUxlcnBXZWlnaHRzKHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgdFAxOiBudW1iZXIsIHRQMjogbnVtYmVyLCB0OiBudW1iZXIpIHtcclxuXHRcdFxyXG5cdFx0aWYgKE1hdGguYWJzKHQgLSB0UDEpIDwgMC4wMDAwMSlcclxuXHRcdFx0cmV0dXJuKHAxKTtcclxuXHRcdGlmIChNYXRoLmFicyh0IC0gdFAyKSA8IDAuMDAwMDEpXHJcblx0XHRcdHJldHVybihwMik7XHJcblx0XHRpZiAoTWF0aC5hYnModFAxIC0gdFAyKSA8IDAuMDAwMDEpXHJcblx0XHRcdHJldHVybihwMSk7XHJcblx0XHRsZXQgbXUgPSAodCAtIHRQMSkgLyAodFAyIC0gdFAxKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjMoXHJcblx0XHRcdHAxLnggKyBtdSAqIChwMi54IC0gcDEueCksXHJcblx0XHRcdHAxLnkgKyBtdSAqIChwMi55IC0gcDEueSksXHJcblx0XHRcdHAxLnogKyBtdSAqIChwMi56IC0gcDEueiksXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vICNlbmRyZWdpb25cclxuXHQvLyAjcmVnaW9uIGRlZmF1bHRzIFxyXG5cclxuXHRzdGF0aWMgemVybygpICB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjMoMCwwLDApO1xyXG5cdH07XHJcblxyXG5cdFxyXG5cdHN0YXRpYyB1bml0WCgpIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMygxLDAsMCk7XHJcblx0fTtcclxuXHJcblx0XHJcblx0c3RhdGljIHVuaXRZKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKDAsMSwwKTtcclxuXHR9O1xyXG5cclxuXHJcblx0c3RhdGljIHVuaXRaKCkge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKDAsMCwxKTtcclxuXHR9O1xyXG5cclxuXHJcblx0Ly8gI2VuZHJlZ2lvblxyXG5cdC8vICNyZWdpb24gYmFzaWNzXHJcblxyXG5cclxuXHRzZXQoeDpudW1iZXIsIHk6bnVtYmVyLCB6Om51bWJlcikgOiBWZWN0b3IzXHJcblx0e1xyXG5cdFx0dGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMueiA9IHo7XHJcblx0XHRyZXR1cm4gdGhpcyBcdFx0XHJcblx0fVxyXG5cclxuXHJcblx0ZXF1YWxzKHY6VmVjdG9yMykgOiBib29sZWFuXHJcblx0e1xyXG5cdFx0cmV0dXJuICggKCB2LnggPT09IHRoaXMueCApICYmICggdi55ID09PSB0aGlzLnkgKSAmJiAoIHYueiA9PT0gdGhpcy56ICkgKTtcclxuXHR9XHJcblxyXG5cclxuICAgIHRvU3RyaW5nKCkgOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gYFZlY3RvcjMoJHt0aGlzLnh9LCAke3RoaXMueX0sICR7dGhpcy56fSlgO1xyXG4gICAgfVxyXG5cclxuXHJcblx0dG9WZWN0b3IyKCkgOiBWZWN0b3IyIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcblx0fVxyXG5cclxuXHJcbiAgICBjbG9uZSgpIDogVmVjdG9yM1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29weSh2OiBWZWN0b3IzKSA6IFZlY3RvcjNcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ID0gdi55O1xyXG4gICAgICAgIHRoaXMueiA9IHYuejtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cdHRvMkQoKTogVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCwgdGhpcy55KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvblxyXG5cdC8vICNyZWdpb24gbWF0aCBsaWtlIHZlY3RvcjJcclxuXHJcblxyXG4gICAgbGFyZ2VzdFZhbHVlKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkZWQodjogVmVjdG9yMykgOiBWZWN0b3IzIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0dGhpcy54ICsgdi54LFxyXG5cdFx0XHR0aGlzLnkgKyB2LnksXHJcblx0XHRcdHRoaXMueiArIHYuelxyXG5cdFx0KTtcclxuICAgIH1cclxuXHJcblxyXG5cdGFkZCh2OiBWZWN0b3IzKSA6IFZlY3RvcjMge1xyXG5cdFx0dGhpcy54ICs9IHYueDtcclxuXHRcdHRoaXMueSArPSB2Lnk7XHJcblx0XHR0aGlzLnogKz0gdi56O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN1YmJlZCh2OiBWZWN0b3IzKSA6IFZlY3RvcjMge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKFxyXG5cdFx0XHR0aGlzLnggLSB2LngsIFxyXG5cdFx0XHR0aGlzLnkgLSB2LnksIFxyXG5cdFx0XHR0aGlzLnogLSB2LnpcclxuXHRcdCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHRzdWIodjogVmVjdG9yMykgOiBWZWN0b3IzIHtcclxuXHRcdHRoaXMueCAtPSB2LngsXHJcblx0XHR0aGlzLnkgLT0gdi55LFxyXG5cdFx0dGhpcy56IC09IHYuelxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuXHRpdGVtKGk6IG51bWJlcikge1xyXG5cdFx0c3dpdGNoKGkpIHtcclxuXHRcdFx0Y2FzZSgwKSA6IHJldHVybiB0aGlzLng7XHJcblx0XHRcdGNhc2UoMSkgOiByZXR1cm4gdGhpcy55O1xyXG5cdFx0XHRjYXNlKDIpIDogcmV0dXJuIHRoaXMuejtcclxuXHRcdFx0Y2FzZSgzKSA6IHJldHVybiAxO1xyXG5cdFx0XHRkZWZhdWx0IDogdGhyb3cgXCJub3BlXCI7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcbiAgICBzY2FsZWQodjogbnVtYmVyKSA6IFZlY3RvcjNcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoXHJcblx0XHRcdHRoaXMueCAqIHYsIFxyXG5cdFx0XHR0aGlzLnkgKiB2LCBcclxuXHRcdFx0dGhpcy56ICogdlxyXG5cdFx0KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2NhbGUodjogbnVtYmVyKSA6IFZlY3RvcjNcclxuICAgIHtcclxuXHRcdHRoaXMueCAqPSB2O1xyXG5cdFx0dGhpcy55ICo9IHY7XHJcblx0XHR0aGlzLnogKj0gdjtcclxuXHRcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWwodjogVmVjdG9yMykgOiBWZWN0b3IzIHtcclxuICAgICAgICB0aGlzLnggKj0gdi54O1xyXG4gICAgICAgIHRoaXMueSAqPSB2Lnk7XHJcblx0XHR0aGlzLnogKj0gdi56O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWx0aXBsaWVkKHY6IFZlY3RvcjMpIDogVmVjdG9yMyB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjMoXHJcblx0XHRcdHRoaXMueCAqIHYueCwgXHJcblx0XHRcdHRoaXMueSAqIHYueSwgXHJcblx0XHRcdHRoaXMueiAqIHYuelxyXG5cdFx0KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZGl2VmVjdG9yKHY6IFZlY3RvcjMpIDogVmVjdG9yM1xyXG4gICAge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKFxyXG5cdFx0XHR0aGlzLnggLyB2LngsIFxyXG5cdFx0XHR0aGlzLnkgLyB2LnksIFxyXG5cdFx0XHR0aGlzLnogLyB2LnpcclxuXHRcdCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRpdmlkZWQodmFsdWU6IG51bWJlcikgOiBWZWN0b3IzXHJcbiAgICB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjMoXHJcblx0XHRcdHRoaXMueCAvIHZhbHVlLCBcclxuXHRcdFx0dGhpcy55IC8gdmFsdWUsIFxyXG5cdFx0XHR0aGlzLnogLyB2YWx1ZVxyXG5cdFx0KTtcclxuICAgIH1cclxuXHJcblxyXG5cdGRpdih2YWx1ZTogbnVtYmVyKSA6IFZlY3RvcjMge1xyXG5cdFx0dGhpcy54IC89IHZhbHVlLCBcclxuXHRcdHRoaXMueSAvPSB2YWx1ZSwgXHJcblx0XHR0aGlzLnogLz0gdmFsdWVcclxuXHRcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtaW5pbXVtZWQob3RoZXI6IFZlY3RvcjMpIDogVmVjdG9yMyBcclxuICAgIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0TWF0aC5taW4odGhpcy54LCBvdGhlci54KSxcclxuXHRcdFx0TWF0aC5taW4odGhpcy55LCBvdGhlci55KSwgXHJcblx0XHRcdE1hdGgubWluKHRoaXMueiwgb3RoZXIueiksXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblxyXG5cdG1heGltdW1lZChvdGhlcjogVmVjdG9yMykgOiBWZWN0b3IzIFxyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0TWF0aC5tYXgodGhpcy54LCBvdGhlci54KSxcclxuXHRcdFx0TWF0aC5tYXgodGhpcy55LCBvdGhlci55KSwgXHJcblx0XHRcdE1hdGgubWF4KHRoaXMueiwgb3RoZXIueilcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0Y2xhbXBlZChtaW46IFZlY3RvcjMsIG1heDogVmVjdG9yMykgOiBWZWN0b3IzIFxyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0TWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKSxcclxuXHRcdFx0TWF0aC5tYXgobWluLnksIE1hdGgubWluKG1heC55LCB0aGlzLnkpKSwgXHJcblx0XHRcdE1hdGgubWF4KG1pbi56LCBNYXRoLm1pbihtYXgueiwgdGhpcy56KSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0Y2xhbXBTY2FsYXJlZChtaW46bnVtYmVyLCBtYXg6bnVtYmVyKSA6IFZlY3RvcjMgXHJcblx0e1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKFxyXG5cdFx0XHRjbGFtcCh0aGlzLngsIG1pbiwgbWF4KSxcclxuXHRcdFx0Y2xhbXAodGhpcy55LCBtaW4sIG1heCksXHJcblx0XHRcdGNsYW1wKHRoaXMueiwgbWluLCBtYXgpLFxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cclxuXHRjbGFtcExlbmd0aGVkKG1pbjpudW1iZXIsIG1heDpudW1iZXIpIDogVmVjdG9yM1xyXG5cdHtcclxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXYobGVuZ3RoIHx8IDEpLnNjYWxlKE1hdGgubWF4KG1pbixNYXRoLm1pbihtYXgsIGxlbmd0aCkpKTtcclxuXHR9XHJcblxyXG5cclxuXHRmbG9vcmVkKCkgOiBWZWN0b3IzIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0TWF0aC5mbG9vcih0aGlzLngpLFxyXG5cdFx0XHRNYXRoLmZsb29yKHRoaXMueSksXHJcblx0XHRcdE1hdGguZmxvb3IodGhpcy56KSxcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0Y2VpbGVkKCkgOiBWZWN0b3IzIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0TWF0aC5jZWlsKHRoaXMueCksXHJcblx0XHRcdE1hdGguY2VpbCh0aGlzLnkpLFxyXG5cdFx0XHRNYXRoLmNlaWwodGhpcy56KSxcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0cm91bmRlZCgpIDogVmVjdG9yMyB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjMoXHJcblx0XHRcdE1hdGgucm91bmQodGhpcy54KSxcclxuXHRcdFx0TWF0aC5yb3VuZCh0aGlzLnkpLFxyXG5cdFx0XHRNYXRoLnJvdW5kKHRoaXMueiksXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblxyXG5cdHJvdW5kZWRUb1plcm8oKSA6IFZlY3RvcjMge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IzKFxyXG5cdFx0XHQodGhpcy54IDwgMCkgPyBNYXRoLmNlaWwoIHRoaXMueCApIDogTWF0aC5mbG9vciggdGhpcy54ICksXHJcblx0XHRcdCh0aGlzLnkgPCAwKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKSxcclxuXHRcdFx0KHRoaXMueiA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnogKSA6IE1hdGguZmxvb3IoIHRoaXMueiApLFxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblxyXG5cdG5lZ2F0ZSgpIDogVmVjdG9yMyB7XHJcblx0XHR0aGlzLnggPSAtdGhpcy54O1xyXG5cdFx0dGhpcy55ID0gLXRoaXMueTtcclxuXHRcdHRoaXMueiA9IC10aGlzLno7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cclxuXHRuZWdhdGVkKCkgOiBWZWN0b3IzIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0LXRoaXMueCxcclxuXHRcdFx0LXRoaXMueSxcclxuXHRcdFx0LXRoaXMueixcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0ZG90KHY6VmVjdG9yMykgOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejtcclxuXHR9XHJcblxyXG5cclxuXHRjcm9zcyhvdGhlcjpWZWN0b3IzKSA6IFZlY3RvcjMge1xyXG4gICAgICAgIGNvbnN0IGF4ID0gdGhpcy54LCBheSA9IHRoaXMueSwgYXogPSB0aGlzLno7XHJcblx0XHRjb25zdCBieCA9IG90aGVyLngsIGJ5ID0gb3RoZXIueSwgYnogPSBvdGhlci56O1xyXG5cclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0YXkgKiBieiAtIGF6ICogYnksXHJcblx0XHRcdGF6ICogYnggLSBheCAqIGJ6LFxyXG5cdFx0XHRheCAqIGJ5IC0gYXkgKiBieCxcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcblx0Z2V0TGVuZ3RoU3F1YXJlZCgpIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLno7XHJcblx0fVxyXG5cclxuXHJcblx0bGVuZ3RoKCkgOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLmdldExlbmd0aFNxdWFyZWQoKSk7XHJcblx0fVxyXG5cclxuXHJcblx0bWFuaGF0KCkgOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIE1hdGguYWJzKHRoaXMueCkgKyBNYXRoLmFicyh0aGlzLnkpICsgTWF0aC5hYnModGhpcy56KTtcclxuXHR9XHJcblxyXG5cclxuXHRub3JtYWxpemUoKSA6IFZlY3RvcjMge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGl2KHRoaXMubGVuZ3RoKCkgfHwgMSk7XHJcblx0fVxyXG5cclxuXHJcblx0bm9ybWFsaXplZCgpIDogVmVjdG9yMyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXZpZGVkKHRoaXMubGVuZ3RoKCkgfHwgMSk7XHJcblx0fVxyXG5cclxuXHJcblx0aXNOb3JtYWwoKSA6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIE1hdGguYWJzKHRoaXMubGVuZ3RoKCkgLSAxKSA8IENvbnN0LlRPTEVSQU5DRTtcclxuXHR9XHJcblxyXG5cclxuXHRkaXNUbyh2OiBWZWN0b3IzKSA6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzVG9TcXVhcmVkKHYpKTtcclxuXHR9XHJcblxyXG5cclxuXHRkaXNUb1NxdWFyZWQodjogVmVjdG9yMykgOiBudW1iZXJcclxuXHR7XHJcblx0XHRjb25zdCBkeCA9IHRoaXMueCAtIHYueCwgXHJcbiAgICAgICAgICAgICAgZHkgPSB0aGlzLnkgLSB2LnksXHJcbiAgICAgICAgICAgICAgZHogPSB0aGlzLnogLSB2Lno7XHJcblx0XHRyZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xyXG5cdH1cclxuXHJcblxyXG5cdGRpc1RvTWFuaGF0KHY6IFZlY3RvcjMpIDogbnVtYmVyXHJcblx0e1xyXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnggLSB2LngpIFxyXG4gICAgICAgICAgICAgKyBNYXRoLmFicyh0aGlzLnkgLSB2LnkpIFxyXG4gICAgICAgICAgICAgKyBNYXRoLmFicyh0aGlzLnogLSB2LnopO1xyXG5cdH1cclxuXHJcblxyXG5cdHNldExlbmd0aChsZW5ndGg6IG51bWJlcikgOiBWZWN0b3IzXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkuc2NhbGUobGVuZ3RoKTtcclxuXHR9XHJcblxyXG5cclxuXHRsZXJwKG90aGVyOiBWZWN0b3IzLCBhbHBoYTpudW1iZXIpIDogVmVjdG9yM1xyXG5cdHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyhcclxuXHRcdFx0KCBvdGhlci54IC0gdGhpcy54ICkgKiBhbHBoYSxcclxuXHRcdFx0KCBvdGhlci55IC0gdGhpcy55ICkgKiBhbHBoYSxcclxuXHRcdFx0KCBvdGhlci56IC0gdGhpcy56ICkgKiBhbHBoYSxcclxuXHRcdCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAvLyAjcmVnaW9uIG1hdGggc3BlY2lmaWMgXHJcblxyXG5cclxuICAgIHByb2plY3RPblZlY3RvcihvdGhlcjogVmVjdG9yMykgXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdXNlIGRvdCBwcm9kdWN0IHRvIHByb2plY3QgdGhpcyB2ZWN0b3Igb24gdGhlIG90aGVyIHZlY3RvciBcclxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gb3RoZXIuZ2V0TGVuZ3RoU3F1YXJlZCgpO1xyXG5cdFx0aWYgKCBkZW5vbWluYXRvciA9PT0gMCApIHJldHVybiB0aGlzLnNldCggMCwgMCwgMCApO1xyXG5cdFx0Y29uc3Qgc2NhbGFyID0gb3RoZXIuZG90KHRoaXMpIC8gZGVub21pbmF0b3I7XHJcblx0XHRyZXR1cm4gdGhpcy5jb3B5KG90aGVyKS5zY2FsZShzY2FsYXIpO1xyXG5cdH1cclxuXHJcbiAgICBcclxuXHRwcm9qZWN0ZWRPblBsYW5lKG5vcm1hbDogVmVjdG9yMykgXHJcbiAgICB7XHJcbiAgICAgICAgLy8gcHJvamVjdCBhIHZlY3RvciBcclxuXHRcdF92ZWN0b3IuY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3Iobm9ybWFsKTtcclxuXHRcdHJldHVybiB0aGlzLm1pbmltdW1lZChfdmVjdG9yKTtcclxuXHR9XHJcblxyXG4gICAgXHJcblx0bWlycm9yZWQobm9ybWFsOiBWZWN0b3IzKSBcclxuICAgIHtcclxuXHRcdC8vIG1pcnJvciBpbmNpZGVudCB2ZWN0b3Igb2ZmIHBsYW5lIG9ydGhvZ29uYWwgdG8gbm9ybWFsXHJcblx0XHQvLyBub3JtYWwgaXMgYXNzdW1lZCB0byBoYXZlIHVuaXQgbGVuZ3RoXHJcblx0XHRyZXR1cm4gdGhpcy5taW5pbXVtZWQoX3ZlY3Rvci5jb3B5KG5vcm1hbCkuc2NhbGUoMiAqIHRoaXMuZG90KG5vcm1hbCkpKTtcclxuXHR9XHJcblxyXG5cdFxyXG5cdHJvdGF0ZWQoYXhpczogVmVjdG9yMywgYW5nbGU6IG51bWJlcikgOiBWZWN0b3IzIHtcclxuXHRcdGxldCBtYXQgPSBNYXRyaXg0Lm5ld0F4aXNSb3RhdGlvbihheGlzLCBhbmdsZSk7XHJcblx0XHRyZXR1cm4gbWF0Lm11bHRpcGx5VmVjdG9yKHRoaXMpOyBcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IF92ZWN0b3IgPSBuZXcgVmVjdG9yMygwLDAsMCk7XHJcblxyXG5leHBvcnQgY2xhc3MgVmVjdG9yMlxyXG57XHJcbiAgICB4OiBudW1iZXI7XHJcblx0eTogbnVtYmVyO1xyXG5cdFxyXG4gICAgY29uc3RydWN0b3IoeCA6IG51bWJlciwgeSA6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcblxyXG5cdC8vIC0tLSBmYWN0b3JpZXMgJiBvdGhlciBzdGF0aWNzXHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tQXJyYXkoYTogQXJyYXk8bnVtYmVyPikgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoYVswXSwgYVsxXSk7XHJcbiAgICB9XHJcblxyXG5cdHN0YXRpYyBmcm9tTGVycCggdjE6VmVjdG9yMiwgdjI6VmVjdG9yMiwgYWxwaGE6bnVtYmVyICkgOiBWZWN0b3IyIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdFx0djEueCArICggdjIueCAtIHYxLnggKSAqIGFscGhhLFxyXG5cdFx0XHR2MS55ICsgKCB2Mi55IC0gdjEueSApICogYWxwaGFcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuICAgIHN0YXRpYyBmcm9tUmFuZG9tKCkgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHQgICAgTWF0aC5yYW5kb20oKSxcclxuXHRcdCAgICBNYXRoLnJhbmRvbSgpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21SYW5kb21BbmdsZSgpIDogVmVjdG9yMiB7XHJcblx0XHRsZXQgYWxwaGEgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDI7XHJcblx0XHRcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdE1hdGguY29zKGFscGhhKSxcclxuXHRcdFx0TWF0aC5zaW4oYWxwaGEpXHJcbiAgICAgICAgKVxyXG5cdH1cclxuXHJcblxyXG5cdC8vIHN0YXRpYyBmcm9tMlB0KGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG5cdC8vIFx0cmV0dXJuIG5ldyBWZWN0b3IyKFxyXG5cdC8vIFx0XHRmcm9tLnggLSB0by54LFxyXG5cdC8vIFx0XHRmcm9tLnkgLSB0by55XHJcblx0Ly8gXHQpXHJcblx0Ly8gfVxyXG5cclxuXHJcblx0c3RhdGljIGZyb21DaXJjbGUoY2VudGVyOiBWZWN0b3IyLCByYWRpdXM6IG51bWJlciwgdGhldGE6IG51bWJlcikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICAgICAgICBjZW50ZXIueCArIHJhZGl1cyAqIE1hdGguc2luKHRoZXRhKSxcclxuICAgICAgICAgICAgY2VudGVyLnkgKyByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSlcclxuICAgICAgICApO1xyXG5cdH1cclxuXHJcblxyXG5cdHN0YXRpYyBmcm9tQ29weShvdGhlcjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuXHRcdHJldHVybiB0aGlzLnplcm8oKS5jb3B5KG90aGVyKTtcdFxyXG5cdH1cclxuXHJcblxyXG5cdHN0YXRpYyB6ZXJvKCkgeyByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7IH1cclxuXHJcblxyXG5cdHN0YXRpYyBOYU4oKSB7IHJldHVybiBuZXcgVmVjdG9yMihOYU4sIE5hTik7IH1cclxuXHJcblxyXG5cdHN0YXRpYyBmcm9tQ2lyY3VtY2VudGVyKGE6IFZlY3RvcjIsIGI6IFZlY3RvcjIsIGM6IFZlY3RvcjIpIDogVmVjdG9yMiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGFzdW0gPSBhLnNxdWFyZVN1bSgpO1xyXG4gICAgICAgIGNvbnN0IGJzdW0gPSBiLnNxdWFyZVN1bSgpO1xyXG4gICAgICAgIGNvbnN0IGNzdW0gPSBjLnNxdWFyZVN1bSgpO1xyXG5cclxuICAgICAgICAvLyBzb3J0IG9mIGNyb3NzIHByb2R1Y3RcclxuICAgICAgICBsZXQgZCA9IDIgKiAoYS54ICogKGIueSAtIGMueSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICBiLnggKiAoYy55IC0gYS55KSArIFxyXG4gICAgICAgICAgICAgICAgICAgICBjLnggKiAoYS55IC0gYi55KSk7XHJcblxyXG4gICAgICAgIC8vIGlmIHRoaXMgdHJpYW5nbGUgaGFzIG5vIGNpcmN1bWNlbnRlcj8gXHJcbiAgICAgICAgaWYgKGQgPCAwLjAwMDAwMSlcclxuXHRcdFx0cmV0dXJuIFZlY3RvcjIuTmFOKCk7IFxyXG5cclxuXHRcdGxldCB4ID0gKGFzdW0gKiAoYi55IC0gYy55KSArIFxyXG5cdFx0XHRcdCBic3VtICogKGMueSAtIGEueSkgKyBcclxuXHRcdFx0XHQgY3N1bSAqIChhLnkgLSBiLnkpKSAvIGQ7XHJcblx0XHRsZXQgeSA9IChhc3VtICogKGMueCAtIGIueCkgKyBcclxuXHRcdFx0XHQgYnN1bSAqIChhLnggLSBjLngpICsgXHJcblx0XHRcdFx0IGNzdW0gKiAoYi54IC0gYS54KSkgLyBkO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoeCx5KTtcclxuICAgIH1cclxuXHJcblxyXG5cdHN0YXRpYyBnZXRTaWduKGE6VmVjdG9yMiwgYjpWZWN0b3IyICwgYzpWZWN0b3IyKSA6IG51bWJlciB7XHJcblx0XHQvLyB0ZXN0IGhhbGYgcGxhbmUgcmVsYXRpb25zaGlwXHJcblx0XHQvLyA8MCA6IHBvaW50IG9uIGZpcnN0IGhhbGZcclxuXHRcdC8vIDAgIDogcG9pbnRzIGNvbGxpbmVhclxyXG5cdFx0Ly8gPjAgOiBwb2ludCBvbiBzZWNvbmQgaGFsZiBcclxuXHRcdHJldHVybiAoYS54IC0gYy54KSAqIChiLnkgLSBjLnkpIC0gXHJcblx0XHQgICAgICAgKGIueCAtIGMueCkgKiAoYS55IC0gYy55KTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyAtLS0gYmFzaWNzXHJcblxyXG5cclxuXHR0bzNEKCkgOiBWZWN0b3IzIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLngsIHRoaXMueSwgMCk7XHJcblx0fVxyXG5cclxuXHRcclxuXHRzZXQoeDpudW1iZXIsIHk6bnVtYmVyKSA6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ID0geDtcclxuXHRcdHRoaXMueSA9IHk7XHJcblx0XHRyZXR1cm4gdGhpcyBcdFx0XHJcblx0fVxyXG5cclxuXHJcblx0cm91Z2hseUVxdWFscyh2OiBWZWN0b3IyLCB0b2w6bnVtYmVyKSA6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChNYXRoLmFicyh0aGlzLnggLSB2LngpIDwgdG9sICYmIFxyXG5cdFx0XHRcdE1hdGguYWJzKHRoaXMueSAtIHYueSkgPCB0b2wpXHJcblx0fVxyXG5cclxuXHJcblx0ZXF1YWxzKHY6VmVjdG9yMikgOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAoICggdi54ID09PSB0aGlzLnggKSAmJiAoIHYueSA9PT0gdGhpcy55ICkgKTtcclxuXHR9XHJcblxyXG5cclxuICAgIHRvU3RyaW5nKCkgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgVmVjdG9yMigke3RoaXMueH0sICR7dGhpcy55fSlgO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjbG9uZSgpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCwgdGhpcy55KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29weSh2OiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHRoaXMueCA9IHYueDtcclxuICAgICAgICB0aGlzLnkgPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cdC8vIC0tLSBtYXRoXHJcblxyXG5cdGFkZCh2OiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHRoaXMueCArPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ICs9IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkZWQodjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHRoaXMueCArIHYueCxcclxuXHRcdFx0dGhpcy55ICsgdi55XHJcblx0XHQpO1xyXG4gICAgfVxyXG5cclxuXHJcblx0YWRkbihhcmcwOiBudW1iZXIsIGFyZzE6IG51bWJlcik6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ICs9IGFyZzA7XHJcblx0XHR0aGlzLnkgKz0gYXJnMTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcblx0c3ViKHY6IFZlY3RvcjIpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgdGhpcy54IC09IHYueDtcclxuICAgICAgICB0aGlzLnkgLT0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdWJiZWQodjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHRoaXMueCAtIHYueCxcclxuXHRcdFx0dGhpcy55IC0gdi55XHJcblx0XHQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWwodjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICB0aGlzLnggKj0gdi54O1xyXG4gICAgICAgIHRoaXMueSAqPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNjYWxlKHY6IG51bWJlcikgOiBWZWN0b3IyIHtcclxuICAgICAgICB0aGlzLnggKj0gdjtcclxuICAgICAgICB0aGlzLnkgKj0gdjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblx0XHJcblx0c2NhbGVkKHY6IG51bWJlcikgOiBWZWN0b3IyIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdFx0dGhpcy54ICogdixcclxuXHRcdFx0dGhpcy55ICogdixcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHJcbiAgICBkaXZWZWN0b3IodjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuICAgICAgICB0aGlzLnggLz0gdi54O1xyXG4gICAgICAgIHRoaXMueSAvPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cdFxyXG4gICAgZGl2KHY6IG51bWJlcikgOiBWZWN0b3IyIHtcclxuICAgICAgICB0aGlzLnggLz0gdjtcclxuICAgICAgICB0aGlzLnkgLz0gdjtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG5cdGRpdmVkKHY6IG51bWJlcikgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHRoaXMueCAvIHYsXHJcblx0XHRcdHRoaXMueSAvIHYsXHJcblx0XHQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtaW5pbXVtKG90aGVyOiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgb3RoZXIueCApO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgb3RoZXIueSApO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0bWF4aW11bShvdGhlcjogVmVjdG9yMikgOiBWZWN0b3IyIHtcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCB0aGlzLngsIG90aGVyLnggKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KCB0aGlzLnksIG90aGVyLnkgKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblxyXG5cdGNsYW1wKG1pbjogVmVjdG9yMiwgbWF4OiBWZWN0b3IyKSA6IFZlY3RvcjIge1xyXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0Y2xhbXBTY2FsYXIobWluVmFsOm51bWJlciwgbWF4VmFsOm51bWJlcikgOiBWZWN0b3IyIHtcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKG1heFZhbCwgdGhpcy54KSk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggbWluVmFsLCBNYXRoLm1pbihtYXhWYWwsIHRoaXMueSkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0Y2xhbXBMZW5ndGgobWluOm51bWJlciwgbWF4Om51bWJlcikgOiBWZWN0b3IyIHtcclxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXYoIGxlbmd0aCB8fCAxICkuc2NhbGUoIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCBsZW5ndGgpKSk7XHJcblx0fVxyXG5cclxuXHJcblx0Zmxvb3IoKSA6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0Y2VpbCgpIDogVmVjdG9yMiB7XHJcblx0XHR0aGlzLnggPSBNYXRoLmNlaWwodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGguY2VpbCh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0cm91bmQoKSA6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5yb3VuZCh0aGlzLngpO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0cm91bmRUb1plcm8oKSA6IFZlY3RvcjIge1xyXG5cdFx0dGhpcy54ID0gKHRoaXMueCA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnggKSA6IE1hdGguZmxvb3IoIHRoaXMueCApO1xyXG5cdFx0dGhpcy55ID0gKHRoaXMueSA8IDApID8gTWF0aC5jZWlsKCB0aGlzLnkgKSA6IE1hdGguZmxvb3IoIHRoaXMueSApO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHJcblx0bmVnYXRlKCkgOiBWZWN0b3IyIHtcclxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xyXG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cclxuXHRkb3QoIHY6VmVjdG9yMiApIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2Lnk7XHJcblx0fVxyXG5cclxuXHJcblx0Y3Jvc3MoIHY6VmVjdG9yMiApIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2Lng7IC8vID8/Pz9cclxuXHR9XHJcblxyXG5cclxuXHRzcXVhcmVTdW0oKSA6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG5cdH1cclxuXHJcblxyXG5cdGxlbmd0aCgpIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpO1xyXG5cdH1cclxuXHJcblxyXG5cdGxlbmd0aFNxdWFyZWQoKSA6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xyXG5cdH1cclxuXHJcblxyXG5cdG1hbmhhdCgpIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiBNYXRoLmFicyggdGhpcy54ICkgKyBNYXRoLmFicyggdGhpcy55ICk7XHJcblx0fVxyXG5cclxuXHJcblx0bm9ybWFsaXplKCkgOiBWZWN0b3IyIHtcclxuXHRcdHJldHVybiB0aGlzLmRpdiggdGhpcy5sZW5ndGgoKSB8fCAxICk7XHJcblx0fVxyXG5cclxuXHJcblx0bm9ybWFsaXplZCgpIDogVmVjdG9yMiB7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXZlZCggdGhpcy5sZW5ndGgoKSB8fCAxICk7XHJcblx0fVxyXG5cclxuXHJcblx0YW5nbGUoKSA6IG51bWJlciB7XHJcblx0XHQvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpc1xyXG5cdFx0Y29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKCAtIHRoaXMueSwgLSB0aGlzLnggKSArIE1hdGguUEk7XHJcblx0XHRyZXR1cm4gYW5nbGU7XHJcblx0fVxyXG5cclxuXHJcblx0ZGlzVG8odjogVmVjdG9yMikgOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc1RvU3F1YXJlZCh2KSk7XHJcblx0fVxyXG5cclxuXHJcblx0ZGlzVG9TcXVhcmVkKHY6IFZlY3RvcjIpIDogbnVtYmVyIHtcclxuXHRcdGxldCBkeCA9IHRoaXMueCAtIHYueDtcclxuXHRcdGxldCBkeSA9IHRoaXMueSAtIHYueTtcclxuXHRcdHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcclxuXHR9XHJcblxyXG5cclxuXHRkaXNUb01hbmhhdCh2OiBWZWN0b3IyKSA6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gTWF0aC5hYnModGhpcy54IC0gdi54KSArIE1hdGguYWJzKHRoaXMueSAtIHYueSk7XHJcblx0fVxyXG5cclxuXHJcblx0c2V0TGVuZ3RoKGxlbmd0aDogbnVtYmVyKSA6IFZlY3RvcjIge1xyXG5cdFx0cmV0dXJuIHRoaXMubm9ybWFsaXplKCkuc2NhbGUobGVuZ3RoKTtcclxuXHR9XHJcblxyXG5cclxuXHRsZXJwKG90aGVyOiBWZWN0b3IyLCBhbHBoYTpudW1iZXIpIDogVmVjdG9yMiB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHRoaXMueCArICggb3RoZXIueCAtIHRoaXMueCApICogYWxwaGEsXHJcblx0XHRcdHRoaXMueSArICggb3RoZXIueSAtIHRoaXMueSApICogYWxwaGEsXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0Ly8gY2FsY3VsYXRlIHRoZSAndHJpYW5nbGUgc2lnbicgb2YgdGhyZWUgcG9pbnRzLiBDYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgY2xvY2t3aXNlICYgY291bnRlciBjbG9ja3dpc2VcclxuXHRzaWduKGI6IFZlY3RvcjIsIGM6IFZlY3RvcjIpIDogbnVtYmVyIHtcclxuXHRcdHJldHVybiAoKHRoaXMueCAtIGMueCkgKiAoYi55IC0gYy55KSkgLSAoKGIueCAtIGMueCkgKiAodGhpcy55LSBjLnkpKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyB1c2UgZG90IHByb2R1Y3QgdG8gcHJvamVjdCB0aGlzIHZlY3RvciBvbiB0aGUgb3RoZXIgdmVjdG9yXHJcblx0cHJvamVjdE9uVmVjdG9yKG90aGVyOiBWZWN0b3IyKSBcclxuICAgIHtcclxuXHRcdGNvbnN0IGRlbm9taW5hdG9yID0gb3RoZXIubGVuZ3RoU3F1YXJlZCgpO1xyXG5cdFx0aWYgKGRlbm9taW5hdG9yID09PSAwKSByZXR1cm4gdGhpcy5zZXQoMCwgMCk7XHJcblx0XHRjb25zdCBzY2FsYXIgPSBvdGhlci5kb3QodGhpcykgLyBkZW5vbWluYXRvcjtcclxuXHRcdHJldHVybiB0aGlzLmNvcHkob3RoZXIpLnNjYWxlKHNjYWxhcik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIDogbnVtYmVyIHtcclxuXHRyZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbHVlKSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFkVG9EZWcocjogbnVtYmVyKSB7XHJcblx0cmV0dXJuIHIgKiAxODAgLyBNYXRoLlBJO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVnVG9SYWQoZDogbnVtYmVyKSB7XHJcblx0cmV0dXJuIGQgKiBNYXRoLlBJIC8gMTgwO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/math/vector.ts\n");

/***/ }),

/***/ "./src/mesh/line-array.ts":
/*!********************************!*\
  !*** ./src/mesh/line-array.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LineArray\": () => /* binding */ LineArray,\n/* harmony export */   \"getDefaultIndices\": () => /* binding */ getDefaultIndices\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// name:    line-render-data.ts\r\n// author:  Jos Feenstra\r\n// purpose: represents an object which can be fed directly to a linerenderer.\r\n//          use it to not continuously have to calculate these aspects if the underlying object is unchanged.\r\n\r\n\r\n\r\n// represents a collection of multiple lines. These could form 1 polyline, but this is not a requirement\r\nclass LineArray {\r\n    constructor(verts, ids) {\r\n        this.verts = verts;\r\n        if (ids == undefined) {\r\n            this.ids = getDefaultIndices(verts.count());\r\n        }\r\n        else {\r\n            this.ids = ids;\r\n        }\r\n    }\r\n    // this assumes even vectices are 'from' points, and odd vertices are 'to' points\r\n    static fromLines(verts) {\r\n        let data = (0,_data_vector_array__WEBPACK_IMPORTED_MODULE_0__.getGeneralFloatMatrix)(verts);\r\n        return new LineArray(data);\r\n    }\r\n    // get all lines from a mesh\r\n    static fromMesh(mesh, uv = false) {\r\n        // 3 edges per face, 2 indices per edge\r\n        let count = mesh.links.count() * 6;\r\n        let data = new Uint16Array(count);\r\n        for (let i = 0; i < mesh.links.count(); i++) {\r\n            let iData = i * 6;\r\n            data[iData] = mesh.links.get(i, 0);\r\n            data[iData + 1] = mesh.links.get(i, 1);\r\n            data[iData + 2] = mesh.links.get(i, 1);\r\n            data[iData + 3] = mesh.links.get(i, 2);\r\n            data[iData + 4] = mesh.links.get(i, 2);\r\n            data[iData + 5] = mesh.links.get(i, 0);\r\n        }\r\n        if (uv) {\r\n            return new LineArray(mesh.uvs, data);\r\n        }\r\n        else {\r\n            return new LineArray(mesh.verts, data);\r\n        }\r\n    }\r\n    // create lines as a grid centered at a plane \r\n    static fromGrid(plane, count, dis) {\r\n        let halfTotalSize = ((count - 1) * dis) / 2;\r\n        // 2 vectors per line, 2 lines per count\r\n        // plus 5 lines, for ihat and jhat icons \r\n        let lines = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count * 4);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, -halfTotalSize, 0));\r\n            lines.setVector(i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, halfTotalSize, 0));\r\n        }\r\n        // y lines \r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(2 * count + i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-halfTotalSize, -halfTotalSize + dis * i, 0));\r\n            lines.setVector(2 * count + i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize, -halfTotalSize + dis * i, 0));\r\n        }\r\n        // finally, transform everything to worldspace, and create the linerenderdata object\r\n        lines.forEach((v) => plane.pushToWorld(v));\r\n        return new LineArray(lines);\r\n    }\r\n    // get all lines from a plane\r\n    static fromPlane(plane) {\r\n        let count = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.PLANE_RENDER_LINECOUNT;\r\n        let dis = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.PLANE_RENDER_LINEDISTANCE;\r\n        let disSmall = dis / 10;\r\n        let halfTotalSize = ((count - 1) * dis) / 2;\r\n        // 2 vectors per line, 2 lines per count\r\n        // plus 5 lines, for ihat and jhat icons \r\n        let lines = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count * 4 + 5 * 2);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, -halfTotalSize, 0));\r\n            lines.setVector(i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, halfTotalSize, 0));\r\n        }\r\n        // y lines \r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(2 * count + i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-halfTotalSize, -halfTotalSize + dis * i, 0));\r\n            lines.setVector(2 * count + i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize, -halfTotalSize + dis * i, 0));\r\n        }\r\n        // icon I  to show ihat\r\n        let iconLine1 = lines.count() - 10;\r\n        lines.setVector(iconLine1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall, -disSmall, 0));\r\n        lines.setVector(iconLine1 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall * 4, disSmall, 0));\r\n        let iconLine2 = lines.count() - 8;\r\n        lines.setVector(iconLine2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall, disSmall, 0));\r\n        lines.setVector(iconLine2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall * 4, -disSmall, 0));\r\n        // icon II to show jhat\r\n        let iconLine3 = lines.count() - 6;\r\n        lines.setVector(iconLine3, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, halfTotalSize + disSmall * 2.5, 0));\r\n        lines.setVector(iconLine3 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(disSmall, halfTotalSize + disSmall * 4, 0));\r\n        let iconLine4 = lines.count() - 4;\r\n        lines.setVector(iconLine4, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(disSmall, halfTotalSize + disSmall, 0));\r\n        lines.setVector(iconLine4 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-disSmall, halfTotalSize + disSmall * 4, 0));\r\n        // icon III to show khat / normal direction\r\n        let iconLine5 = lines.count() - 2;\r\n        lines.setVector(iconLine5, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 0));\r\n        lines.setVector(iconLine5 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, dis));\r\n        // finally, transform everything to worldspace, and create the linerenderdata object\r\n        lines.forEach((v) => plane.pushToWorld(v));\r\n        return new LineArray(lines);\r\n    }\r\n    // get all lines representing a circle in 2d. use an optional matrix to \r\n    static fromCircle(c) {\r\n        let count = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.CIRCLE_SEGMENTS;\r\n        // let count = 12;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            // radial fraction of a circle\r\n            let t = (i / count) * (Math.PI * 2);\r\n            verts.setVector(i, c.plane.pushToWorld(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos(t) * c.radius, Math.sin(t) * c.radius, 0)));\r\n        }\r\n        return new LineArray(verts, getPairIndices(count));\r\n    }\r\n    // turn a spline into a polyline, and render it\r\n    static fromSpline() {\r\n        throw \"todo!\";\r\n    }\r\n    static fromCube(cube) {\r\n        let verts = _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList(cube.getCorners());\r\n        return new LineArray(verts);\r\n    }\r\n    static fromJoin(lines) {\r\n        // join meshes, dont try to look for duplicate vertices\r\n        // TODO : make this the trouble of Matrices and Arrays\r\n        let idsCount = 0;\r\n        let vertCount = 0;\r\n        for (let line of lines) {\r\n            idsCount += line.ids.length;\r\n            vertCount += line.verts.count();\r\n        }\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(vertCount);\r\n        let ids = new Uint16Array(idsCount);\r\n        let accVerts = 0;\r\n        let accFaces = 0;\r\n        for (let lineset of lines) {\r\n            for (let i = 0; i < lineset.verts.count(); i++) {\r\n                verts.setRow(accVerts + i, lineset.verts.getRow(i));\r\n            }\r\n            for (let i = 0; i < lineset.ids.length; i++) {\r\n                ids[accFaces + i] = lineset.ids[i] + accVerts;\r\n            }\r\n            accVerts += lineset.verts.count();\r\n            accFaces += lineset.ids.length;\r\n        }\r\n        return new LineArray(verts, ids);\r\n    }\r\n}\r\n// just get an int sequence from 0 to length. \r\nfunction getDefaultIndices(count) {\r\n    let data = new Uint16Array(count);\r\n    for (let i = 0; i < count; i++) {\r\n        data[i] = i;\r\n    }\r\n    return data;\r\n}\r\nfunction getPairIndices(count) {\r\n    // given count of 3 => return 0,1 | 1,2 | 2,0\r\n    let length = count * 2;\r\n    let data = new Uint16Array(length);\r\n    for (let i = 0; i < count; i++) {\r\n        data[i * 2] = i;\r\n        data[i * 2 + 1] = (i + 1) % count;\r\n    }\r\n    return data;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21lc2gvbGluZS1hcnJheS50cz9mNmY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsK0JBQStCO0FBQy9CLHdCQUF3QjtBQUN4Qiw2RUFBNkU7QUFDN0UsNkdBQTZHO0FBR3JCO0FBTWxEO0FBRVk7QUFFbEQsd0dBQXdHO0FBQ2pHLE1BQU0sU0FBUztJQUtsQixZQUFvQixLQUFrQixFQUFFLEdBQWlCO1FBQ3JELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksR0FBRyxJQUFJLFNBQVMsRUFBRTtZQUNsQixJQUFJLENBQUMsR0FBRyxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQy9DO2FBQU07WUFDSCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFRCxpRkFBaUY7SUFDakYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUEwRDtRQUN2RSxJQUFJLElBQUksR0FBRyx5RUFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxPQUFPLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCw0QkFBNEI7SUFDNUIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFnQixFQUFFLEVBQUUsR0FBQyxLQUFLO1FBRXRDLHVDQUF1QztRQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNuQyxJQUFJLElBQUksR0FBRyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUUxQyxJQUFJLEtBQUssR0FBRyxDQUFDLEdB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b250ZW50IjpbIi8vIG5hbWU6ICAgIGxpbmUtcmVuZGVyLWRhdGEudHNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IHJlcHJlc2VudHMgYW4gb2JqZWN0IHdoaWNoIGNhbiBiZSBmZWQgZGlyZWN0bHkgdG8gYSBsaW5lcmVuZGVyZXIuXHJcbi8vICAgICAgICAgIHVzZSBpdCB0byBub3QgY29udGludW91c2x5IGhhdmUgdG8gY2FsY3VsYXRlIHRoZXNlIGFzcGVjdHMgaWYgdGhlIHVuZGVybHlpbmcgb2JqZWN0IGlzIHVuY2hhbmdlZC5cclxuXHJcbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XHJcbmltcG9ydCB7IGdldEdlbmVyYWxGbG9hdE1hdHJpeCwgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIlxyXG5pbXBvcnQgeyBDaXJjbGUyIH0gZnJvbSBcIi4uL2dlby9jaXJjbGUyXCI7XHJcbmltcG9ydCB7IENpcmNsZTMgfSBmcm9tIFwiLi4vZ2VvL2NpcmNsZTNcIjtcclxuaW1wb3J0IHsgQ3ViZSB9IGZyb20gXCIuLi9nZW8vY3ViZVwiO1xyXG5pbXBvcnQgeyBSZW5kZXJNZXNoIH0gZnJvbSBcIi4vcmVuZGVyLW1lc2hcIjtcclxuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi4vZ2VvL3BsYW5lXCI7XHJcbmltcG9ydCB7IENvbnN0IH0gZnJvbSBcIi4uL21hdGgvY29uc3RcIjtcclxuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XHJcblxyXG4vLyByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBtdWx0aXBsZSBsaW5lcy4gVGhlc2UgY291bGQgZm9ybSAxIHBvbHlsaW5lLCBidXQgdGhpcyBpcyBub3QgYSByZXF1aXJlbWVudFxyXG5leHBvcnQgY2xhc3MgTGluZUFycmF5IHtcclxuICAgIFxyXG4gICAgdmVydHM6IEZsb2F0TWF0cml4O1xyXG4gICAgaWRzOiBVaW50MTZBcnJheTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHZlcnRzOiBGbG9hdE1hdHJpeCwgaWRzPzogVWludDE2QXJyYXkpIHtcclxuICAgICAgICB0aGlzLnZlcnRzID0gdmVydHM7XHJcbiAgICAgICAgaWYgKGlkcyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pZHMgPSBnZXREZWZhdWx0SW5kaWNlcyh2ZXJ0cy5jb3VudCgpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmlkcyA9IGlkcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcyBhc3N1bWVzIGV2ZW4gdmVjdGljZXMgYXJlICdmcm9tJyBwb2ludHMsIGFuZCBvZGQgdmVydGljZXMgYXJlICd0bycgcG9pbnRzXHJcbiAgICBzdGF0aWMgZnJvbUxpbmVzKHZlcnRzOiBWZWN0b3IyW10gfCBWZWN0b3IzW10gfCBWZWN0b3IyQXJyYXkgfCBWZWN0b3IzQXJyYXkpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGdldEdlbmVyYWxGbG9hdE1hdHJpeCh2ZXJ0cyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IGFsbCBsaW5lcyBmcm9tIGEgbWVzaFxyXG4gICAgc3RhdGljIGZyb21NZXNoKG1lc2g6IFJlbmRlck1lc2gsIHV2PWZhbHNlKSA6IExpbmVBcnJheSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gMyBlZGdlcyBwZXIgZmFjZSwgMiBpbmRpY2VzIHBlciBlZGdlXHJcbiAgICAgICAgbGV0IGNvdW50ID0gbWVzaC5saW5rcy5jb3VudCgpICogNjtcclxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShjb3VudCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgbWVzaC5saW5rcy5jb3VudCgpOyBpKyspIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBpRGF0YSA9IGkgKiA2O1xyXG4gICAgICAgICAgICBkYXRhW2lEYXRhXSAgID0gbWVzaC5saW5rcy5nZXQoaSwgMCk7XHJcbiAgICAgICAgICAgIGRhdGFbaURhdGErMV0gPSBtZXNoLmxpbmtzLmdldChpLCAxKTtcclxuICAgICAgICAgICAgZGF0YVtpRGF0YSsyXSA9IG1lc2gubGlua3MuZ2V0KGksIDEpO1xyXG4gICAgICAgICAgICBkYXRhW2lEYXRhKzNdID0gbWVzaC5saW5rcy5nZXQoaSwgMik7XHJcbiAgICAgICAgICAgIGRhdGFbaURhdGErNF0gPSBtZXNoLmxpbmtzLmdldChpLCAyKTtcclxuICAgICAgICAgICAgZGF0YVtpRGF0YSs1XSA9IG1lc2gubGlua3MuZ2V0KGksIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkobWVzaC51dnMsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGluZUFycmF5KG1lc2gudmVydHMsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gY3JlYXRlIGxpbmVzIGFzIGEgZ3JpZCBjZW50ZXJlZCBhdCBhIHBsYW5lIFxyXG4gICAgc3RhdGljIGZyb21HcmlkKHBsYW5lOiBQbGFuZSwgY291bnQ6IG51bWJlciwgZGlzOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaGFsZlRvdGFsU2l6ZSA9ICgoY291bnQtMSkgKiBkaXMpIC8gMjtcclxuXHJcbiAgICAgICAgLy8gMiB2ZWN0b3JzIHBlciBsaW5lLCAyIGxpbmVzIHBlciBjb3VudFxyXG4gICAgICAgIC8vIHBsdXMgNSBsaW5lcywgZm9yIGloYXQgYW5kIGpoYXQgaWNvbnMgXHJcbiAgICAgICAgbGV0IGxpbmVzID0gbmV3IFZlY3RvcjNBcnJheShjb3VudCAqIDQpO1xyXG5cclxuICAgICAgICAvLyB4IGxpbmVzXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB0ID0gLWhhbGZUb3RhbFNpemUgKyBkaXMgKiBpO1xyXG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaSoyLCAgICAgbmV3IFZlY3RvcjModCwgLWhhbGZUb3RhbFNpemUsIDApKTtcclxuICAgICAgICAgICAgbGluZXMuc2V0VmVjdG9yKGkqMiArIDEsIG5ldyBWZWN0b3IzKHQsICBoYWxmVG90YWxTaXplLCAwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB5IGxpbmVzIFxyXG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdCA9IC1oYWxmVG90YWxTaXplICsgZGlzICogaTtcclxuICAgICAgICAgICAgbGluZXMuc2V0VmVjdG9yKDIqY291bnQgKyBpKjIsICAgICBuZXcgVmVjdG9yMygtaGFsZlRvdGFsU2l6ZSwgLWhhbGZUb3RhbFNpemUgKyBkaXMgKiBpLCAwKSk7XHJcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcigyKmNvdW50ICsgaSoyICsgMSwgbmV3IFZlY3RvcjMoIGhhbGZUb3RhbFNpemUsIC1oYWxmVG90YWxTaXplICsgZGlzICogaSAsMCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmluYWxseSwgdHJhbnNmb3JtIGV2ZXJ5dGhpbmcgdG8gd29ybGRzcGFjZSwgYW5kIGNyZWF0ZSB0aGUgbGluZXJlbmRlcmRhdGEgb2JqZWN0XHJcbiAgICAgICAgbGluZXMuZm9yRWFjaCgodikgPT4gcGxhbmUucHVzaFRvV29ybGQodikpO1xyXG4gICAgICAgIHJldHVybiBuZXcgTGluZUFycmF5KGxpbmVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXQgYWxsIGxpbmVzIGZyb20gYSBwbGFuZVxyXG4gICAgc3RhdGljIGZyb21QbGFuZShwbGFuZTogUGxhbmUpIDogTGluZUFycmF5IHtcclxuXHJcbiAgICAgICAgbGV0IGNvdW50ID0gQ29uc3QuUExBTkVfUkVOREVSX0xJTkVDT1VOVDtcclxuICAgICAgICBsZXQgZGlzID0gQ29uc3QuUExBTkVfUkVOREVSX0xJTkVESVNUQU5DRTtcclxuICAgICAgICBsZXQgZGlzU21hbGwgPSBkaXMgLyAxMDtcclxuICAgICAgICBsZXQgaGFsZlRvdGFsU2l6ZSA9ICgoY291bnQtMSkgKiBkaXMpIC8gMjtcclxuXHJcbiAgICAgICAgLy8gMiB2ZWN0b3JzIHBlciBsaW5lLCAyIGxpbmVzIHBlciBjb3VudFxyXG4gICAgICAgIC8vIHBsdXMgNSBsaW5lcywgZm9yIGloYXQgYW5kIGpoYXQgaWNvbnMgXHJcbiAgICAgICAgbGV0IGxpbmVzID0gbmV3IFZlY3RvcjNBcnJheShjb3VudCAqIDQgKyA1ICogMik7XHJcblxyXG4gICAgICAgIC8vIHggbGluZXNcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHQgPSAtaGFsZlRvdGFsU2l6ZSArIGRpcyAqIGk7XHJcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcihpKjIsICAgICBuZXcgVmVjdG9yMyh0LCAtaGFsZlRvdGFsU2l6ZSwgMCkpO1xyXG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaSoyICsgMSwgbmV3IFZlY3RvcjModCwgIGhhbGZUb3RhbFNpemUsIDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHkgbGluZXMgXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB0ID0gLWhhbGZUb3RhbFNpemUgKyBkaXMgKiBpO1xyXG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoMipjb3VudCArIGkqMiwgICAgIG5ldyBWZWN0b3IzKC1oYWxmVG90YWxTaXplLCAtaGFsZlRvdGFsU2l6ZSArIGRpcyAqIGksIDApKTtcclxuICAgICAgICAgICAgbGluZXMuc2V0VmVjdG9yKDIqY291bnQgKyBpKjIgKyAxLCBuZXcgVmVjdG9yMyggaGFsZlRvdGFsU2l6ZSwgLWhhbGZUb3RhbFNpemUgKyBkaXMgKiBpICwwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpY29uIEkgIHRvIHNob3cgaWhhdFxyXG4gICAgICAgIGxldCBpY29uTGluZTEgPSBsaW5lcy5jb3VudCgpIC0gMTA7XHJcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lMSwgbmV3IFZlY3RvcjMoaGFsZlRvdGFsU2l6ZStkaXNTbWFsbCwtZGlzU21hbGwsIDApKTtcclxuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmUxKzEsIG5ldyBWZWN0b3IzKGhhbGZUb3RhbFNpemUrZGlzU21hbGwqNCwgZGlzU21hbGwsIDApKTtcclxuXHJcbiAgICAgICAgbGV0IGljb25MaW5lMiA9IGxpbmVzLmNvdW50KCkgLSA4O1xyXG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTIsIG5ldyBWZWN0b3IzKGhhbGZUb3RhbFNpemUrZGlzU21hbGwsIGRpc1NtYWxsLCAwKSk7XHJcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lMisxLCBuZXcgVmVjdG9yMyhoYWxmVG90YWxTaXplK2Rpc1NtYWxsKjQsIC1kaXNTbWFsbCwgMCkpO1xyXG5cclxuICAgICAgICAvLyBpY29uIElJIHRvIHNob3cgamhhdFxyXG4gICAgICAgIGxldCBpY29uTGluZTMgPSBsaW5lcy5jb3VudCgpIC0gNjtcclxuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmUzLCBuZXcgVmVjdG9yMygwLCBoYWxmVG90YWxTaXplK2Rpc1NtYWxsKjIuNSwgMCkpO1xyXG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTMrMSwgbmV3IFZlY3RvcjMoZGlzU21hbGwsIGhhbGZUb3RhbFNpemUrZGlzU21hbGwqNCwgMCkpO1xyXG5cclxuICAgICAgICBsZXQgaWNvbkxpbmU0ID0gbGluZXMuY291bnQoKSAtIDQ7XHJcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lNCwgbmV3IFZlY3RvcjMoZGlzU21hbGwsIGhhbGZUb3RhbFNpemUrZGlzU21hbGwsIDApKTtcclxuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmU0KzEsIG5ldyBWZWN0b3IzKC1kaXNTbWFsbCwgaGFsZlRvdGFsU2l6ZStkaXNTbWFsbCo0LCAwKSk7XHJcblxyXG4gICAgICAgIC8vIGljb24gSUlJIHRvIHNob3cga2hhdCAvIG5vcm1hbCBkaXJlY3Rpb25cclxuICAgICAgICBsZXQgaWNvbkxpbmU1ID0gbGluZXMuY291bnQoKSAtIDI7XHJcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lNSwgbmV3IFZlY3RvcjMoMCwgMCwgMCkpO1xyXG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTUrMSwgbmV3IFZlY3RvcjMoMCwgMCwgZGlzKSk7XHJcblxyXG4gICAgICAgIC8vIGZpbmFsbHksIHRyYW5zZm9ybSBldmVyeXRoaW5nIHRvIHdvcmxkc3BhY2UsIGFuZCBjcmVhdGUgdGhlIGxpbmVyZW5kZXJkYXRhIG9iamVjdFxyXG4gICAgICAgIGxpbmVzLmZvckVhY2goKHYpID0+IHBsYW5lLnB1c2hUb1dvcmxkKHYpKTtcclxuICAgICAgICByZXR1cm4gbmV3IExpbmVBcnJheShsaW5lcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IGFsbCBsaW5lcyByZXByZXNlbnRpbmcgYSBjaXJjbGUgaW4gMmQuIHVzZSBhbiBvcHRpb25hbCBtYXRyaXggdG8gXHJcbiAgICBzdGF0aWMgZnJvbUNpcmNsZShjOiBDaXJjbGUzKSA6IExpbmVBcnJheSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGNvdW50ID0gQ29uc3QuQ0lSQ0xFX1NFR01FTlRTO1xyXG4gICAgICAgIC8vIGxldCBjb3VudCA9IDEyO1xyXG4gICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkoY291bnQpO1xyXG5cclxuICAgICAgICAvLyB4IGxpbmVzXHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCBjb3VudDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAvLyByYWRpYWwgZnJhY3Rpb24gb2YgYSBjaXJjbGVcclxuICAgICAgICAgICAgbGV0IHQgPSAoaSAvIGNvdW50KSAqIChNYXRoLlBJKjIpO1xyXG4gICAgICAgICAgICB2ZXJ0cy5zZXRWZWN0b3IoaSwgXHJcbiAgICAgICAgICAgICAgICBjLnBsYW5lLnB1c2hUb1dvcmxkKG5ldyBWZWN0b3IzKE1hdGguY29zKHQpICpjLnJhZGl1cywgTWF0aC5zaW4odCkgKiBjLnJhZGl1cywgMCkpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTGluZUFycmF5KHZlcnRzLCBnZXRQYWlySW5kaWNlcyhjb3VudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHR1cm4gYSBzcGxpbmUgaW50byBhIHBvbHlsaW5lLCBhbmQgcmVuZGVyIGl0XHJcbiAgICBzdGF0aWMgZnJvbVNwbGluZSgpIHtcclxuICAgICAgICB0aHJvdyBcInRvZG8hXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21DdWJlKGN1YmU6IEN1YmUpIDogTGluZUFycmF5IHtcclxuXHJcbiAgICAgICAgbGV0IHZlcnRzID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KGN1YmUuZ2V0Q29ybmVycygpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkodmVydHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmcm9tSm9pbihsaW5lczogTGluZUFycmF5W10pIDogTGluZUFycmF5IHtcclxuXHJcbiAgICAgICAgLy8gam9pbiBtZXNoZXMsIGRvbnQgdHJ5IHRvIGxvb2sgZm9yIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xyXG4gICAgICAgIC8vIFRPRE8gOiBtYWtlIHRoaXMgdGhlIHRyb3VibGUgb2YgTWF0cmljZXMgYW5kIEFycmF5c1xyXG4gICAgICAgIGxldCBpZHNDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHZlcnRDb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICBpZHNDb3VudCArPSBsaW5lLmlkcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZlcnRDb3VudCArPSBsaW5lLnZlcnRzLmNvdW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHZlcnRDb3VudCk7XHJcbiAgICAgICAgbGV0IGlkcyA9IG5ldyBVaW50MTZBcnJheShpZHNDb3VudCk7XHJcblxyXG4gICAgICAgIGxldCBhY2NWZXJ0cyA9IDA7XHJcbiAgICAgICAgbGV0IGFjY0ZhY2VzID0gMDtcclxuICAgICAgICBmb3IgKGxldCBsaW5lc2V0IG9mIGxpbmVzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IGxpbmVzZXQudmVydHMuY291bnQoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0cy5zZXRSb3coYWNjVmVydHMgKyBpLCBsaW5lc2V0LnZlcnRzLmdldFJvdyhpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgbGluZXNldC5pZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlkc1thY2NGYWNlcytpXSA9IGxpbmVzZXQuaWRzW2ldICsgYWNjVmVydHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWNjVmVydHMgKz0gbGluZXNldC52ZXJ0cy5jb3VudCgpO1xyXG4gICAgICAgICAgICBhY2NGYWNlcyArPSBsaW5lc2V0Lmlkcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IExpbmVBcnJheSh2ZXJ0cywgaWRzKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8ganVzdCBnZXQgYW4gaW50IHNlcXVlbmNlIGZyb20gMCB0byBsZW5ndGguIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEluZGljZXMoY291bnQ6IG51bWJlcikgOiBVaW50MTZBcnJheSB7XHJcbiAgICBcclxuICAgIGxldCBkYXRhID0gbmV3IFVpbnQxNkFycmF5KGNvdW50KTtcclxuICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgIGRhdGFbaV0gPSBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7IFxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRQYWlySW5kaWNlcyhjb3VudDogbnVtYmVyKSA6IFVpbnQxNkFycmF5IHtcclxuXHJcbiAgICAvLyBnaXZlbiBjb3VudCBvZiAzID0+IHJldHVybiAwLDEgfCAxLDIgfCAyLDBcclxuICAgIGxldCBsZW5ndGggPSBjb3VudCAqIDI7XHJcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShsZW5ndGgpO1xyXG4gICAgZm9yKGxldCBpID0gMCA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgZGF0YVtpKjJdID0gaTtcclxuICAgICAgICBkYXRhW2kqMiArIDFdID0gKGkgKyAxKSAlIGNvdW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7IFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mesh/line-array.ts\n");

/***/ }),

/***/ "./src/mesh/pure-mesh.ts":
/*!*******************************!*\
  !*** ./src/mesh/pure-mesh.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PureMesh\": () => /* binding */ PureMesh\n/* harmony export */ });\n/* harmony import */ var _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/int-matrix */ \"./src/data/int-matrix.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _render_mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render-mesh */ \"./src/mesh/render-mesh.ts\");\n// Mesh.Ts\r\n// Purpose: obj class for dealing with that specific filetype, and meshes in general\r\n// Author: Jos Feenstra\r\n// import { createUnsignedBytesMatrixTexture } from \"@tensorflow/tfjs-backend-webgl/dist/gpgpu_util\";\r\n// import { browserLocalStorage } from \"@tensorflow/tfjs-core/dist/io/local_storage\";\r\n\r\n\r\n\r\n\r\n// TODO make distinctions between\r\n// - DisplayMesh (PureMesh + uvs, texture, normals, material, etc...)\r\n// a very pure idea of a mesh : Vertices + links between vertices. \r\n// Could be anything with these properties.\r\nclass PureMesh {\r\n    constructor(verts, links) {\r\n        this.verts = verts;\r\n        this.links = links;\r\n    }\r\n    static fromLists(verts, faces) {\r\n        return new PureMesh(_data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array.fromList(verts), _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix.fromList(faces, 3));\r\n    }\r\n    static fromEmpty() {\r\n        return new PureMesh(new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(0), new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(0, 0));\r\n    }\r\n    static fromJoin(meshes) {\r\n        // join meshes, dont try to look for duplicate vertices\r\n        // TODO : make this the trouble of Matrices and Arrays\r\n        let vertCount = 0;\r\n        let faceCount = 0;\r\n        for (let mesh of meshes) {\r\n            vertCount += mesh.verts.count();\r\n            faceCount += mesh.links.count();\r\n        }\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount);\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(faceCount, 3);\r\n        let accVerts = 0;\r\n        let accFaces = 0;\r\n        for (let mesh of meshes) {\r\n            for (let i = 0; i < mesh.verts.count(); i++) {\r\n                verts.setVector(accVerts + i, mesh.verts.getVector(i));\r\n            }\r\n            for (let i = 0; i < mesh.links.count(); i++) {\r\n                let face = mesh.links.getRow(i);\r\n                for (let j = 0; j < face.length; j++) {\r\n                    face[j] = face[j] + accVerts;\r\n                }\r\n                links.setRow(accFaces + i, face);\r\n            }\r\n            accVerts += mesh.verts.count();\r\n            accFaces += mesh.links.count();\r\n        }\r\n        return new PureMesh(verts, links);\r\n    }\r\n    static fromRect(rect) {\r\n        let verts = rect.getCorners();\r\n        // we cant handle quads yet \r\n        let faces = [];\r\n        faces.push(...quadToTri(cubeFaces[0]));\r\n        let mesh = new _render_mesh__WEBPACK_IMPORTED_MODULE_3__.RenderMesh(4, 0, 0, 2);\r\n        mesh.verts.fillFromList(verts);\r\n        mesh.links.setData(faces);\r\n        // console.log(mesh.verts);\r\n        // console.log(mesh.links);\r\n        mesh.setUvs(new Float32Array([\r\n            0.0, 0.0,\r\n            0.0, 1.0,\r\n            1.0, 0.0,\r\n            1.0, 1.0\r\n        ]));\r\n        return mesh;\r\n    }\r\n    static fromCube(cube) {\r\n        let verts = cube.getCorners();\r\n        let faces = [];\r\n        for (let face of cubeFaces) {\r\n            faces.push(...quadToTri(face));\r\n        }\r\n        return this.fromLists(verts, faces);\r\n    }\r\n    static fromSphere(center, radius, numRings, numPerRing) {\r\n        // verts\r\n        let vertCount = numRings * numPerRing + 2;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount);\r\n        let setVert = function (i, vector) {\r\n            verts.setVector(i, vector.scale(radius).add(center));\r\n        };\r\n        setVert(0, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 1));\r\n        for (let ring = 0; ring < numRings; ring++) {\r\n            for (let perRing = 0; perRing < numPerRing; perRing++) {\r\n                let alpha = Math.PI * (ring + 1) / (numRings + 1);\r\n                let beta = 2 * Math.PI * perRing / numPerRing;\r\n                let x = Math.sin(alpha)\r\n                    * Math.cos(beta);\r\n                let y = Math.sin(alpha)\r\n                    * Math.sin(beta);\r\n                let z = Math.cos(alpha);\r\n                let index = 1 + ring * numPerRing + perRing;\r\n                setVert(index, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(x, y, z));\r\n            }\r\n        }\r\n        setVert(vertCount - 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, -1));\r\n        // faces \r\n        let faceCount = numPerRing * (numRings) * 2;\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(faceCount, 3);\r\n        links.fill(-1);\r\n        let setFace = function (i, row) {\r\n            links.setRow(i, row);\r\n        };\r\n        // faces top\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            setFace(i, [\r\n                0,\r\n                (i + 1) % numPerRing + 1,\r\n                i + 1,\r\n            ]);\r\n        }\r\n        // faces middle\r\n        // we are at this cursor\r\n        // console.log(\"faces\", faceCount);\r\n        for (let ring = 0; ring < numRings - 1; ring++) {\r\n            let vertCursor = numPerRing * ring + 1;\r\n            let vertCursorBelow = vertCursor + numPerRing;\r\n            for (let perRing = 0; perRing < numPerRing; perRing++) {\r\n                let a = vertCursor + perRing;\r\n                let b = vertCursor + ((perRing + 1) % numPerRing);\r\n                let c = vertCursorBelow + perRing;\r\n                let d = vertCursorBelow + ((perRing + 1) % numPerRing);\r\n                let iFace = numPerRing + (numPerRing * ring * 2) + perRing * 2;\r\n                // console.log(iFace);\r\n                setFace(iFace, [a, b, c]);\r\n                setFace(iFace + 1, [c, b, d]);\r\n            }\r\n        }\r\n        // faces bottom \r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let iNext = ((i + 1) % numPerRing);\r\n            let last = vertCount - 1;\r\n            let iFace = faceCount - numPerRing + i;\r\n            let zero = vertCount - numPerRing - 1;\r\n            let vertI = zero + i;\r\n            let vertINext = zero + iNext;\r\n            // console.log(iFace);\r\n            // console.log(\"face\", last, vertINext, vertI);\r\n            setFace(iFace, [\r\n                last,\r\n                vertI,\r\n                vertINext,\r\n            ]);\r\n        }\r\n        return new PureMesh(verts, links);\r\n    }\r\n    static fromCone(center, radius, height, numPerRing) {\r\n        let numVerts = numPerRing + 2;\r\n        let numFaces = numPerRing * 2;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(numVerts);\r\n        let setVert = function (i, vector) {\r\n            verts.setVector(i, vector.add(center));\r\n        };\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(numFaces, 3);\r\n        links.fill(-1);\r\n        let setFace = function (i, row) {\r\n            links.setRow(i, row);\r\n        };\r\n        // set verts\r\n        setVert(0, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 0));\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            setVert(i + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos(Math.PI * 2 * i / numPerRing), Math.sin(Math.PI * 2 * i / numPerRing), 0).scale(radius));\r\n        }\r\n        setVert(numVerts - 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, height));\r\n        // set faces \r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let a = 0;\r\n            let b = numVerts - 1;\r\n            let c = 1 + i;\r\n            let d = 1 + ((i + 1) % numPerRing);\r\n            setFace(i * 2, [a, c, d]);\r\n            setFace(i * 2 + 1, [c, b, d]);\r\n        }\r\n        return new PureMesh(verts, links);\r\n    }\r\n    // TODO fix this later\r\n    toDisplayMesh() {\r\n        let mesh = new _render_mesh__WEBPACK_IMPORTED_MODULE_3__.RenderMesh(this.verts.count(), 0, 0, this.links.count());\r\n        mesh.verts.data = this.verts.data;\r\n        mesh.links.data = this.links.data;\r\n        return mesh;\r\n    }\r\n}\r\n// ================ Help ==================\r\n// 0 ------- 1\r\n// | \\     / |\r\n// |  4---5  |\r\n// |  |   |  |\r\n// |  6---7  |\r\n// | /     \\ |\r\n// 2 ------- 3\r\nconst cubeFaces = [\r\n    [0, 1, 3, 2],\r\n    [4, 0, 2, 6],\r\n    [1, 0, 4, 5],\r\n    [1, 5, 7, 3],\r\n    [2, 3, 7, 6],\r\n    [5, 4, 6, 7],\r\n];\r\nfunction quadToTri(abcd) {\r\n    return [\r\n        abcd[0], abcd[1], abcd[2],\r\n        abcd[0], abcd[2], abcd[3]\r\n    ];\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21lc2gvcHVyZS1tZXNoLnRzPzhiZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQSxVQUFVO0FBQ1Ysb0ZBQW9GO0FBQ3BGLHVCQUF1QjtBQUV2QixxR0FBcUc7QUFDckcscUZBQXFGO0FBQ3RDO0FBQ21CO0FBQ2hCO0FBR1A7QUFHM0MsaUNBQWlDO0FBQ2pDLHFFQUFxRTtBQUdyRSxtRUFBbUU7QUFDbkUsMkNBQTJDO0FBQ3BDLE1BQU0sUUFBUTtJQUtqQixZQUFZLEtBQW1CLEVBQUUsS0FBZ0I7UUFDN0MsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUdELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBZ0IsRUFBRSxLQUFlO1FBQzlDLE9BQU8sSUFBSSxRQUFRLENBQ2YscUVBQXFCLENBQUMsS0FBSyxDQUFDLEVBQzVCLGdFQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FDL0IsQ0FBQztJQUNOLENBQUM7SUFHRCxNQUFNLENBQUMsU0FBUztRQUNaLE9BQU8sSUFBSSxRQUFRLENBQUMsSUFBSSw0REFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksdURBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBR0QsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFrQjtRQUU5Qix1REFBdUQ7UUFDdkQsc0RBQXNEO1FBQ3RELElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFFbEIsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7WUFDckIsU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEMsU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMs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QUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQzVCO0FBQ0wsQ0FBQyIsImZpbGUiOiIuL3NyYy9tZXNoL3B1cmUtbWVzaC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vLyBNZXNoLlRzXHJcbi8vIFB1cnBvc2U6IG9iaiBjbGFzcyBmb3IgZGVhbGluZyB3aXRoIHRoYXQgc3BlY2lmaWMgZmlsZXR5cGUsIGFuZCBtZXNoZXMgaW4gZ2VuZXJhbFxyXG4vLyBBdXRob3I6IEpvcyBGZWVuc3RyYVxyXG5cclxuLy8gaW1wb3J0IHsgY3JlYXRlVW5zaWduZWRCeXRlc01hdHJpeFRleHR1cmUgfSBmcm9tIFwiQHRlbnNvcmZsb3cvdGZqcy1iYWNrZW5kLXdlYmdsL2Rpc3QvZ3BncHVfdXRpbFwiO1xyXG4vLyBpbXBvcnQgeyBicm93c2VyTG9jYWxTdG9yYWdlIH0gZnJvbSBcIkB0ZW5zb3JmbG93L3RmanMtY29yZS9kaXN0L2lvL2xvY2FsX3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgSW50TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvaW50LW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyQXJyYXksIFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XHJcbmltcG9ydCB7IEN1YmUgfSBmcm9tIFwiLi4vZ2VvL2N1YmVcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlMyB9IGZyb20gXCIuLi9nZW8vcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFJlbmRlck1lc2ggfSBmcm9tIFwiLi9yZW5kZXItbWVzaFwiO1xyXG5cclxuXHJcbi8vIFRPRE8gbWFrZSBkaXN0aW5jdGlvbnMgYmV0d2VlblxyXG4vLyAtIERpc3BsYXlNZXNoIChQdXJlTWVzaCArIHV2cywgdGV4dHVyZSwgbm9ybWFscywgbWF0ZXJpYWwsIGV0Yy4uLilcclxuXHJcblxyXG4vLyBhIHZlcnkgcHVyZSBpZGVhIG9mIGEgbWVzaCA6IFZlcnRpY2VzICsgbGlua3MgYmV0d2VlbiB2ZXJ0aWNlcy4gXHJcbi8vIENvdWxkIGJlIGFueXRoaW5nIHdpdGggdGhlc2UgcHJvcGVydGllcy5cclxuZXhwb3J0IGNsYXNzIFB1cmVNZXNoIHtcclxuXHJcbiAgICB2ZXJ0czogVmVjdG9yM0FycmF5O1xyXG4gICAgbGlua3M6IEludE1hdHJpeDsgLy8gcmVsYXRpb25zaGlwcywgY2FuIGJlIDIgKGxpbmVzKSB8IDMgKHRyaWFuZ2xlcykgfCA0IChxdWFkcylcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0czogVmVjdG9yM0FycmF5LCBsaW5rczogSW50TWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy52ZXJ0cyA9IHZlcnRzO1xyXG4gICAgICAgIHRoaXMubGlua3MgPSBsaW5rcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21MaXN0cyh2ZXJ0czogVmVjdG9yM1tdLCBmYWNlczogbnVtYmVyW10pIDogUHVyZU1lc2gge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHVyZU1lc2goXHJcbiAgICAgICAgICAgIFZlY3RvcjNBcnJheS5mcm9tTGlzdCh2ZXJ0cyksIFxyXG4gICAgICAgICAgICBJbnRNYXRyaXguZnJvbUxpc3QoZmFjZXMsIDMpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21FbXB0eSgpIDogUHVyZU1lc2gge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHVyZU1lc2gobmV3IFZlY3RvcjNBcnJheSgwKSwgbmV3IEludE1hdHJpeCgwLDApKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21Kb2luKG1lc2hlczogUHVyZU1lc2hbXSkgOiBQdXJlTWVzaCB7XHJcblxyXG4gICAgICAgIC8vIGpvaW4gbWVzaGVzLCBkb250IHRyeSB0byBsb29rIGZvciBkdXBsaWNhdGUgdmVydGljZXNcclxuICAgICAgICAvLyBUT0RPIDogbWFrZSB0aGlzIHRoZSB0cm91YmxlIG9mIE1hdHJpY2VzIGFuZCBBcnJheXNcclxuICAgICAgICBsZXQgdmVydENvdW50ID0gMDtcclxuICAgICAgICBsZXQgZmFjZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgbWVzaCBvZiBtZXNoZXMpIHtcclxuICAgICAgICAgICAgdmVydENvdW50ICs9IG1lc2gudmVydHMuY291bnQoKTtcclxuICAgICAgICAgICAgZmFjZUNvdW50ICs9IG1lc2gubGlua3MuY291bnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkodmVydENvdW50KTtcclxuICAgICAgICBsZXQgbGlua3MgPSBuZXcgSW50TWF0cml4KGZhY2VDb3VudCwgMyk7XHJcblxyXG4gICAgICAgIGxldCBhY2NWZXJ0cyA9IDA7XHJcbiAgICAgICAgbGV0IGFjY0ZhY2VzID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgbWVzaCBvZiBtZXNoZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgbWVzaC52ZXJ0cy5jb3VudCgpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZlcnRzLnNldFZlY3RvcihhY2NWZXJ0cyArIGksIG1lc2gudmVydHMuZ2V0VmVjdG9yKGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBtZXNoLmxpbmtzLmNvdW50KCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZhY2UgPSBtZXNoLmxpbmtzLmdldFJvdyhpKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwIDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmYWNlW2pdID0gZmFjZVtqXSArIGFjY1ZlcnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGlua3Muc2V0Um93KGFjY0ZhY2VzICsgaSwgZmFjZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWNjVmVydHMgKz0gbWVzaC52ZXJ0cy5jb3VudCgpO1xyXG4gICAgICAgICAgICBhY2NGYWNlcyArPSBtZXNoLmxpbmtzLmNvdW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFB1cmVNZXNoKHZlcnRzLCBsaW5rcyk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBzdGF0aWMgZnJvbVJlY3QocmVjdDogUmVjdGFuZ2xlMykgOiBSZW5kZXJNZXNoIHtcclxuXHJcbiAgICAgICAgbGV0IHZlcnRzID0gcmVjdC5nZXRDb3JuZXJzKCk7XHJcblxyXG4gICAgICAgIC8vIHdlIGNhbnQgaGFuZGxlIHF1YWRzIHlldCBcclxuICAgICAgICBsZXQgZmFjZXM6IG51bWJlcltdID0gW11cclxuICAgICAgICBmYWNlcy5wdXNoKC4uLnF1YWRUb1RyaShjdWJlRmFjZXNbMF0pKTtcclxuICAgICAgICBsZXQgbWVzaCA9IG5ldyBSZW5kZXJNZXNoKDQsIDAsIDAsIDIpO1xyXG4gICAgICAgIG1lc2gudmVydHMuZmlsbEZyb21MaXN0KHZlcnRzKTtcclxuICAgICAgICBtZXNoLmxpbmtzLnNldERhdGEoZmFjZXMpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLnZlcnRzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLmxpbmtzKTtcclxuXHJcbiAgICAgICAgbWVzaC5zZXRVdnMobmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgICAgIDAuMCwgIDAuMCxcclxuICAgICAgICAgICAgMC4wLCAgMS4wLFxyXG4gICAgICAgICAgICAxLjAsICAwLjAsXHJcbiAgICAgICAgICAgIDEuMCwgIDEuMF0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBmcm9tQ3ViZShjdWJlOiBDdWJlKSA6IFB1cmVNZXNoIHtcclxuXHJcbiAgICAgICAgbGV0IHZlcnRzID0gY3ViZS5nZXRDb3JuZXJzKCk7XHJcbiAgICAgICAgbGV0IGZhY2VzOiBudW1iZXJbXSA9IFtdXHJcbiAgICAgICAgZm9yKGxldCBmYWNlIG9mIGN1YmVGYWNlcykge1xyXG4gICAgICAgICAgICBmYWNlcy5wdXNoKC4uLnF1YWRUb1RyaShmYWNlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTGlzdHModmVydHMsIGZhY2VzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGZyb21TcGhlcmUoY2VudGVyOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgbnVtUmluZ3M6IG51bWJlciwgbnVtUGVyUmluZzogbnVtYmVyKSA6IFB1cmVNZXNoIHtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdmVydHNcclxuICAgICAgICBsZXQgdmVydENvdW50ID0gbnVtUmluZ3MgKiBudW1QZXJSaW5nICsgMjtcclxuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHZlcnRDb3VudCk7XHJcbiAgICAgICAgbGV0IHNldFZlcnQgPSBmdW5jdGlvbihpOiBudW1iZXIsIHZlY3RvcjogVmVjdG9yMykge1xyXG4gICAgICAgICAgICB2ZXJ0cy5zZXRWZWN0b3IoaSwgdmVjdG9yLnNjYWxlKHJhZGl1cykuYWRkKGNlbnRlcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VmVydCgwLCBuZXcgVmVjdG9yMygwLDAsMSkpO1xyXG4gICAgICAgIGZvciAobGV0IHJpbmcgPSAwOyByaW5nIDwgbnVtUmluZ3M7IHJpbmcrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBlclJpbmcgPSAwOyBwZXJSaW5nIDwgbnVtUGVyUmluZzsgcGVyUmluZysrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWxwaGEgPSBNYXRoLlBJICogKHJpbmcrMSkgLyAobnVtUmluZ3MrMSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmV0YSA9IDIgKiBNYXRoLlBJICogcGVyUmluZy9udW1QZXJSaW5nO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB4ID0gTWF0aC5zaW4oYWxwaGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAqIE1hdGguY29zKGJldGEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBNYXRoLnNpbihhbHBoYSkgXHJcbiAgICAgICAgICAgICAgICAgICAgICAqIE1hdGguc2luKGJldGEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHogPSBNYXRoLmNvcyhhbHBoYSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMSArIHJpbmcgKiBudW1QZXJSaW5nICsgcGVyUmluZztcclxuICAgICAgICAgICAgICAgIHNldFZlcnQoaW5kZXgsIG5ldyBWZWN0b3IzKHgsIHksIHopKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRWZXJ0KHZlcnRDb3VudC0xLCBuZXcgVmVjdG9yMygwLDAsLTEpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBmYWNlcyBcclxuICAgICAgICBsZXQgZmFjZUNvdW50ID0gbnVtUGVyUmluZyAqIChudW1SaW5ncykgKiAyO1xyXG4gICAgICAgIGxldCBsaW5rcyA9IG5ldyBJbnRNYXRyaXgoZmFjZUNvdW50LCAzKTtcclxuICAgICAgICBsaW5rcy5maWxsKC0xKTtcclxuICAgICAgICBsZXQgc2V0RmFjZSA9IGZ1bmN0aW9uKGk6IG51bWJlciwgcm93OiBudW1iZXJbXSkge1xyXG4gICAgICAgICAgICBsaW5rcy5zZXRSb3coaSwgcm93KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZhY2VzIHRvcFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGVyUmluZzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNldEZhY2UoaSwgW1xyXG4gICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgIChpKzEpICUgbnVtUGVyUmluZyArIDEsXHJcbiAgICAgICAgICAgICAgICBpKzEsXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmFjZXMgbWlkZGxlXHJcbiAgICAgICAgIC8vIHdlIGFyZSBhdCB0aGlzIGN1cnNvclxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmFjZXNcIiwgZmFjZUNvdW50KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcmluZyA9IDA7IHJpbmcgPCBudW1SaW5ncy0xOyByaW5nKyspIHtcclxuXHJcbiAgICAgICAgICAgIGxldCB2ZXJ0Q3Vyc29yID0gbnVtUGVyUmluZyAqIHJpbmcgKyAxO1xyXG4gICAgICAgICAgICBsZXQgdmVydEN1cnNvckJlbG93ID0gdmVydEN1cnNvciArIG51bVBlclJpbmc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBwZXJSaW5nID0gMDsgcGVyUmluZyA8IG51bVBlclJpbmc7IHBlclJpbmcrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGEgPSB2ZXJ0Q3Vyc29yICsgcGVyUmluZztcclxuICAgICAgICAgICAgICAgIGxldCBiID0gdmVydEN1cnNvciArICgocGVyUmluZyArIDEpICUgbnVtUGVyUmluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGMgPSB2ZXJ0Q3Vyc29yQmVsb3cgKyBwZXJSaW5nO1xyXG4gICAgICAgICAgICAgICAgbGV0IGQgPSB2ZXJ0Q3Vyc29yQmVsb3cgKyAoKHBlclJpbmcgKyAxKSAlIG51bVBlclJpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpRmFjZSA9IG51bVBlclJpbmcgKyAobnVtUGVyUmluZyAqIHJpbmcgKiAyKSArIHBlclJpbmcgKiAyXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlGYWNlKTtcclxuICAgICAgICAgICAgICAgIHNldEZhY2UoaUZhY2UsIFthLGIsY10pO1xyXG4gICAgICAgICAgICAgICAgc2V0RmFjZShpRmFjZSsxLCBbYyxiLGRdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmFjZXMgYm90dG9tIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGVyUmluZzsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgaU5leHQgPSAoKGkrMSkgJSBudW1QZXJSaW5nKTtcclxuICAgICAgICAgICAgbGV0IGxhc3QgPSB2ZXJ0Q291bnQgLSAxO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlGYWNlID0gZmFjZUNvdW50IC0gbnVtUGVyUmluZyArIGk7XHJcblxyXG4gICAgICAgICAgICBsZXQgemVybyA9IHZlcnRDb3VudCAtIG51bVBlclJpbmcgLSAxO1xyXG4gICAgICAgICAgICBsZXQgdmVydEkgPSB6ZXJvICsgaTtcclxuICAgICAgICAgICAgbGV0IHZlcnRJTmV4dCA9IHplcm8gKyBpTmV4dDtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlGYWNlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmYWNlXCIsIGxhc3QsIHZlcnRJTmV4dCwgdmVydEkpO1xyXG5cclxuICAgICAgICAgICAgc2V0RmFjZShpRmFjZSxbXHJcbiAgICAgICAgICAgICAgICBsYXN0LFxyXG4gICAgICAgICAgICAgICAgdmVydEksXHJcbiAgICAgICAgICAgICAgICB2ZXJ0SU5leHQsXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQdXJlTWVzaCh2ZXJ0cywgbGlua3MpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZnJvbUNvbmUoY2VudGVyOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG51bVBlclJpbmc6IG51bWJlcikge1xyXG5cclxuICAgICAgICBsZXQgbnVtVmVydHMgPSBudW1QZXJSaW5nICsgMjtcclxuICAgICAgICBsZXQgbnVtRmFjZXMgPSBudW1QZXJSaW5nICogMjtcclxuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KG51bVZlcnRzKTtcclxuICAgICAgICBsZXQgc2V0VmVydCA9IGZ1bmN0aW9uKGk6IG51bWJlciwgdmVjdG9yOiBWZWN0b3IzKSB7XHJcbiAgICAgICAgICAgIHZlcnRzLnNldFZlY3RvcihpLCB2ZWN0b3IuYWRkKGNlbnRlcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGlua3MgPSBuZXcgSW50TWF0cml4KG51bUZhY2VzLCAzKTtcclxuICAgICAgICBsaW5rcy5maWxsKC0xKTtcclxuICAgICAgICBsZXQgc2V0RmFjZSA9IGZ1bmN0aW9uKGk6IG51bWJlciwgcm93OiBudW1iZXJbXSkge1xyXG4gICAgICAgICAgICBsaW5rcy5zZXRSb3coaSwgcm93KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNldCB2ZXJ0c1xyXG4gICAgICAgIHNldFZlcnQoMCwgbmV3IFZlY3RvcjMoMCwwLDApKTsgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QZXJSaW5nOyBpKyspIHtcclxuICAgICAgICAgICAgc2V0VmVydChpKzEsIG5ldyBWZWN0b3IzKFxyXG4gICAgICAgICAgICAgICAgTWF0aC5jb3MoTWF0aC5QSSAqIDIgKiBpIC8gbnVtUGVyUmluZyksXHJcbiAgICAgICAgICAgICAgICBNYXRoLnNpbihNYXRoLlBJICogMiAqIGkgLyBudW1QZXJSaW5nKSxcclxuICAgICAgICAgICAgMCkuc2NhbGUocmFkaXVzKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VmVydChudW1WZXJ0cy0xLCBuZXcgVmVjdG9yMygwLDAsaGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIC8vIHNldCBmYWNlcyBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBlclJpbmc7IGkrKykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYiA9IG51bVZlcnRzLTE7XHJcbiAgICAgICAgICAgIGxldCBjID0gMSArIGk7XHJcbiAgICAgICAgICAgIGxldCBkID0gMSArICgoaSsxKSAlIG51bVBlclJpbmcpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRGYWNlKGkqMiwgW2EsYyxkXSk7XHJcbiAgICAgICAgICAgIHNldEZhY2UoaSoyKzEsIFtjLGIsZF0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHVyZU1lc2godmVydHMsIGxpbmtzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPIGZpeCB0aGlzIGxhdGVyXHJcbiAgICB0b0Rpc3BsYXlNZXNoKCkgOiBSZW5kZXJNZXNoIHtcclxuICAgICAgICBsZXQgbWVzaCA9IG5ldyBSZW5kZXJNZXNoKHRoaXMudmVydHMuY291bnQoKSwgMCwgMCwgdGhpcy5saW5rcy5jb3VudCgpKTtcclxuICAgICAgICBtZXNoLnZlcnRzLmRhdGEgPSB0aGlzLnZlcnRzLmRhdGE7XHJcbiAgICAgICAgbWVzaC5saW5rcy5kYXRhID0gdGhpcy5saW5rcy5kYXRhO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PSBIZWxwID09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gMCAtLS0tLS0tIDFcclxuLy8gfCBcXCAgICAgLyB8XHJcbi8vIHwgIDQtLS01ICB8XHJcbi8vIHwgIHwgICB8ICB8XHJcbi8vIHwgIDYtLS03ICB8XHJcbi8vIHwgLyAgICAgXFwgfFxyXG4vLyAyIC0tLS0tLS0gM1xyXG5jb25zdCBjdWJlRmFjZXMgPSBbXHJcbiAgICBbMCwxLDMsMl0sIC8vIGZyb250IFxyXG4gICAgWzQsMCwyLDZdLCAvLyBsZWZ0XHJcbiAgICBbMSwwLDQsNV0sIC8vIHRvcFxyXG4gICAgWzEsNSw3LDNdLCAvLyByaWdodFxyXG4gICAgWzIsMyw3LDZdLCAvLyBib3R0b21cclxuICAgIFs1LDQsNiw3XSwgLy8gYmFja1xyXG5dO1xyXG5cclxuZnVuY3Rpb24gcXVhZFRvVHJpKGFiY2Q6IG51bWJlcltdKSA6IG51bWJlcltdIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgYWJjZFswXSwgYWJjZFsxXSwgYWJjZFsyXSwgXHJcbiAgICAgICAgYWJjZFswXSwgYWJjZFsyXSwgYWJjZFszXVxyXG4gICAgXVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mesh/pure-mesh.ts\n");

/***/ }),

/***/ "./src/mesh/render-mesh.ts":
/*!*********************************!*\
  !*** ./src/mesh/render-mesh.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RenderMeshKind\": () => /* binding */ RenderMeshKind,\n/* harmony export */   \"NormalKind\": () => /* binding */ NormalKind,\n/* harmony export */   \"RenderMesh\": () => /* binding */ RenderMesh,\n/* harmony export */   \"meshFromObj\": () => /* binding */ meshFromObj\n/* harmony export */ });\n/* harmony import */ var _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/int-matrix */ \"./src/data/int-matrix.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n// Name: render-mesh.ts \r\n// Author: Jos Feenstra \r\n// Purpose: \r\n// a mesh representation with the sole purpose of to be renderer. \r\n// - fixed length attributes \r\n// - can represent:\r\n//   - pointcloud (links = null)\r\n//   - graph (links.width = 2)\r\n//   - triangles (links.width = 3)\r\n//   - quads (links.width = 4. will need to be converted to triangles)\r\n\r\n\r\nvar RenderMeshKind;\r\n(function (RenderMeshKind) {\r\n    RenderMeshKind[RenderMeshKind[\"Invalid\"] = 0] = \"Invalid\";\r\n    RenderMeshKind[RenderMeshKind[\"Points\"] = 1] = \"Points\";\r\n    RenderMeshKind[RenderMeshKind[\"Lines\"] = 2] = \"Lines\";\r\n    RenderMeshKind[RenderMeshKind[\"Triangles\"] = 3] = \"Triangles\";\r\n    RenderMeshKind[RenderMeshKind[\"Quads\"] = 4] = \"Quads\";\r\n})(RenderMeshKind || (RenderMeshKind = {}));\r\nvar NormalKind;\r\n(function (NormalKind) {\r\n    NormalKind[NormalKind[\"None\"] = 0] = \"None\";\r\n    NormalKind[NormalKind[\"Vertex\"] = 1] = \"Vertex\";\r\n    NormalKind[NormalKind[\"Face\"] = 2] = \"Face\";\r\n    NormalKind[NormalKind[\"MultiVertex\"] = 3] = \"MultiVertex\";\r\n})(NormalKind || (NormalKind = {}));\r\nclass RenderMesh {\r\n    constructor(vertCount, normCount, uvCount, faceCount, texture = undefined) {\r\n        var _a;\r\n        this.verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount);\r\n        this.norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(normCount);\r\n        this.uvs = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector2Array(uvCount);\r\n        this.links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(faceCount, 3);\r\n        (_a = this.links) === null || _a === void 0 ? void 0 : _a.fill(-1);\r\n        this.texture = texture;\r\n    }\r\n    static fromData(verts, norms, uvs, faces) {\r\n        // NOTE : this type of parsing makes my life easy, but is dangerous. This is why i created the \r\n        // Array class. \r\n        let mesh = new RenderMesh(verts.length / 3, norms.length / 3, uvs.length / 2, faces.length / 3);\r\n        mesh.verts.fillWith(verts);\r\n        mesh.norms.fillWith(norms);\r\n        mesh.uvs.fillWith(uvs);\r\n        mesh.links.fillWith(faces);\r\n        return mesh;\r\n    }\r\n    static fromJoin(meshes) {\r\n        // join meshes, dont try to look for duplicate vertices\r\n        // TODO : make this the trouble of Matrices and Arrays\r\n        let vertCount = 0;\r\n        let faceCount = 0;\r\n        for (let mesh of meshes) {\r\n            vertCount += mesh.verts.count();\r\n            if (mesh.links)\r\n                faceCount += mesh.links.count();\r\n        }\r\n        let joined = new RenderMesh(vertCount, 0, 0, faceCount);\r\n        let accVerts = 0;\r\n        let accFaces = 0;\r\n        for (let mesh of meshes) {\r\n            for (let i = 0; i < mesh.verts.count(); i++) {\r\n                joined.verts.setVector(accVerts + i, mesh.verts.getVector(i));\r\n            }\r\n            if (!mesh.links)\r\n                continue;\r\n            for (let i = 0; i < mesh.links.count(); i++) {\r\n                let face = mesh.links.getRow(i);\r\n                for (let j = 0; j < face.length; j++) {\r\n                    face[j] = face[j] + accVerts;\r\n                }\r\n                joined.links.setRow(accFaces + i, face);\r\n            }\r\n            accVerts += mesh.verts.count();\r\n            accFaces += mesh.links.count();\r\n        }\r\n        return joined;\r\n    }\r\n    // getters & selectors \r\n    getAdjacentFaces(v) {\r\n        let faces = [];\r\n        let count = this.links.count();\r\n        for (let i = 0; i < count; i++) {\r\n            if (this.links.getRow(i).includes(v)) {\r\n                faces.push(i);\r\n            }\r\n        }\r\n        return faces;\r\n    }\r\n    getFaceVertices(f) {\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.links._width);\r\n        this.links.getRow(f).forEach((v, i) => {\r\n            verts.setVector(i, (this.verts.getVector(v)));\r\n        });\r\n        return verts;\r\n    }\r\n    getKind() {\r\n        if (this.links._width == RenderMeshKind.Points) {\r\n            return RenderMeshKind.Points;\r\n        }\r\n        else if (this.links._width == RenderMeshKind.Lines) {\r\n            return RenderMeshKind.Lines;\r\n        }\r\n        else if (this.links._width == RenderMeshKind.Triangles) {\r\n            return RenderMeshKind.Triangles;\r\n        }\r\n        else if (this.links._width == RenderMeshKind.Quads) {\r\n            return RenderMeshKind.Quads;\r\n        }\r\n        else {\r\n            return RenderMeshKind.Invalid;\r\n        }\r\n    }\r\n    getNormalType() {\r\n        let count = this.norms.count();\r\n        if (count == this.verts.count()) {\r\n            return NormalKind.Vertex;\r\n        }\r\n        else if (count == this.links.count()) {\r\n            return NormalKind.Face;\r\n        }\r\n        else if (count == this.links.data.length) {\r\n            return NormalKind.MultiVertex;\r\n        }\r\n        else {\r\n            return NormalKind.None;\r\n        }\r\n    }\r\n    // setters \r\n    setTexture(texture) {\r\n        this.texture = texture;\r\n        // recalculate things if needed\r\n    }\r\n    setUvs(uvs) {\r\n        if (uvs instanceof Float32Array) {\r\n            this.uvs.data = uvs;\r\n        }\r\n        else {\r\n            this.uvs = uvs;\r\n        }\r\n        // recalculate if needed\r\n    }\r\n    // convert\r\n    exportToObj(path) {\r\n        throw \"todo\";\r\n    }\r\n    // normals\r\n    calculateFaceNormals() {\r\n        // calculate a normal per face\r\n        if (this.getKind() != RenderMeshKind.Triangles) {\r\n            console.error(\"can only calculate normals from triangular meshes\");\r\n            this.norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(0);\r\n            return;\r\n        }\r\n        let faceCount = this.links.count();\r\n        this.norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(faceCount);\r\n        for (let f = 0; f < faceCount; f++) {\r\n            let verts = this.getFaceVertices(f).toList();\r\n            let normal = verts[2].subbed(verts[0]).cross(verts[1].subbed(verts[0])).normalize();\r\n            this.norms.setVector(f, normal);\r\n        }\r\n    }\r\n    calculateVertexNormals() {\r\n        this.calculateFaceNormals();\r\n        let vertNormals = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.verts.count());\r\n        this.verts.forEach((v, i) => {\r\n            let adjFaces = this.getAdjacentFaces(i);\r\n            let adjNormals = this.norms.takeRows(adjFaces);\r\n            vertNormals.setVector(i, adjNormals.average());\r\n        });\r\n        this.norms = vertNormals;\r\n    }\r\n}\r\n;\r\n// ================ Obj ===================\r\nfunction meshFromObj(text) {\r\n    // This is not a full .obj parser.\r\n    // see http://paulbourke.net/dataformats/obj/\r\n    // INDEXES ORIGINALLY REFER TO LINES, so -1 is needed\r\n    // run through all lines, and temporarely store\r\n    // all data in raw number lists, since we dont know how \r\n    // many vertices or faces well get. \r\n    let verts = []; // 3 long float\r\n    let norms = []; // 3 long float\r\n    let uvs = []; // 2 long float \r\n    let faces = []; // 9 long ints, u16's should suffice. \r\n    // note : this is very inefficient, but it'll have to do for now...\r\n    const keywordRE = /(\\w*)(?: )*(.*)/;\r\n    const lines = text.split('\\n');\r\n    for (let i = 0; i < lines.length; ++i) {\r\n        const line = lines[i].trim();\r\n        // filter out comments\r\n        if (line === '' || line.startsWith('#')) {\r\n            continue;\r\n        }\r\n        const m = keywordRE.exec(line);\r\n        if (!m) {\r\n            continue;\r\n        }\r\n        const [, keyword, unparsedArgs] = m;\r\n        const parts = line.split(/\\s+/).slice(1);\r\n        switch (keyword) {\r\n            case 'v':\r\n                for (const part of parts) {\r\n                    verts.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case 'vn':\r\n                for (const part of parts) {\r\n                    norms.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case 'vt':\r\n                for (const part of parts) {\r\n                    uvs.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case 'f':\r\n                for (const value of ProcessObjFace(parts)) {\r\n                    faces.push(value);\r\n                }\r\n                break;\r\n            default:\r\n                console.warn('unhandled keyword:', keyword); // eslint-disable-line no-console\r\n                continue;\r\n        }\r\n    }\r\n    // console.log(\"number of vertices: \" + verts.length / 3);\r\n    // console.log(\"number of faces: \" + faces.length / 3);\r\n    // console.log(\"number of uvs: \" + uvs.length / 2);\r\n    // console.log(\"number of norms: \" + norms.length / 3);\r\n    let mesh = RenderMesh.fromData(verts, norms, uvs, faces);\r\n    return mesh;\r\n}\r\n// NOTE: for now, uv and normals are completely ignored!!!\r\n// we assume the indices are the same als the vertices!!!\r\n// verbose way of processing one single vertex/normal/uv combination in a face. \r\nfunction ProcessObjFaceVertex(part) {\r\n    // make sure data always has length: 3\r\n    let data = [];\r\n    // cut string apart and process it\r\n    let subparts = part.split('/');\r\n    if (subparts.length == 1) {\r\n        data.push(parseInt(subparts[0]) - 1);\r\n        // data.push(0);\r\n        // data.push(0);\r\n    }\r\n    else if (subparts.length == 3) {\r\n        data.push(parseInt(subparts[0]) - 1);\r\n        // data.push(parseInt(subparts[1])-1);\r\n        // data.push(parseInt(subparts[2])-1);\r\n    }\r\n    else {\r\n        throw \"invalid face found when processing\";\r\n    }\r\n    return data;\r\n}\r\n// process a face entry in an obj file\r\nfunction ProcessObjFace(parts) {\r\n    let data = [];\r\n    if (parts.length == 4) {\r\n        // i dont want to deal with quads for now, create 2 faces from a quad\r\n        let a = ProcessObjFaceVertex(parts[0]);\r\n        let b = ProcessObjFaceVertex(parts[1]);\r\n        let c = ProcessObjFaceVertex(parts[2]);\r\n        let d = ProcessObjFaceVertex(parts[3]);\r\n        data.push(...a, ...b, ...c, ...a, ...c, ...d);\r\n    }\r\n    else if (parts.length == 3) {\r\n        // as normal        \r\n        let a = ProcessObjFaceVertex(parts[0]);\r\n        let b = ProcessObjFaceVertex(parts[1]);\r\n        let c = ProcessObjFaceVertex(parts[2]);\r\n        data.push(...a, ...b, ...c);\r\n    }\r\n    // data always has length 9 or 18\r\n    return data;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL21lc2gvcmVuZGVyLW1lc2gudHM/MDNlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSx3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLFlBQVk7QUFDWixrRUFBa0U7QUFDbEUsNkJBQTZCO0FBQzdCLG1CQUFtQjtBQUNuQixnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCLGtDQUFrQztBQUNsQyxzRUFBc0U7QUFFdkI7QUFDbUI7QUFRbEUsSUFBWSxjQU1YO0FBTkQsV0FBWSxjQUFjO0lBQ3RCLHlEQUFXO0lBQ1gsdURBQVU7SUFDVixxREFBUztJQUNULDZEQUFhO0lBQ2IscURBQVM7QUFDYixDQUFDLEVBTlcsY0FBYyxLQUFkLGNBQWMsUUFNekI7QUFFRCxJQUFZLFVBS1g7QUFMRCxXQUFZLFVBQVU7SUFDbEIsMkNBQUk7SUFDSiwrQ0FBTTtJQUNOLDJDQUFJO0lBQ0oseURBQVc7QUFDZixDQUFDLEVBTFcsVUFBVSxLQUFWLFVBQVUsUUFLckI7QUFFTSxNQUFNLFVBQVU7SUFRbkIsWUFBWSxTQUFpQixFQUFFLFNBQWlCLEVBQUUsT0FBZSxFQUFFLFNBQWlCLEVBQUUsVUFBaUMsU0FBUzs7UUFDNUgsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLDREQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLDREQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLDREQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLHVEQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLFVBQUksQ0FBQyxLQUFLLDBDQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMz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QUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdkMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBRWpEO1NBQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtRQUMxQixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsaUNBQWlDO0lBQ2pDLE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUMiLCJmaWxlIjoiLi9zcmMvbWVzaC9yZW5kZXItbWVzaC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5hbWU6IHJlbmRlci1tZXNoLnRzIFxyXG4vLyBBdXRob3I6IEpvcyBGZWVuc3RyYSBcclxuLy8gUHVycG9zZTogXHJcbi8vIGEgbWVzaCByZXByZXNlbnRhdGlvbiB3aXRoIHRoZSBzb2xlIHB1cnBvc2Ugb2YgdG8gYmUgcmVuZGVyZXIuIFxyXG4vLyAtIGZpeGVkIGxlbmd0aCBhdHRyaWJ1dGVzIFxyXG4vLyAtIGNhbiByZXByZXNlbnQ6XHJcbi8vICAgLSBwb2ludGNsb3VkIChsaW5rcyA9IG51bGwpXHJcbi8vICAgLSBncmFwaCAobGlua3Mud2lkdGggPSAyKVxyXG4vLyAgIC0gdHJpYW5nbGVzIChsaW5rcy53aWR0aCA9IDMpXHJcbi8vICAgLSBxdWFkcyAobGlua3Mud2lkdGggPSA0LiB3aWxsIG5lZWQgdG8gYmUgY29udmVydGVkIHRvIHRyaWFuZ2xlcylcclxuXHJcbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xyXG5pbXBvcnQgeyBDdWJlIH0gZnJvbSBcIi4uL2dlby9jdWJlXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZTMgfSBmcm9tIFwiLi4vZ2VvL3JlY3RhbmdsZVwiO1xyXG5cclxudHlwZSB2ZXJ0ZXhJRCA9IG51bWJlcjtcclxudHlwZSBmYWNlSUQgPSBudW1iZXI7XHJcblxyXG5leHBvcnQgZW51bSBSZW5kZXJNZXNoS2luZCB7XHJcbiAgICBJbnZhbGlkID0gMCxcclxuICAgIFBvaW50cyA9IDEsXHJcbiAgICBMaW5lcyA9IDIsXHJcbiAgICBUcmlhbmdsZXMgPSAzLFxyXG4gICAgUXVhZHMgPSA0LFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBOb3JtYWxLaW5kIHtcclxuICAgIE5vbmUsXHJcbiAgICBWZXJ0ZXgsXHJcbiAgICBGYWNlLFxyXG4gICAgTXVsdGlWZXJ0ZXgsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZW5kZXJNZXNoIHtcclxuXHJcbiAgICB2ZXJ0czogVmVjdG9yM0FycmF5OyBcclxuICAgIG5vcm1zOiBWZWN0b3IzQXJyYXk7IFxyXG4gICAgdXZzOiAgIFZlY3RvcjJBcnJheTtcclxuICAgIGxpbmtzOiBJbnRNYXRyaXg7IFxyXG4gICAgdGV4dHVyZT86IEltYWdlRGF0YTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0Q291bnQ6IG51bWJlciwgbm9ybUNvdW50OiBudW1iZXIsIHV2Q291bnQ6IG51bWJlciwgZmFjZUNvdW50OiBudW1iZXIsIHRleHR1cmU6IEltYWdlRGF0YSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMudmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHZlcnRDb3VudCk7XHJcbiAgICAgICAgdGhpcy5ub3JtcyA9IG5ldyBWZWN0b3IzQXJyYXkobm9ybUNvdW50KTtcclxuICAgICAgICB0aGlzLnV2cyA9IG5ldyBWZWN0b3IyQXJyYXkodXZDb3VudCk7XHJcbiAgICAgICAgdGhpcy5saW5rcyA9IG5ldyBJbnRNYXRyaXgoZmFjZUNvdW50LCAzKTtcclxuICAgICAgICB0aGlzLmxpbmtzPy5maWxsKC0xKTtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZnJvbURhdGEodmVydHM6IG51bWJlcltdLCBub3JtczogbnVtYmVyW10sIHV2czogbnVtYmVyW10sIGZhY2VzOiBudW1iZXJbXSkgOiBSZW5kZXJNZXNoIHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBOT1RFIDogdGhpcyB0eXBlIG9mIHBhcnNpbmcgbWFrZXMgbXkgbGlmZSBlYXN5LCBidXQgaXMgZGFuZ2Vyb3VzLiBUaGlzIGlzIHdoeSBpIGNyZWF0ZWQgdGhlIFxyXG4gICAgICAgIC8vIEFycmF5IGNsYXNzLiBcclxuICAgICAgICBsZXQgbWVzaCA9IG5ldyBSZW5kZXJNZXNoKHZlcnRzLmxlbmd0aCAvIDMsIG5vcm1zLmxlbmd0aCAvIDMsIHV2cy5sZW5ndGggLyAyLCBmYWNlcy5sZW5ndGggLyAzKTtcclxuICAgICAgICBtZXNoLnZlcnRzLmZpbGxXaXRoKHZlcnRzKTtcclxuICAgICAgICBtZXNoLm5vcm1zIS5maWxsV2l0aChub3Jtcyk7XHJcbiAgICAgICAgbWVzaC51dnMhLmZpbGxXaXRoKHV2cyk7XHJcbiAgICAgICAgbWVzaC5saW5rcyEuZmlsbFdpdGgoZmFjZXMpO1xyXG4gICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZnJvbUpvaW4obWVzaGVzOiBSZW5kZXJNZXNoW10pIDogUmVuZGVyTWVzaCB7XHJcblxyXG4gICAgICAgIC8vIGpvaW4gbWVzaGVzLCBkb250IHRyeSB0byBsb29rIGZvciBkdXBsaWNhdGUgdmVydGljZXNcclxuICAgICAgICAvLyBUT0RPIDogbWFrZSB0aGlzIHRoZSB0cm91YmxlIG9mIE1hdHJpY2VzIGFuZCBBcnJheXNcclxuICAgICAgICBsZXQgdmVydENvdW50ID0gMDtcclxuICAgICAgICBsZXQgZmFjZUNvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBtZXNoIG9mIG1lc2hlcykge1xyXG4gICAgICAgICAgICB2ZXJ0Q291bnQgKz0gbWVzaC52ZXJ0cy5jb3VudCgpO1xyXG4gICAgICAgICAgICBpZiAobWVzaC5saW5rcykgZmFjZUNvdW50ICs9IG1lc2gubGlua3MuY291bnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBqb2luZWQgPSBuZXcgUmVuZGVyTWVzaCh2ZXJ0Q291bnQsIDAsIDAsIGZhY2VDb3VudCk7XHJcblxyXG4gICAgICAgIGxldCBhY2NWZXJ0cyA9IDA7XHJcbiAgICAgICAgbGV0IGFjY0ZhY2VzID0gMDtcclxuICAgICAgICBmb3IgKGxldCBtZXNoIG9mIG1lc2hlcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBtZXNoLnZlcnRzLmNvdW50KCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgam9pbmVkLnZlcnRzLnNldFZlY3RvcihhY2NWZXJ0cyArIGksIG1lc2gudmVydHMuZ2V0VmVjdG9yKGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIW1lc2gubGlua3MpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBtZXNoLmxpbmtzLmNvdW50KCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZhY2UgPSBtZXNoLmxpbmtzLmdldFJvdyhpKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwIDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmYWNlW2pdID0gZmFjZVtqXSArIGFjY1ZlcnRzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgam9pbmVkLmxpbmtzIS5zZXRSb3coYWNjRmFjZXMgKyBpLCBmYWNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY2NWZXJ0cyArPSBtZXNoLnZlcnRzLmNvdW50KCk7XHJcbiAgICAgICAgICAgIGFjY0ZhY2VzICs9IG1lc2gubGlua3MuY291bnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBqb2luZWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGdldHRlcnMgJiBzZWxlY3RvcnMgXHJcblxyXG4gICAgZ2V0QWRqYWNlbnRGYWNlcyh2OiB2ZXJ0ZXhJRCkgOiBmYWNlSURbXSB7XHJcbiAgICAgICAgbGV0IGZhY2VzOiBmYWNlSURbXSA9IFtdXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5saW5rcy5jb3VudCgpXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtzLmdldFJvdyhpKS5pbmNsdWRlcyh2KSkge1xyXG4gICAgICAgICAgICAgICAgZmFjZXMucHVzaChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFjZXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEZhY2VWZXJ0aWNlcyhmOiBmYWNlSUQpIDogVmVjdG9yM0FycmF5IHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMubGlua3MuX3dpZHRoKTtcclxuICAgICAgICB0aGlzLmxpbmtzLmdldFJvdyhmKS5mb3JFYWNoKCh2LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIHZlcnRzLnNldFZlY3RvcihpLCAodGhpcy52ZXJ0cy5nZXRWZWN0b3IodikpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdmVydHM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEtpbmQoKSA6IFJlbmRlck1lc2hLaW5kIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGlua3MuX3dpZHRoID09IFJlbmRlck1lc2hLaW5kLlBvaW50cykge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVuZGVyTWVzaEtpbmQuUG9pbnRzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saW5rcy5fd2lkdGggPT0gUmVuZGVyTWVzaEtpbmQuTGluZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlbmRlck1lc2hLaW5kLkxpbmVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saW5rcy5fd2lkdGggPT0gUmVuZGVyTWVzaEtpbmQuVHJpYW5nbGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZW5kZXJNZXNoS2luZC5UcmlhbmdsZXM7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpbmtzLl93aWR0aCA9PSBSZW5kZXJNZXNoS2luZC5RdWFkcykge1xyXG4gICAgICAgICAgICByZXR1cm4gUmVuZGVyTWVzaEtpbmQuUXVhZHM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlbmRlck1lc2hLaW5kLkludmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE5vcm1hbFR5cGUoKSA6IE5vcm1hbEtpbmQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMubm9ybXMuY291bnQoKTtcclxuICAgICAgICBpZiAoY291bnQgPT0gdGhpcy52ZXJ0cy5jb3VudCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOb3JtYWxLaW5kLlZlcnRleDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09IHRoaXMubGlua3MuY291bnQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTm9ybWFsS2luZC5GYWNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT0gdGhpcy5saW5rcy5kYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTm9ybWFsS2luZC5NdWx0aVZlcnRleDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gTm9ybWFsS2luZC5Ob25lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXR0ZXJzIFxyXG5cclxuICAgIHNldFRleHR1cmUodGV4dHVyZTogSW1hZ2VEYXRhKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICAvLyByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgbmVlZGVkXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldFV2cyh1dnM6IFZlY3RvcjJBcnJheSB8IEZsb2F0MzJBcnJheSkge1xyXG4gICAgICAgIGlmICh1dnMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcclxuICAgICAgICAgICAgdGhpcy51dnMhLmRhdGEgPSB1dnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51dnMgPSB1dnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGlmIG5lZWRlZFxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnZlcnRcclxuICAgIGV4cG9ydFRvT2JqKHBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRocm93IFwidG9kb1wiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vcm1hbHNcclxuICAgIGNhbGN1bGF0ZUZhY2VOb3JtYWxzKCkge1xyXG5cclxuICAgICAgICAvLyBjYWxjdWxhdGUgYSBub3JtYWwgcGVyIGZhY2VcclxuICAgICAgICBpZiAodGhpcy5nZXRLaW5kKCkgIT0gUmVuZGVyTWVzaEtpbmQuVHJpYW5nbGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4gb25seSBjYWxjdWxhdGUgbm9ybWFscyBmcm9tIHRyaWFuZ3VsYXIgbWVzaGVzXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm5vcm1zID0gbmV3IFZlY3RvcjNBcnJheSgwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZhY2VDb3VudCA9IHRoaXMubGlua3MuY291bnQoKTtcclxuICAgICAgICB0aGlzLm5vcm1zID0gbmV3IFZlY3RvcjNBcnJheShmYWNlQ291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGYgPSAwIDsgZiA8IGZhY2VDb3VudDsgZisrKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmVydHMgPSB0aGlzLmdldEZhY2VWZXJ0aWNlcyhmKS50b0xpc3QoKTtcclxuICAgICAgICAgICAgbGV0IG5vcm1hbCA9IHZlcnRzWzJdLnN1YmJlZCh2ZXJ0c1swXSkuY3Jvc3ModmVydHNbMV0uc3ViYmVkKHZlcnRzWzBdKSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9ybXMuc2V0VmVjdG9yKGYsIG5vcm1hbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjYWxjdWxhdGVWZXJ0ZXhOb3JtYWxzKCkge1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlRmFjZU5vcm1hbHMoKTtcclxuICAgICAgICBsZXQgdmVydE5vcm1hbHMgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMudmVydHMuY291bnQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMudmVydHMuZm9yRWFjaCgodiwgaSkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGFkakZhY2VzID0gdGhpcy5nZXRBZGphY2VudEZhY2VzKGkpO1xyXG4gICAgICAgICAgICBsZXQgYWRqTm9ybWFscyA9IHRoaXMubm9ybXMudGFrZVJvd3MoYWRqRmFjZXMpIGFzIFZlY3RvcjNBcnJheTtcclxuICAgICAgICAgICAgdmVydE5vcm1hbHMuc2V0VmVjdG9yKGksIGFkak5vcm1hbHMuYXZlcmFnZSgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubm9ybXMgPSB2ZXJ0Tm9ybWFscztcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09IE9iaiA9PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVzaEZyb21PYmoodGV4dDogc3RyaW5nKSA6IFJlbmRlck1lc2gge1xyXG5cclxuICAgIC8vIFRoaXMgaXMgbm90IGEgZnVsbCAub2JqIHBhcnNlci5cclxuICAgIC8vIHNlZSBodHRwOi8vcGF1bGJvdXJrZS5uZXQvZGF0YWZvcm1hdHMvb2JqL1xyXG4gICAgLy8gSU5ERVhFUyBPUklHSU5BTExZIFJFRkVSIFRPIExJTkVTLCBzbyAtMSBpcyBuZWVkZWRcclxuXHJcbiAgICAvLyBydW4gdGhyb3VnaCBhbGwgbGluZXMsIGFuZCB0ZW1wb3JhcmVseSBzdG9yZVxyXG4gICAgLy8gYWxsIGRhdGEgaW4gcmF3IG51bWJlciBsaXN0cywgc2luY2Ugd2UgZG9udCBrbm93IGhvdyBcclxuICAgIC8vIG1hbnkgdmVydGljZXMgb3IgZmFjZXMgd2VsbCBnZXQuIFxyXG4gICAgbGV0IHZlcnRzOiBudW1iZXJbXSA9IFtdOyAvLyAzIGxvbmcgZmxvYXRcclxuICAgIGxldCBub3JtczogbnVtYmVyW10gPSBbXTsgLy8gMyBsb25nIGZsb2F0XHJcbiAgICBsZXQgdXZzOiAgIG51bWJlcltdID0gW107IC8vIDIgbG9uZyBmbG9hdCBcclxuICAgIGxldCBmYWNlczogbnVtYmVyW10gPSBbXTsgLy8gOSBsb25nIGludHMsIHUxNidzIHNob3VsZCBzdWZmaWNlLiBcclxuICAgIFxyXG4gICAgLy8gbm90ZSA6IHRoaXMgaXMgdmVyeSBpbmVmZmljaWVudCwgYnV0IGl0J2xsIGhhdmUgdG8gZG8gZm9yIG5vdy4uLlxyXG4gICAgY29uc3Qga2V5d29yZFJFID0gLyhcXHcqKSg/OiApKiguKikvO1xyXG4gICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcclxuXHJcbiAgICAgICAgLy8gZmlsdGVyIG91dCBjb21tZW50c1xyXG4gICAgICAgIGlmIChsaW5lID09PSAnJyB8fCBsaW5lLnN0YXJ0c1dpdGgoJyMnKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbSA9IGtleXdvcmRSRS5leGVjKGxpbmUpO1xyXG4gICAgICAgIGlmICghbSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgWywga2V5d29yZCwgdW5wYXJzZWRBcmdzXSA9IG07XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KC9cXHMrLykuc2xpY2UoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoKGtleXdvcmQpIHtcclxuICAgICAgICAgICAgY2FzZSAndic6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHBhcnNlRmxvYXQocGFydCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZuJzpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vcm1zLnB1c2gocGFyc2VGbG9hdChwYXJ0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndnQnOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXZzLnB1c2gocGFyc2VGbG9hdChwYXJ0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZic6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIFByb2Nlc3NPYmpGYWNlKHBhcnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhY2VzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VuaGFuZGxlZCBrZXl3b3JkOicsIGtleXdvcmQpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIm51bWJlciBvZiB2ZXJ0aWNlczogXCIgKyB2ZXJ0cy5sZW5ndGggLyAzKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwibnVtYmVyIG9mIGZhY2VzOiBcIiArIGZhY2VzLmxlbmd0aCAvIDMpO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJudW1iZXIgb2YgdXZzOiBcIiArIHV2cy5sZW5ndGggLyAyKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwibnVtYmVyIG9mIG5vcm1zOiBcIiArIG5vcm1zLmxlbmd0aCAvIDMpO1xyXG5cclxuICAgIGxldCBtZXNoID0gUmVuZGVyTWVzaC5mcm9tRGF0YSh2ZXJ0cywgbm9ybXMsIHV2cywgZmFjZXMpO1xyXG4gIFxyXG4gICAgcmV0dXJuIG1lc2g7XHJcbn1cclxuXHJcbi8vIE5PVEU6IGZvciBub3csIHV2IGFuZCBub3JtYWxzIGFyZSBjb21wbGV0ZWx5IGlnbm9yZWQhISFcclxuLy8gd2UgYXNzdW1lIHRoZSBpbmRpY2VzIGFyZSB0aGUgc2FtZSBhbHMgdGhlIHZlcnRpY2VzISEhXHJcbi8vIHZlcmJvc2Ugd2F5IG9mIHByb2Nlc3Npbmcgb25lIHNpbmdsZSB2ZXJ0ZXgvbm9ybWFsL3V2IGNvbWJpbmF0aW9uIGluIGEgZmFjZS4gXHJcbmZ1bmN0aW9uIFByb2Nlc3NPYmpGYWNlVmVydGV4KHBhcnQ6IHN0cmluZykgOiBudW1iZXJbXSB7XHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIGRhdGEgYWx3YXlzIGhhcyBsZW5ndGg6IDNcclxuICAgIGxldCBkYXRhOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBjdXQgc3RyaW5nIGFwYXJ0IGFuZCBwcm9jZXNzIGl0XHJcbiAgICBsZXQgc3VicGFydHMgPSBwYXJ0LnNwbGl0KCcvJyk7XHJcbiAgICBpZiAoc3VicGFydHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICBkYXRhLnB1c2gocGFyc2VJbnQoc3VicGFydHNbMF0pLTEpO1xyXG4gICAgICAgIC8vIGRhdGEucHVzaCgwKTtcclxuICAgICAgICAvLyBkYXRhLnB1c2goMCk7XHJcbiAgICB9IGVsc2UgaWYgKHN1YnBhcnRzLmxlbmd0aCA9PSAzKSB7XHJcbiAgICAgICAgZGF0YS5wdXNoKHBhcnNlSW50KHN1YnBhcnRzWzBdKS0xKTtcclxuICAgICAgICAvLyBkYXRhLnB1c2gocGFyc2VJbnQoc3VicGFydHNbMV0pLTEpO1xyXG4gICAgICAgIC8vIGRhdGEucHVzaChwYXJzZUludChzdWJwYXJ0c1syXSktMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiaW52YWxpZCBmYWNlIGZvdW5kIHdoZW4gcHJvY2Vzc2luZ1wiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8vIHByb2Nlc3MgYSBmYWNlIGVudHJ5IGluIGFuIG9iaiBmaWxlXHJcbmZ1bmN0aW9uIFByb2Nlc3NPYmpGYWNlKHBhcnRzOiBzdHJpbmdbXSkgOiBudW1iZXJbXSB7XHJcbiAgICBcclxuICAgIGxldCBkYXRhOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gNCkge1xyXG4gICAgICAgIC8vIGkgZG9udCB3YW50IHRvIGRlYWwgd2l0aCBxdWFkcyBmb3Igbm93LCBjcmVhdGUgMiBmYWNlcyBmcm9tIGEgcXVhZFxyXG4gICAgICAgIGxldCBhID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbMF0pO1xyXG4gICAgICAgIGxldCBiID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbMV0pO1xyXG4gICAgICAgIGxldCBjID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbMl0pO1xyXG4gICAgICAgIGxldCBkID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbM10pO1xyXG5cclxuICAgICAgICBkYXRhLnB1c2goLi4uYSwgLi4uYiwgLi4uYywgLi4uYSwgLi4uYywgLi4uZCk7XHJcblxyXG4gICAgfSBlbHNlIGlmIChwYXJ0cy5sZW5ndGggPT0gMykge1xyXG4gICAgICAgIC8vIGFzIG5vcm1hbCAgICAgICAgXHJcbiAgICAgICAgbGV0IGEgPSBQcm9jZXNzT2JqRmFjZVZlcnRleChwYXJ0c1swXSk7XHJcbiAgICAgICAgbGV0IGIgPSBQcm9jZXNzT2JqRmFjZVZlcnRleChwYXJ0c1sxXSk7XHJcbiAgICAgICAgbGV0IGMgPSBQcm9jZXNzT2JqRmFjZVZlcnRleChwYXJ0c1syXSk7XHJcbiAgICAgICAgZGF0YS5wdXNoKC4uLmEsIC4uLmIsIC4uLmMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRhdGEgYWx3YXlzIGhhcyBsZW5ndGggOSBvciAxOFxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mesh/render-mesh.ts\n");

/***/ }),

/***/ "./src/render/camera.ts":
/*!******************************!*\
  !*** ./src/render/camera.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Camera\": () => /* binding */ Camera\n/* harmony export */ });\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/math */ \"./src/math/math.ts\");\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _math_ray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/ray */ \"./src/math/ray.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// author : Jos Feenstra\r\n// purpose : contain all logic regarding \r\n\r\n\r\n\r\n\r\n\r\nclass Camera {\r\n    constructor(canvas, z_offset = 1, canMove = false) {\r\n        this.angleAlpha = 0; // rotation x \r\n        this.angleBeta = 0; // rotation y\r\n        this.mousePos = _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector2.zero();\r\n        // camera matrix properties\r\n        this.fov = 20. * Math.PI / 100.;\r\n        this.zFar = 10000.;\r\n        this.zNear = 0.1;\r\n        // other consts\r\n        this.speed = 1;\r\n        this.worldPlane = _geo_plane__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY();\r\n        this.canMove = canMove;\r\n        this.pos = new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0);\r\n        this.z_offset = -z_offset;\r\n        this.offset = new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, -z_offset);\r\n        this.updateMatrices(canvas);\r\n    }\r\n    update(state) {\r\n        this.updateControls(state);\r\n        this.updateMatrices(state.canvas);\r\n        this.updateClick(state);\r\n        if (state.IsKeyPressed(\"p\")) {\r\n            console.log(this.pos);\r\n            console.log(this.offset);\r\n            console.log(\"speed is now: \" + this.speed);\r\n        }\r\n    }\r\n    updateMatrices(canvas) {\r\n        this.worldMatrix = this.getWorldMatrix();\r\n        this.projectMatrix = this.getProjectionMatrix(canvas);\r\n        this.totalMatrix = this.worldMatrix.multiplied(this.projectMatrix);\r\n    }\r\n    lookat(position, target) {\r\n        // set matrices to the thing\r\n        let matrix = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newLookAt(position, target, this.worldPlane.khat);\r\n    }\r\n    updateClick(state) {\r\n        // todo\r\n    }\r\n    updateControls(state) {\r\n        let deltaScroll = state.scrollValue * 1.2;\r\n        this.offset.z = this.z_offset - deltaScroll;\r\n        if (state.IsKeyPressed(\"Shift\")) {\r\n            this.speed *= 2;\r\n        }\r\n        if (state.IsKeyPressed(\"Control\")) {\r\n            this.speed = Math.max(this.speed * 0.5, 0.1);\r\n        }\r\n        // deal with mouse\r\n        let prevPos = this.mousePos.clone();\r\n        this.mousePos = state.mousePos.clone();\r\n        let delta = prevPos.clone().sub(this.mousePos);\r\n        this.getMouseWorldRay(state.canvas.width, state.canvas.height);\r\n        if (state.mouseRightDown) {\r\n            this.angleAlpha = _math_math__WEBPACK_IMPORTED_MODULE_1__.GMath.clamp(this.angleAlpha + delta.y * 0.01, 0, Math.PI);\r\n            this.angleBeta += delta.x * -0.01;\r\n        }\r\n        function relativeUnitY(angle) {\r\n            let m = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angle);\r\n            return m.multiplyVector(_math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3.unitY());\r\n        }\r\n        function relativeUnitX(angle) {\r\n            let m = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angle);\r\n            return m.multiplyVector(_math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3.unitX());\r\n        }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        if (state.IsKeyDown(\"s\"))\r\n            this.pos.add(relativeUnitY(-this.angleBeta).scale(0.01 * this.speed));\r\n        if (state.IsKeyDown(\"w\"))\r\n            this.pos.add(relativeUnitY(-this.angleBeta).scale(-0.01 * this.speed));\r\n        if (state.IsKeyDown(\"a\"))\r\n            this.pos.add(relativeUnitX(-this.angleBeta).scale(0.01 * this.speed));\r\n        if (state.IsKeyDown(\"d\"))\r\n            this.pos.add(relativeUnitX(-this.angleBeta).scale(-0.01 * this.speed));\r\n        if (state.IsKeyDown(\"q\"))\r\n            this.pos.z += 0.01 * this.speed;\r\n        if (state.IsKeyDown(\"e\"))\r\n            this.pos.z -= 0.01 * this.speed;\r\n    }\r\n    getCameraPoint() {\r\n        return this.worldMatrix.inverse().multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0));\r\n    }\r\n    getMouseWorldRay(canvasWidth, canvasHeight) {\r\n        // get a ray from origin through mousepos \r\n        // mouse unit screen position: \r\n        //       -------------- -0.5\r\n        //       |            |\r\n        //       |      .(0,0)|\r\n        //       |            | \r\n        //       -------------- 0.5\r\n        //     -0.72        0.72     \r\n        //    (0.72 = 0.5 * aspect)\r\n        // \r\n        let size = 0.5; // size indicator of the fustrum\r\n        let mp = this.mousePos;\r\n        let aspect = canvasWidth / canvasHeight;\r\n        let mouseUnitX = (-size + (mp.x / canvasWidth)) * aspect;\r\n        let mouseUnitY = -size + (mp.y / canvasHeight);\r\n        let f = size / Math.tan(this.fov / 2); // focal length \r\n        let invWorld = this.worldMatrix.inverse();\r\n        let origin = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0));\r\n        // TODO instead of doing this, just extract the x, y, and z columns of invWorld \r\n        let iDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(1, 0, 0));\r\n        let jDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 1, 0));\r\n        let kDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, -1));\r\n        let ihat = iDestiny.sub(origin).normalize();\r\n        let jhat = jDestiny.sub(origin).normalize();\r\n        let khat = kDestiny.sub(origin).normalize();\r\n        let screenPoint = origin\r\n            .added(khat.scaled(f))\r\n            .add(ihat.scaled(mouseUnitX))\r\n            .add(jhat.scaled(-mouseUnitY));\r\n        return _math_ray__WEBPACK_IMPORTED_MODULE_3__.Ray.fromPoints(origin, screenPoint);\r\n    }\r\n    getWorldMatrix() {\r\n        let offset = this.offset;\r\n        let angleA = this.angleAlpha;\r\n        let angleB = this.angleBeta;\r\n        // translate so z means 'up'\r\n        let yzFlip = new _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4([\r\n            1, 0, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n        // translated to fit screen\r\n        let position = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newTranslation(this.pos.x, this.pos.y, this.pos.z);\r\n        let mOffset = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newTranslation(offset.x, offset.y, offset.z);\r\n        // rotated by user\r\n        let x_rotation = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newXRotation(angleA);\r\n        let z_rotation = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angleB);\r\n        let rotation = z_rotation.multiply(x_rotation);\r\n        // let transform = mOffset.multiply(rotation).multiply(position);\r\n        let transform = position.multiply(rotation).multiply(mOffset);\r\n        return transform;\r\n    }\r\n    getProjectionMatrix(canvas) {\r\n        // aspects\r\n        let aspect = canvas.width / canvas.height; // note: this should be constant\r\n        // let z_plane = -1. / Math.tan(pi / 8.);        \r\n        // projection to screen\r\n        // let projection = Matrix4.newOrthographic(-1, 1, -1, 1, 0.1, 0.1);\r\n        let projection = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newPerspective(this.fov, aspect, this.zNear, this.zFar);\r\n        return projection;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9jYW1lcmEudHM/YmRiMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQSx3QkFBd0I7QUFDeEIseUNBQXlDO0FBSUo7QUFDQTtBQUNJO0FBQ1A7QUFDZTtBQUcxQyxNQUFNLE1BQU07SUEyQmYsWUFBWSxNQUF5QixFQUFFLFFBQVEsR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFDLEtBQUs7UUF0QmxFLGVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxjQUFjO1FBQzlCLGNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxhQUFhO1FBQzVCLGFBQVEsR0FBRyxzREFBWSxFQUFFLENBQUM7UUFFMUIsMkJBQTJCO1FBQzNCLFFBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDM0IsU0FBSSxHQUFHLE1BQU0sQ0FBQztRQUNkLFVBQUssR0FBRyxHQUFHLENBQUM7UUFFWixlQUFlO1FBQ2YsVUFBSyxHQUFHLENBQUMsQ0FBQztRQUVWLGVBQVUsR0FBRyxxREFBYSxFQUFFLENBQUM7UUFZekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxpREFBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBaUI7UUFDcEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsY0FBYyxD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QUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDLGNBQWMsQ0FBQyx1REFBYSxFQUFFLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDZixPQUFPO1NBQ1Y7UUFFRCxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7WUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMzRSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7WUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMzRSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BDLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7WUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEMsQ0FBQztJQUVELGNBQWM7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksaURBQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELGdCQUFnQixDQUFDLFdBQW1CLEVBQUUsWUFBb0I7UUFFdEQsMENBQTBDO1FBRTFDLCtCQUErQjtRQUMvQiw0QkFBNEI7UUFDNUIsdUJBQXVCO1FBQ3ZCLHVCQUF1QjtRQUN2Qix3QkFBd0I7UUFDeEIsMkJBQTJCO1FBQzNCLDZCQUE2QjtRQUM3QiwyQkFBMkI7UUFDM0IsR0FBRztRQUVILElBQUksSUFBSSxHQUFHLEdBQUcsRUFBQyxnQ0FBZ0M7UUFDL0MsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFDO1FBQ3hDLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ3pELElBQUksVUFBVSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQztRQUUvQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCO1FBRXZELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDMUMsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXpELGdGQUFnRjtRQUNoRixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksaURBQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0QsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxpREFBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTVELElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDNUMsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUM1QyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRTVDLElBQUksV0FBVyxHQUFHLE1BQU07YUFDbkIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDckIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDNUIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRW5DLE9BQU8scURBQWMsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELGNBQWM7UUFDVixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDN0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUU1Qiw0QkFBNEI7UUFDNUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxpREFBTyxDQUFDO1lBQ3JCLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7WUFDUCxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO1lBQ1AsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztZQUNQLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7U0FDVixDQUFDO1FBRUYsMkJBQTJCO1FBQzNCLElBQUksUUFBUSxHQUFHLGdFQUFzQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUUsSUFBSSxPQUFPLEdBQUcsZ0VBQXNCLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVuRSxrQkFBa0I7UUFDbEIsSUFBSSxVQUFVLEdBQUcsOERBQW9CLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsSUFBSSxVQUFVLEdBQUcsOERBQW9CLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUUvQyxpRUFBaUU7UUFFakUsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUQsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVELG1CQUFtQixDQUFDLE1BQXlCO1FBRXpDLFVBQVU7UUFDVixJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxnQ0FBZ0M7UUFFM0UsaURBQWlEO1FBRWpELHVCQUF1QjtRQUN2QixvRUFBb0U7UUFDcEUsSUFBSSxVQUFVLEdBQUcsZ0VBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakYsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9jYW1lcmEudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gYXV0aG9yIDogSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2UgOiBjb250YWluIGFsbCBsb2dpYyByZWdhcmRpbmcgXHJcblxyXG5pbXBvcnQgeyBub3JtIH0gZnJvbSBcIkB0ZW5zb3JmbG93L3RmanNcIjtcclxuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xyXG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuLi9nZW8vcGxhbmVcIjtcclxuaW1wb3J0IHsgR01hdGggfSBmcm9tIFwiLi4vbWF0aC9tYXRoXCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcclxuaW1wb3J0IHsgUmF5IH0gZnJvbSBcIi4uL21hdGgvcmF5XCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIlxyXG5pbXBvcnQgeyBJbnB1dFN0YXRlIH0gZnJvbSBcIi4uL3N5c3RlbS9pbnB1dC1zdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbWVyYSB7XHJcblxyXG4gICAgcG9zOiBWZWN0b3IzO1xyXG4gICAgb2Zmc2V0OiBWZWN0b3IzOyAvLyBvZmZzZXQgZnJvbSByb3RhdGlvbiBjZW50ZXJcclxuICAgIHpfb2Zmc2V0OiBudW1iZXI7XHJcbiAgICBhbmdsZUFscGhhID0gMDsgLy8gcm90YXRpb24geCBcclxuICAgIGFuZ2xlQmV0YSA9IDA7IC8vIHJvdGF0aW9uIHlcclxuICAgIG1vdXNlUG9zID0gVmVjdG9yMi56ZXJvKCk7XHJcblxyXG4gICAgLy8gY2FtZXJhIG1hdHJpeCBwcm9wZXJ0aWVzXHJcbiAgICBmb3YgPSAyMC4gKiBNYXRoLlBJIC8gMTAwLjtcclxuICAgIHpGYXIgPSAxMDAwMC47XHJcbiAgICB6TmVhciA9IDAuMTtcclxuXHJcbiAgICAvLyBvdGhlciBjb25zdHNcclxuICAgIHNwZWVkID0gMTtcclxuXHJcbiAgICB3b3JsZFBsYW5lID0gUGxhbmUuV29ybGRYWSgpO1xyXG4gICAgXHJcbiAgICAvLyAhIG1lYW5zOiBkb250IHdvcnJ5LCB0aGVzZSB3aWxsIGJlIHNldCBpbiB0aGUgY29uc3RydWN0b3JcclxuICAgIHRvdGFsTWF0cml4ITogTWF0cml4NDtcclxuICAgIHdvcmxkTWF0cml4ITogTWF0cml4NDtcclxuICAgIHByb2plY3RNYXRyaXghOiBNYXRyaXg0OyAgICBcclxuXHJcbiAgICAvLyBzZXR0aW5nc1xyXG4gICAgY2FuTW92ZTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCB6X29mZnNldCA9IDEsIGNhbk1vdmU9ZmFsc2UpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbk1vdmUgPSBjYW5Nb3ZlO1xyXG5cclxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IzKDAsMCwwKTtcclxuICAgICAgICB0aGlzLnpfb2Zmc2V0ID0gLXpfb2Zmc2V0O1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gbmV3IFZlY3RvcjMoMCwwLCAtel9vZmZzZXQpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWF0cmljZXMoY2FudmFzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xzKHN0YXRlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpY2VzKHN0YXRlLmNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDbGljayhzdGF0ZSk7XHJcblxyXG4gICAgICAgIGlmKHN0YXRlLklzS2V5UHJlc3NlZChcInBcIikpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3MpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9mZnNldCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3BlZWQgaXMgbm93OiBcIiArIHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVNYXRyaWNlcyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy53b3JsZE1hdHJpeCA9IHRoaXMuZ2V0V29ybGRNYXRyaXgoKTtcclxuICAgICAgICB0aGlzLnByb2plY3RNYXRyaXggPSB0aGlzLmdldFByb2plY3Rpb25NYXRyaXgoY2FudmFzKTtcclxuICAgICAgICB0aGlzLnRvdGFsTWF0cml4ID0gdGhpcy53b3JsZE1hdHJpeC5tdWx0aXBsaWVkKHRoaXMucHJvamVjdE1hdHJpeClcclxuICAgIH1cclxuXHJcbiAgICBsb29rYXQocG9zaXRpb246IFZlY3RvcjMsIHRhcmdldDogVmVjdG9yMykge1xyXG4gICAgICAgIC8vIHNldCBtYXRyaWNlcyB0byB0aGUgdGhpbmdcclxuICAgICAgICBsZXQgbWF0cml4ID0gTWF0cml4NC5uZXdMb29rQXQocG9zaXRpb24sIHRhcmdldCwgdGhpcy53b3JsZFBsYW5lLmtoYXQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUNsaWNrKHN0YXRlOiBJbnB1dFN0YXRlKSB7XHJcbiAgICAgICAgLy8gdG9kb1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ29udHJvbHMoc3RhdGU6IElucHV0U3RhdGUpIHtcclxuXHJcbiAgICAgICAgbGV0IGRlbHRhU2Nyb2xsID0gc3RhdGUuc2Nyb2xsVmFsdWUgKiAxLjI7XHJcblxyXG4gICAgICAgIHRoaXMub2Zmc2V0LnogPSB0aGlzLnpfb2Zmc2V0IC0gZGVsdGFTY3JvbGw7XHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5UHJlc3NlZChcIlNoaWZ0XCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgKj0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5UHJlc3NlZChcIkNvbnRyb2xcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWF4KHRoaXMuc3BlZWQgKiAwLjUsIDAuMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkZWFsIHdpdGggbW91c2VcclxuICAgICAgICBsZXQgcHJldlBvcyA9IHRoaXMubW91c2VQb3MuY2xvbmUoKTtcclxuICAgICAgICB0aGlzLm1vdXNlUG9zID0gc3RhdGUubW91c2VQb3MuY2xvbmUoKTtcclxuICAgICAgICBsZXQgZGVsdGEgPSBwcmV2UG9zLmNsb25lKCkuc3ViKHRoaXMubW91c2VQb3MpO1xyXG5cclxuICAgICAgICB0aGlzLmdldE1vdXNlV29ybGRSYXkoc3RhdGUuY2FudmFzLndpZHRoLCBzdGF0ZS5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgaWYgKHN0YXRlLm1vdXNlUmlnaHREb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5nbGVBbHBoYSA9IEdNYXRoLmNsYW1wKHRoaXMuYW5nbGVBbHBoYSArIGRlbHRhLnkgKiAwLjAxLCAwLCBNYXRoLlBJKTtcclxuICAgICAgICAgICAgdGhpcy5hbmdsZUJldGEgKz0gZGVsdGEueCAqIC0wLjAxO1xyXG4gICAgICAgIH0gICBcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVsYXRpdmVVbml0WShhbmdsZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGxldCBtID0gTWF0cml4NC5uZXdaUm90YXRpb24oYW5nbGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbS5tdWx0aXBseVZlY3RvcihWZWN0b3IzLnVuaXRZKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVsYXRpdmVVbml0WChhbmdsZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGxldCBtID0gTWF0cml4NC5uZXdaUm90YXRpb24oYW5nbGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbS5tdWx0aXBseVZlY3RvcihWZWN0b3IzLnVuaXRYKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbk1vdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5RG93bihcInNcIikpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLmFkZChyZWxhdGl2ZVVuaXRZKC10aGlzLmFuZ2xlQmV0YSkuc2NhbGUoMC4wMSAqIHRoaXMuc3BlZWQpKTtcclxuICAgICAgICBpZiAoc3RhdGUuSXNLZXlEb3duKFwid1wiKSlcclxuICAgICAgICAgICAgdGhpcy5wb3MuYWRkKHJlbGF0aXZlVW5pdFkoLXRoaXMuYW5nbGVCZXRhKS5zY2FsZSgtMC4wMSAqIHRoaXMuc3BlZWQpKTsgICAgICAgICAgIFxyXG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleURvd24oXCJhXCIpKVxyXG4gICAgICAgICAgICB0aGlzLnBvcy5hZGQocmVsYXRpdmVVbml0WCgtdGhpcy5hbmdsZUJldGEpLnNjYWxlKDAuMDEgKiB0aGlzLnNwZWVkKSk7XHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5RG93bihcImRcIikpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLmFkZChyZWxhdGl2ZVVuaXRYKC10aGlzLmFuZ2xlQmV0YSkuc2NhbGUoLTAuMDEgKiB0aGlzLnNwZWVkKSk7XHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5RG93bihcInFcIikpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLnogKz0gMC4wMSAqIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5RG93bihcImVcIikpXHJcbiAgICAgICAgICAgIHRoaXMucG9zLnogLT0gMC4wMSAqIHRoaXMuc3BlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FtZXJhUG9pbnQoKSA6IFZlY3RvcjMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkTWF0cml4LmludmVyc2UoKS5tdWx0aXBseVZlY3RvcihuZXcgVmVjdG9yMygwLDAsMCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1vdXNlV29ybGRSYXkoY2FudmFzV2lkdGg6IG51bWJlciwgY2FudmFzSGVpZ2h0OiBudW1iZXIpIDogUmF5IHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBnZXQgYSByYXkgZnJvbSBvcmlnaW4gdGhyb3VnaCBtb3VzZXBvcyBcclxuXHJcbiAgICAgICAgLy8gbW91c2UgdW5pdCBzY3JlZW4gcG9zaXRpb246IFxyXG4gICAgICAgIC8vICAgICAgIC0tLS0tLS0tLS0tLS0tIC0wLjVcclxuICAgICAgICAvLyAgICAgICB8ICAgICAgICAgICAgfFxyXG4gICAgICAgIC8vICAgICAgIHwgICAgICAuKDAsMCl8XHJcbiAgICAgICAgLy8gICAgICAgfCAgICAgICAgICAgIHwgXHJcbiAgICAgICAgLy8gICAgICAgLS0tLS0tLS0tLS0tLS0gMC41XHJcbiAgICAgICAgLy8gICAgIC0wLjcyICAgICAgICAwLjcyICAgICBcclxuICAgICAgICAvLyAgICAoMC43MiA9IDAuNSAqIGFzcGVjdClcclxuICAgICAgICAvLyBcclxuXHJcbiAgICAgICAgbGV0IHNpemUgPSAwLjUgLy8gc2l6ZSBpbmRpY2F0b3Igb2YgdGhlIGZ1c3RydW1cclxuICAgICAgICBsZXQgbXAgPSB0aGlzLm1vdXNlUG9zO1xyXG4gICAgICAgIGxldCBhc3BlY3QgPSBjYW52YXNXaWR0aCAvIGNhbnZhc0hlaWdodDtcclxuICAgICAgICBsZXQgbW91c2VVbml0WCA9ICgtc2l6ZSArIChtcC54IC8gY2FudmFzV2lkdGgpKSAqIGFzcGVjdDtcclxuICAgICAgICBsZXQgbW91c2VVbml0WSA9IC1zaXplICsgKG1wLnkgLyBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBmID0gc2l6ZSAvIE1hdGgudGFuKHRoaXMuZm92IC8gMik7IC8vIGZvY2FsIGxlbmd0aCBcclxuXHJcbiAgICAgICAgbGV0IGludldvcmxkID0gdGhpcy53b3JsZE1hdHJpeC5pbnZlcnNlKCk7XHJcbiAgICAgICAgbGV0IG9yaWdpbiA9IGludldvcmxkLm11bHRpcGx5VmVjdG9yKG5ldyBWZWN0b3IzKDAsMCwwKSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE8gaW5zdGVhZCBvZiBkb2luZyB0aGlzLCBqdXN0IGV4dHJhY3QgdGhlIHgsIHksIGFuZCB6IGNvbHVtbnMgb2YgaW52V29ybGQgXHJcbiAgICAgICAgbGV0IGlEZXN0aW55ID0gaW52V29ybGQubXVsdGlwbHlWZWN0b3IobmV3IFZlY3RvcjMoMSwwLDApKTtcclxuICAgICAgICBsZXQgakRlc3RpbnkgPSBpbnZXb3JsZC5tdWx0aXBseVZlY3RvcihuZXcgVmVjdG9yMygwLDEsMCkpO1xyXG4gICAgICAgIGxldCBrRGVzdGlueSA9IGludldvcmxkLm11bHRpcGx5VmVjdG9yKG5ldyBWZWN0b3IzKDAsMCwtMSkpO1xyXG5cclxuICAgICAgICBsZXQgaWhhdCA9IGlEZXN0aW55LnN1YihvcmlnaW4pLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIGxldCBqaGF0ID0gakRlc3Rpbnkuc3ViKG9yaWdpbikubm9ybWFsaXplKCk7XHJcbiAgICAgICAgbGV0IGtoYXQgPSBrRGVzdGlueS5zdWIob3JpZ2luKS5ub3JtYWxpemUoKTtcclxuXHJcbiAgICAgICAgbGV0IHNjcmVlblBvaW50ID0gb3JpZ2luXHJcbiAgICAgICAgICAgIC5hZGRlZChraGF0LnNjYWxlZChmKSlcclxuICAgICAgICAgICAgLmFkZChpaGF0LnNjYWxlZChtb3VzZVVuaXRYKSlcclxuICAgICAgICAgICAgLmFkZChqaGF0LnNjYWxlZCgtbW91c2VVbml0WSkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIFJheS5mcm9tUG9pbnRzKG9yaWdpbiwgc2NyZWVuUG9pbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdvcmxkTWF0cml4KCkgOiBNYXRyaXg0IHtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XHJcbiAgICAgICAgbGV0IGFuZ2xlQSA9IHRoaXMuYW5nbGVBbHBoYTtcclxuICAgICAgICBsZXQgYW5nbGVCID0gdGhpcy5hbmdsZUJldGE7XHJcbiAgICBcclxuICAgICAgICAvLyB0cmFuc2xhdGUgc28geiBtZWFucyAndXAnXHJcbiAgICAgICAgbGV0IHl6RmxpcCA9IG5ldyBNYXRyaXg0KFtcclxuICAgICAgICAgICAgMSwwLDAsMCxcclxuICAgICAgICAgICAgMCwwLDEsMCxcclxuICAgICAgICAgICAgMCwxLDAsMCxcclxuICAgICAgICAgICAgMCwwLDAsMSxcclxuICAgICAgICBdKVxyXG5cclxuICAgICAgICAvLyB0cmFuc2xhdGVkIHRvIGZpdCBzY3JlZW5cclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBNYXRyaXg0Lm5ld1RyYW5zbGF0aW9uKHRoaXMucG9zLngsIHRoaXMucG9zLnksIHRoaXMucG9zLnopO1xyXG4gICAgICAgIGxldCBtT2Zmc2V0ID0gTWF0cml4NC5uZXdUcmFuc2xhdGlvbihvZmZzZXQueCwgb2Zmc2V0LnksIG9mZnNldC56KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyByb3RhdGVkIGJ5IHVzZXJcclxuICAgICAgICBsZXQgeF9yb3RhdGlvbiA9IE1hdHJpeDQubmV3WFJvdGF0aW9uKGFuZ2xlQSk7XHJcbiAgICAgICAgbGV0IHpfcm90YXRpb24gPSBNYXRyaXg0Lm5ld1pSb3RhdGlvbihhbmdsZUIpO1xyXG4gICAgICAgIGxldCByb3RhdGlvbiA9IHpfcm90YXRpb24ubXVsdGlwbHkoeF9yb3RhdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gbGV0IHRyYW5zZm9ybSA9IG1PZmZzZXQubXVsdGlwbHkocm90YXRpb24pLm11bHRpcGx5KHBvc2l0aW9uKTtcclxuICAgIFxyXG4gICAgICAgIGxldCB0cmFuc2Zvcm0gPSBwb3NpdGlvbi5tdWx0aXBseShyb3RhdGlvbikubXVsdGlwbHkobU9mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9qZWN0aW9uTWF0cml4KGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIDogTWF0cml4NCB7XHJcblxyXG4gICAgICAgIC8vIGFzcGVjdHNcclxuICAgICAgICBsZXQgYXNwZWN0ID0gY2FudmFzLndpZHRoIC8gY2FudmFzLmhlaWdodDsgLy8gbm90ZTogdGhpcyBzaG91bGQgYmUgY29uc3RhbnRcclxuXHJcbiAgICAgICAgLy8gbGV0IHpfcGxhbmUgPSAtMS4gLyBNYXRoLnRhbihwaSAvIDguKTsgICAgICAgIFxyXG5cclxuICAgICAgICAvLyBwcm9qZWN0aW9uIHRvIHNjcmVlblxyXG4gICAgICAgIC8vIGxldCBwcm9qZWN0aW9uID0gTWF0cml4NC5uZXdPcnRob2dyYXBoaWMoLTEsIDEsIC0xLCAxLCAwLjEsIDAuMSk7XHJcbiAgICAgICAgbGV0IHByb2plY3Rpb24gPSBNYXRyaXg0Lm5ld1BlcnNwZWN0aXZlKHRoaXMuZm92LCBhc3BlY3QsIHRoaXMuek5lYXIsIHRoaXMuekZhcik7XHJcbiAgICAgICAgcmV0dXJuIHByb2plY3Rpb247XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/camera.ts\n");

/***/ }),

/***/ "./src/render/dot-renderer3.ts":
/*!*************************************!*\
  !*** ./src/render/dot-renderer3.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DotRenderer3\": () => /* binding */ DotRenderer3\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// jos feenstra\r\n\r\n\r\nclass DotRenderer3 extends _renderer__WEBPACK_IMPORTED_MODULE_1__.Renderer {\r\n    constructor(gl, radius = 5, color = [1, 1, 1, 1], square = true) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it. \r\n        // putting them somewhere else doesnt make sense to me, \r\n        // they are coupled 1 to 1.\r\n        let vertexSource = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        uniform mat4 u_transform;\r\n        uniform vec4 u_color;\r\n        uniform float u_size;\r\n\r\n        attribute vec3 a_vertex;\r\n\r\n        void main() {\r\n            // Set the size of a rendered point.\r\n            gl_PointSize = u_size;\r\n\r\n            // Transform the location of the vertex.\r\n            gl_Position = u_transform * vec4(a_vertex, 1.0);\r\n        }\r\n\r\n        `;\r\n        let fragmentSourceSquare = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        uniform vec4 u_color;\r\n        // vec2 center = vec2(0.5, 0.5);\r\n\r\n        void main() {\r\n            gl_FragColor = u_color;\r\n        }\r\n        `;\r\n        let fragmentSourceRound = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        uniform vec4 u_color;\r\n        vec2 center = vec2(0.5, 0.5);\r\n\r\n        void main() {\r\n            if (distance(center, gl_PointCoord) > 0.5) {\r\n               discard;\r\n            }\r\n            gl_FragColor = u_color;\r\n        }\r\n        `;\r\n        // setup program\r\n        if (square) {\r\n            super(gl, vertexSource, fragmentSourceSquare);\r\n        }\r\n        else {\r\n            super(gl, vertexSource, fragmentSourceRound);\r\n        }\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_size = gl.getUniformLocation(this.program, \"u_size\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        this.color = color;\r\n        this.size = radius;\r\n        this.count = 0;\r\n        // Bind it to ARRAY_BUFFER (think of it as ARRAY_BUFFER = positionBuffer)\r\n        // look up where the vertex data needs to go.\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_vertex\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n    }\r\n    set(vectors, speed) {\r\n        let gl = this.gl;\r\n        gl.useProgram(this.program);\r\n        // convert all possible entries to a general entry\r\n        let array = (0,_data_vector_array__WEBPACK_IMPORTED_MODULE_0__.getGeneralFloatMatrix)(vectors);\r\n        // from some other thing\r\n        this.count = array.count();\r\n        // // Bind the position buffer.\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, array._width, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, array.data, super.convertDrawSpeed(speed));\r\n    }\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        // set uniforms\r\n        // console.log(matrix.data);\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        gl.uniform1f(this.u_size, this.size);\r\n        gl.uniform4f(this.u_color, this.color[0], this.color[1], this.color[2], this.color[3]);\r\n        // // Bind the position buffer.\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        // Draw the point.\r\n        gl.drawArrays(gl.POINTS, 0, this.count);\r\n    }\r\n    setAndRender(gl, matrix, vectors) {\r\n        this.set(vectors, _renderer__WEBPACK_IMPORTED_MODULE_1__.DrawSpeed.DynamicDraw);\r\n        this.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9kb3QtcmVuZGVyZXIzLnRzP2IwY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZUFBZTtBQUcwRTtBQUd4QztBQUUxQyxNQUFNLFlBQWEsU0FBUSwrQ0FBUTtJQWN0QyxZQUFZLEVBQXlCLEVBQ2pDLFNBQWdCLENBQUMsRUFDakIsUUFBa0IsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFDM0IsU0FBaUIsSUFBSTtRQUVyQix1RUFBdUU7UUFDdkUsdUVBQXVFO1FBQ3ZFLHdEQUF3RDtRQUN4RCwyQkFBMkI7UUFDM0IsSUFBSSxZQUFZLEdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7OztTQWtCMUIsQ0FBQztRQUNGLElBQUksb0JBQW9CLEdBQVc7Ozs7Ozs7Ozs7U0FVbEMsQ0FBQztRQUVGLElBQUksbUJBQW1CLEdBQVc7Ozs7Ozs7Ozs7Ozs7U0FhakMsQ0FBQztRQUVGLGdCQUFnQjtRQUNoQixJQUFJLE1BQU0sRUFBRTtZQUNSLEtBQUssQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixDQUFDLENBQUM7U0FDakQ7YUFBTTtZQUNILEtBQUssQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixDQUFDLENBQUM7U0FDaEQ7UUFFRCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFFLENBQUM7UUFDN0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUUsQ0FBQztRQUUvRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FB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LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gam9zIGZlZW5zdHJhXHJcblxyXG5pbXBvcnQgeyBGbG9hdE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2Zsb2F0LW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBnZXRHZW5lcmFsRmxvYXRNYXRyaXgsIFZlY3RvcjJBcnJheSwgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xyXG5pbXBvcnQgeyBEcmF3U3BlZWQsIFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEb3RSZW5kZXJlcjMgZXh0ZW5kcyBSZW5kZXJlciB7XHJcblxyXG4gICAgLy8gYXR0cmlidXRlICYgdW5pZm9ybSBsb2NhdGlvbnNcclxuICAgIGFfcG9zaXRpb246IG51bWJlcjtcclxuICAgIGFfcG9zaXRpb25fYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuXHJcbiAgICB1X3RyYW5zZm9ybTogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgICB1X2NvbG9yOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuICAgIHVfc2l6ZTogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcblxyXG4gICAgY29sb3I6IG51bWJlcltdO1xyXG4gICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgY291bnQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcclxuICAgICAgICByYWRpdXM6IG51bWJlciA9NSwgXHJcbiAgICAgICAgY29sb3I6IG51bWJlcltdID0gWzEsMSwxLDFdLCBcclxuICAgICAgICBzcXVhcmU6IGJvb2xlYW49IHRydWUgKSB7XHJcblxyXG4gICAgICAgIC8vIG5vdGU6IEkgbGlrZSB2ZXJ0ZXggJiBmcmFnbWVudHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHNjcmlwdCBpdHNlbGYuXHJcbiAgICAgICAgLy8gd2hlbiB5b3UgY2hhbmdlIHZlcnRleCBvciBmcmFnbWVudCwgdGhpcyBjbGFzcyBoYXMgdG8gZGVhbCB3aXRoIGl0LiBcclxuICAgICAgICAvLyBwdXR0aW5nIHRoZW0gc29tZXdoZXJlIGVsc2UgZG9lc250IG1ha2Ugc2Vuc2UgdG8gbWUsIFxyXG4gICAgICAgIC8vIHRoZXkgYXJlIGNvdXBsZWQgMSB0byAxLlxyXG4gICAgICAgIGxldCB2ZXJ0ZXhTb3VyY2U6IHN0cmluZyA9IGBcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gICAgICAgIHVuaWZvcm0gbWF0NCB1X3RyYW5zZm9ybTtcclxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9jb2xvcjtcclxuICAgICAgICB1bmlmb3JtIGZsb2F0IHVfc2l6ZTtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlIHZlYzMgYV92ZXJ0ZXg7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBzaXplIG9mIGEgcmVuZGVyZWQgcG9pbnQuXHJcbiAgICAgICAgICAgIGdsX1BvaW50U2l6ZSA9IHVfc2l6ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgbG9jYXRpb24gb2YgdGhlIHZlcnRleC5cclxuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1X3RyYW5zZm9ybSAqIHZlYzQoYV92ZXJ0ZXgsIDEuMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGxldCBmcmFnbWVudFNvdXJjZVNxdWFyZTogc3RyaW5nID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcbiAgICAgICAgLy8gdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSwgMC41KTtcclxuXHJcbiAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB1X2NvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBsZXQgZnJhZ21lbnRTb3VyY2VSb3VuZDogc3RyaW5nID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcbiAgICAgICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSwgMC41KTtcclxuXHJcbiAgICAgICAgdm9pZCBtYWluKCkge1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UoY2VudGVyLCBnbF9Qb2ludENvb3JkKSA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICBkaXNjYXJkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHVfY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW1cclxuICAgICAgICBpZiAoc3F1YXJlKSB7ICAgIFxyXG4gICAgICAgICAgICBzdXBlcihnbCwgdmVydGV4U291cmNlLCBmcmFnbWVudFNvdXJjZVNxdWFyZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3VwZXIoZ2wsIHZlcnRleFNvdXJjZSwgZnJhZ21lbnRTb3VyY2VSb3VuZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVfdHJhbnNmb3JtID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X3RyYW5zZm9ybVwiKSE7XHJcbiAgICAgICAgdGhpcy51X3NpemUgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfc2l6ZVwiKSE7XHJcbiAgICAgICAgdGhpcy51X2NvbG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2NvbG9yXCIpITtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgLy8gQmluZCBpdCB0byBBUlJBWV9CVUZGRVIgKHRoaW5rIG9mIGl0IGFzIEFSUkFZX0JVRkZFUiA9IHBvc2l0aW9uQnVmZmVyKVxyXG4gICAgICAgIC8vIGxvb2sgdXAgd2hlcmUgdGhlIHZlcnRleCBkYXRhIG5lZWRzIHRvIGdvLlxyXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3ZlcnRleFwiKTtcclxuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfcG9zaXRpb25fYnVmZmVyKTsgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldCh2ZWN0b3JzOiBWZWN0b3IyQXJyYXkgfCBWZWN0b3IzQXJyYXkgfCBWZWN0b3IyW10gfCBWZWN0b3IzW10sIHNwZWVkOiBEcmF3U3BlZWQpIHtcclxuICAgICAgICBsZXQgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuXHJcbiAgICAgICAgLy8gY29udmVydCBhbGwgcG9zc2libGUgZW50cmllcyB0byBhIGdlbmVyYWwgZW50cnlcclxuICAgICAgICBsZXQgYXJyYXkgPSBnZXRHZW5lcmFsRmxvYXRNYXRyaXgodmVjdG9ycyk7XHJcblxyXG4gICAgICAgIC8vIGZyb20gc29tZSBvdGhlciB0aGluZ1xyXG4gICAgICAgIHRoaXMuY291bnQgPSBhcnJheS5jb3VudCgpO1xyXG5cclxuICAgICAgICAvLyAvLyBCaW5kIHRoZSBwb3NpdGlvbiBidWZmZXIuXHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCBhcnJheS5fd2lkdGgsICBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhcnJheS5kYXRhLCBzdXBlci5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1hdHJpeDogTWF0cml4NCkge1xyXG5cclxuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxyXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHVuaWZvcm1zXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cobWF0cml4LmRhdGEpO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy51X3RyYW5zZm9ybSwgZmFsc2UsIG1hdHJpeC5kYXRhKTtcclxuICAgICAgICBnbC51bmlmb3JtMWYodGhpcy51X3NpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTRmKHRoaXMudV9jb2xvciwgdGhpcy5jb2xvclswXSwgdGhpcy5jb2xvclsxXSwgdGhpcy5jb2xvclsyXSwgdGhpcy5jb2xvclszXSk7XHJcblxyXG4gICAgICAgIC8vIC8vIEJpbmQgdGhlIHBvc2l0aW9uIGJ1ZmZlci5cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX3Bvc2l0aW9uKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEcmF3IHRoZSBwb2ludC5cclxuICAgICAgICBnbC5kcmF3QXJyYXlzKCBnbC5QT0lOVFMsIDAsIHRoaXMuY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFuZFJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQsIHZlY3RvcnM6IFZlY3RvcjJBcnJheSB8IFZlY3RvcjNBcnJheSB8IFZlY3RvcjJbXSB8IFZlY3RvcjNbXSkge1xyXG4gICAgICAgIHRoaXMuc2V0KHZlY3RvcnMsIERyYXdTcGVlZC5EeW5hbWljRHJhdyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoZ2wsIG1hdHJpeCk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/dot-renderer3.ts\n");

/***/ }),

/***/ "./src/render/line-renderer.ts":
/*!*************************************!*\
  !*** ./src/render/line-renderer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LineRenderer\": () => /* binding */ LineRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    simple-line-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of lines.\r\n\r\nclass LineRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl, color = [1, 0, 0, 0.5]) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it. \r\n        // putting them somewhere else doesnt make sense to me, \r\n        // they are coupled 1 to 1.\r\n        const vs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        attribute vec4 a_position;\r\n        uniform mat4 u_transform;\r\n        uniform vec4 u_color;\r\n\r\n        void main() {\r\n            gl_Position = u_transform * a_position;\r\n        }\r\n        `;\r\n        const fs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        uniform vec4 u_color;\r\n\r\n        void main () {\r\n            gl_FragColor = u_color;\r\n        }\r\n        `;\r\n        // setup program    \r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        // we need 2 buffers \r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        // set uniforms which wont change\r\n        gl.useProgram(this.program);\r\n        gl.uniform4f(this.u_color, color[0], color[1], color[2], color[3]);\r\n        this.count = 0;\r\n        this.vertCount = 0;\r\n    }\r\n    set(gl, data, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        // save how many faces need to be drawn\r\n        gl.useProgram(this.program);\r\n        this.count = data.ids.length;\r\n        this.vertCount = data.verts._width;\r\n        let drawspeed = this.convertDrawSpeed(speed);\r\n        // vertices  \r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, data.verts.data, drawspeed);\r\n        // indices \r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data.ids.buffer, drawspeed);\r\n    }\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        // POINTERS MUST ALSO BE SET, DO EVERYTHING EXCEPT GL.BUFFERDATA\r\n        gl.useProgram(this.program);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.LINES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n    setAndRender(gl, matrix, data) {\r\n        this.set(gl, data, _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n        this.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9saW5lLXJlbmRlcmVyLnRzP2M1ZWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxtQ0FBbUM7QUFDbkMsd0JBQXdCO0FBQ3hCLDJDQUEyQztBQVNNO0FBRTFDLE1BQU0sWUFBYSxTQUFRLCtDQUFRO0lBU3RDLFlBQVksRUFBeUIsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLENBQUM7UUFFdEQsdUVBQXVFO1FBQ3ZFLHVFQUF1RTtRQUN2RSx3REFBd0Q7UUFDeEQsMkJBQTJCO1FBQzNCLE1BQU0sRUFBRSxHQUFHOzs7Ozs7Ozs7OztTQVdWLENBQUM7UUFFRixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7O1NBU1YsQ0FBQztRQUVGLG9CQUFvQjtRQUNwQixLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFFLENBQUM7UUFFL0QscUJBQXFCO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFFbkUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUV2QyxpQ0FBaUM7UUFDakMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsRUFBRSxD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QUksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzVCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9yZW5kZXIvbGluZS1yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIHNpbXBsZS1saW5lLXJlbmRlcmVyLnRzXHJcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlOiBXZWJHTCBiYXNlZCByZW5kZXJpbmcgb2YgbGluZXMuXHJcblxyXG5pbXBvcnQgeyBGbG9hdE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2Zsb2F0LW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyQXJyYXksIFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xyXG5pbXBvcnQgeyBSZW5kZXJNZXNoIH0gZnJvbSBcIi4uL21lc2gvcmVuZGVyLW1lc2hcIjtcclxuaW1wb3J0IHsgUG9seWxpbmUgfSBmcm9tIFwiLi4vZ2VvL3BvbHlsaW5lXCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xyXG5pbXBvcnQgeyBMaW5lQXJyYXkgfSBmcm9tIFwiLi4vbWVzaC9saW5lLWFycmF5XCI7XHJcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpbmVSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcclxuXHJcbiAgICBhX3Bvc2l0aW9uOiBudW1iZXI7XHJcbiAgICBhX3Bvc2l0aW9uX2J1ZmZlcjogV2ViR0xCdWZmZXI7XHJcbiAgICBpbmRleF9idWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gICAgdV90cmFuc2Zvcm06IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xyXG4gICAgdV9jb2xvcjogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgICBjb3VudDogbnVtYmVyO1xyXG4gICAgdmVydENvdW50OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjb2xvciA9IFsxLDAsMCwwLjVdKSB7XHJcblxyXG4gICAgICAgIC8vIG5vdGU6IEkgbGlrZSB2ZXJ0ZXggJiBmcmFnbWVudHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHNjcmlwdCBpdHNlbGYuXHJcbiAgICAgICAgLy8gd2hlbiB5b3UgY2hhbmdlIHZlcnRleCBvciBmcmFnbWVudCwgdGhpcyBjbGFzcyBoYXMgdG8gZGVhbCB3aXRoIGl0LiBcclxuICAgICAgICAvLyBwdXR0aW5nIHRoZW0gc29tZXdoZXJlIGVsc2UgZG9lc250IG1ha2Ugc2Vuc2UgdG8gbWUsIFxyXG4gICAgICAgIC8vIHRoZXkgYXJlIGNvdXBsZWQgMSB0byAxLlxyXG4gICAgICAgIGNvbnN0IHZzID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgYV9wb3NpdGlvbjtcclxuICAgICAgICB1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07XHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1X3RyYW5zZm9ybSAqIGFfcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGNvbnN0IGZzID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XHJcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHVfY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW0gICAgXHJcbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XHJcbiAgICAgICAgdGhpcy51X3RyYW5zZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV90cmFuc2Zvcm1cIikhO1xyXG4gICAgICAgIHRoaXMudV9jb2xvciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV9jb2xvclwiKSE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gd2UgbmVlZCAyIGJ1ZmZlcnMgXHJcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XHJcbiAgXHJcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcclxuICAgICAgICB0aGlzLmluZGV4X2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITsgICAgXHJcblxyXG4gICAgICAgIC8vIHNldCB1bmlmb3JtcyB3aGljaCB3b250IGNoYW5nZVxyXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICBnbC51bmlmb3JtNGYodGhpcy51X2NvbG9yLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBjb2xvclszXSk7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy52ZXJ0Q291bnQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBkYXRhOiBMaW5lQXJyYXksIHNwZWVkID0gRHJhd1NwZWVkLlN0YXRpY0RyYXcpIHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBzYXZlIGhvdyBtYW55IGZhY2VzIG5lZWQgdG8gYmUgZHJhd25cclxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IGRhdGEuaWRzLmxlbmd0aFxyXG4gICAgICAgIHRoaXMudmVydENvdW50ID0gZGF0YS52ZXJ0cy5fd2lkdGg7XHJcbiAgICAgICAgbGV0IGRyYXdzcGVlZCA9IHRoaXMuY29udmVydERyYXdTcGVlZChzcGVlZCk7XHJcblxyXG4gICAgICAgIC8vIHZlcnRpY2VzICBcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX3Bvc2l0aW9uKTtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV9wb3NpdGlvbiwgdGhpcy52ZXJ0Q291bnQsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGRhdGEudmVydHMuZGF0YSwgZHJhd3NwZWVkKTtcclxuXHJcbiAgICAgICAgLy8gaW5kaWNlcyBcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGV4X2J1ZmZlcik7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YS5pZHMuYnVmZmVyLCBkcmF3c3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQpIHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxyXG4gICAgICAgIC8vIFBPSU5URVJTIE1VU1QgQUxTTyBCRSBTRVQsIERPIEVWRVJZVEhJTkcgRVhDRVBUIEdMLkJVRkZFUkRBVEFcclxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX3Bvc2l0aW9uKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfcG9zaXRpb24sIHRoaXMudmVydENvdW50LCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApOyBcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGV4X2J1ZmZlcik7XHJcblxyXG4gICAgICAgIC8vIHNldCB1bmlmb3Jtc1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy51X3RyYW5zZm9ybSwgZmFsc2UsIG1hdHJpeC5kYXRhKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgcG9pbnQuXHJcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLmNvdW50LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QW5kUmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1hdHJpeDogTWF0cml4NCwgZGF0YTogTGluZUFycmF5KSB7XHJcbiAgICAgICAgdGhpcy5zZXQoZ2wsIGRhdGEsIERyYXdTcGVlZC5EeW5hbWljRHJhdyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoZ2wsIG1hdHJpeCk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/line-renderer.ts\n");

/***/ }),

/***/ "./src/render/mesh-normals-renderer.ts":
/*!*********************************************!*\
  !*** ./src/render/mesh-normals-renderer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NormalRenderer\": () => /* binding */ NormalRenderer\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mesh/render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    simple-line-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of lines.\r\n\r\n\r\n\r\n\r\n\r\nclass NormalRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_4__.Renderer {\r\n    constructor(gl) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it. \r\n        // putting them somewhere else doesnt make sense to me, \r\n        // they are coupled 1 to 1.\r\n        const vs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        attribute vec4 a_vertex;\r\n        attribute vec4 a_vertex_color;\r\n\r\n        uniform mat4 u_transform;\r\n\r\n        varying vec4 v_color;\r\n\r\n        void main() {\r\n            gl_Position = u_transform * a_vertex;\r\n            v_color = a_vertex_color;\r\n        }\r\n        `;\r\n        const fs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        varying vec4 v_color;\r\n\r\n        void main () {\r\n            gl_FragColor = v_color;\r\n        }\r\n        `;\r\n        // setup program    \r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        // we need 2 buffers \r\n        this.a_position = gl.getAttribLocation(this.program, \"a_vertex\");\r\n        this.a_color = gl.getAttribLocation(this.program, \"a_vertex_color\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.a_color_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        gl.useProgram(this.program);\r\n        this.count = 0;\r\n        this.vertCount = 0;\r\n        this.scale = 0.4;\r\n    }\r\n    // take a general render mesh, and extract normals\r\n    set(gl, mesh, speed = _renderer__WEBPACK_IMPORTED_MODULE_4__.DrawSpeed.StaticDraw) {\r\n        // save how many verts need to be drawn\r\n        gl.useProgram(this.program);\r\n        let drawspeed = this.convertDrawSpeed(speed);\r\n        this.vertCount = 3;\r\n        let lineverts;\r\n        let normals;\r\n        // different buffer fills based upon normal kind\r\n        let normalKind = mesh.getNormalType();\r\n        if (normalKind == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__.NormalKind.Face) {\r\n            let faceCount = mesh.links.count();\r\n            this.count = faceCount * 2;\r\n            lineverts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            normals = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            for (let f = 0; f < faceCount; f++) {\r\n                let center = mesh.getFaceVertices(f).average();\r\n                let normal = mesh.norms.getVector(f);\r\n                let i1 = f * 2;\r\n                let i2 = f * 2 + 1;\r\n                lineverts.setVector(i1, center);\r\n                lineverts.setVector(i2, center.add(normal.scaled(this.scale)));\r\n                let color = normal.add(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(1, 1, 1).div(2));\r\n                normals.setVector(i1, color);\r\n                normals.setVector(i2, color);\r\n            }\r\n        }\r\n        else if (normalKind == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__.NormalKind.Vertex) {\r\n            console.warn(\"TODO\");\r\n            return;\r\n        }\r\n        else {\r\n            console.warn(\"cannot render normals\");\r\n            return;\r\n        }\r\n        // vertices  \r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, lineverts.data, drawspeed);\r\n        // normals\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_color_buffer);\r\n        gl.enableVertexAttribArray(this.a_color);\r\n        gl.vertexAttribPointer(this.a_color, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, normals.data, drawspeed);\r\n        // indices \r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, (0,_mesh_line_array__WEBPACK_IMPORTED_MODULE_3__.getDefaultIndices)(this.count), drawspeed);\r\n    }\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        // POINTERS MUST ALSO BE SET, DO EVERYTHING EXCEPT GL.BUFFERDATA\r\n        gl.useProgram(this.program);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.LINES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9tZXNoLW5vcm1hbHMtcmVuZGVyZXIudHM/YWMxZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxtQ0FBbUM7QUFDbkMsd0JBQXdCO0FBQ3hCLDJDQUEyQztBQUd1QjtBQUNMO0FBR3BCO0FBQ3lCO0FBQ2pCO0FBRTFDLE1BQU0sY0FBZSxTQUFRLCtDQUFRO0lBY3hDLFlBQVksRUFBeUI7UUFFakMsdUVBQXVFO1FBQ3ZFLHVFQUF1RTtRQUN2RSx3REFBd0Q7UUFDeEQsMkJBQTJCO1FBQzNCLE1BQU0sRUFBRSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7U0FlVixDQUFDO1FBRUYsTUFBTSxFQUFFLEdBQUc7Ozs7Ozs7OztTQVNWLENBQUM7UUFFRixvQkFBb0I7UUFDcEIsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUUsQ0FBQztRQUV2RSxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFFcEUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUM1QyxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUN6QyxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUV2QyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENB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QyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0UsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTFELGVBQWU7UUFDZixFQUFFLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTFELGtCQUFrQjtRQUNsQixFQUFFLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9yZW5kZXIvbWVzaC1ub3JtYWxzLXJlbmRlcmVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgc2ltcGxlLWxpbmUtcmVuZGVyZXIudHNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IFdlYkdMIGJhc2VkIHJlbmRlcmluZyBvZiBsaW5lcy5cclxuXHJcbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XHJcbmltcG9ydCB7IFZlY3RvcjJBcnJheSwgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IE5vcm1hbEtpbmQsIFJlbmRlck1lc2ggfSBmcm9tIFwiLi4vbWVzaC9yZW5kZXItbWVzaFwiO1xyXG5pbXBvcnQgeyBQb2x5bGluZSB9IGZyb20gXCIuLi9nZW8vcG9seWxpbmVcIjtcclxuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XHJcbmltcG9ydCB7IGdldERlZmF1bHRJbmRpY2VzLCBMaW5lQXJyYXkgfSBmcm9tIFwiLi4vbWVzaC9saW5lLWFycmF5XCI7XHJcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5vcm1hbFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xyXG5cclxuICAgIGFfcG9zaXRpb246IG51bWJlcjtcclxuICAgIGFfcG9zaXRpb25fYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICAgIGluZGV4X2J1ZmZlcjogV2ViR0xCdWZmZXI7XHJcblxyXG4gICAgdV90cmFuc2Zvcm06IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xyXG5cclxuICAgIGNvdW50OiBudW1iZXI7XHJcbiAgICB2ZXJ0Q291bnQ6IG51bWJlcjtcclxuICAgIGFfY29sb3JfYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICAgIGFfY29sb3I6IG51bWJlcjtcclxuICAgIHNjYWxlOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xyXG5cclxuICAgICAgICAvLyBub3RlOiBJIGxpa2UgdmVydGV4ICYgZnJhZ21lbnRzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBzY3JpcHQgaXRzZWxmLlxyXG4gICAgICAgIC8vIHdoZW4geW91IGNoYW5nZSB2ZXJ0ZXggb3IgZnJhZ21lbnQsIHRoaXMgY2xhc3MgaGFzIHRvIGRlYWwgd2l0aCBpdC4gXHJcbiAgICAgICAgLy8gcHV0dGluZyB0aGVtIHNvbWV3aGVyZSBlbHNlIGRvZXNudCBtYWtlIHNlbnNlIHRvIG1lLCBcclxuICAgICAgICAvLyB0aGV5IGFyZSBjb3VwbGVkIDEgdG8gMS5cclxuICAgICAgICBjb25zdCB2cyA9IGBcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfdmVydGV4O1xyXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfdmVydGV4X2NvbG9yO1xyXG5cclxuICAgICAgICB1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07XHJcblxyXG4gICAgICAgIHZhcnlpbmcgdmVjNCB2X2NvbG9yO1xyXG5cclxuICAgICAgICB2b2lkIG1haW4oKSB7XHJcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV90cmFuc2Zvcm0gKiBhX3ZlcnRleDtcclxuICAgICAgICAgICAgdl9jb2xvciA9IGFfdmVydGV4X2NvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBjb25zdCBmcyA9IGBcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XHJcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gICAgICAgIHZhcnlpbmcgdmVjNCB2X2NvbG9yO1xyXG5cclxuICAgICAgICB2b2lkIG1haW4gKCkge1xyXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2X2NvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICAvLyBzZXR1cCBwcm9ncmFtICAgIFxyXG4gICAgICAgIHN1cGVyKGdsLCB2cywgZnMpO1xyXG4gICAgICAgIHRoaXMudV90cmFuc2Zvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdHJhbnNmb3JtXCIpITtcclxuXHJcbiAgICAgICAgLy8gd2UgbmVlZCAyIGJ1ZmZlcnMgXHJcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImFfdmVydGV4XCIpO1xyXG4gICAgICAgIHRoaXMuYV9jb2xvciA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3ZlcnRleF9jb2xvclwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcclxuICAgICAgICB0aGlzLmFfY29sb3JfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xyXG4gICAgICAgIHRoaXMuaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhOyAgICBcclxuXHJcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudmVydENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnNjYWxlID0gMC40O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRha2UgYSBnZW5lcmFsIHJlbmRlciBtZXNoLCBhbmQgZXh0cmFjdCBub3JtYWxzXHJcbiAgICBzZXQoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgbWVzaDogUmVuZGVyTWVzaCwgc3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHNhdmUgaG93IG1hbnkgdmVydHMgbmVlZCB0byBiZSBkcmF3blxyXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICBsZXQgZHJhd3NwZWVkID0gdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKTtcclxuICAgICAgICB0aGlzLnZlcnRDb3VudCA9IDM7XHJcblxyXG4gICAgICAgIGxldCBsaW5ldmVydHM6IFZlY3RvcjNBcnJheTtcclxuICAgICAgICBsZXQgbm9ybWFsczogVmVjdG9yM0FycmF5O1xyXG5cclxuICAgICAgICAvLyBkaWZmZXJlbnQgYnVmZmVyIGZpbGxzIGJhc2VkIHVwb24gbm9ybWFsIGtpbmRcclxuICAgICAgICBsZXQgbm9ybWFsS2luZCA9IG1lc2guZ2V0Tm9ybWFsVHlwZSgpO1xyXG4gICAgICAgIGlmIChub3JtYWxLaW5kID09IE5vcm1hbEtpbmQuRmFjZSkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGZhY2VDb3VudCA9IG1lc2gubGlua3MuY291bnQoKTsgXHJcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBmYWNlQ291bnQgKiAyO1xyXG5cclxuICAgICAgICAgICAgbGluZXZlcnRzID0gbmV3IFZlY3RvcjNBcnJheSh0aGlzLmNvdW50KTtcclxuICAgICAgICAgICAgbm9ybWFscyA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBmID0gMCA7IGYgPCBmYWNlQ291bnQ7IGYrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNlbnRlciA9IG1lc2guZ2V0RmFjZVZlcnRpY2VzKGYpLmF2ZXJhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGxldCBub3JtYWwgPSBtZXNoLm5vcm1zLmdldFZlY3RvcihmKTtcclxuICAgICAgICAgICAgICAgIGxldCBpMSA9IGYgKiAyO1xyXG4gICAgICAgICAgICAgICAgbGV0IGkyID0gZiAqIDIgKyAxO1xyXG5cclxuICAgICAgICAgICAgICAgIGxpbmV2ZXJ0cy5zZXRWZWN0b3IoaTEsIGNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICBsaW5ldmVydHMuc2V0VmVjdG9yKGkyLCBjZW50ZXIuYWRkKG5vcm1hbC5zY2FsZWQodGhpcy5zY2FsZSkpKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IG5vcm1hbC5hZGQobmV3IFZlY3RvcjMoMSwxLDEpLmRpdigyKSk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldFZlY3RvcihpMSwgY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFscy5zZXRWZWN0b3IoaTIsIGNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChub3JtYWxLaW5kID09IE5vcm1hbEtpbmQuVmVydGV4KSB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUT0RPXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiY2Fubm90IHJlbmRlciBub3JtYWxzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB2ZXJ0aWNlcyAgXHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9wb3NpdGlvbik7XHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfcG9zaXRpb24sIHRoaXMudmVydENvdW50LCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBsaW5ldmVydHMuZGF0YSwgZHJhd3NwZWVkKTtcclxuXHJcbiAgICAgICAgLy8gbm9ybWFsc1xyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfY29sb3JfYnVmZmVyKTtcclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfY29sb3IpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX2NvbG9yLCB0aGlzLnZlcnRDb3VudCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbm9ybWFscy5kYXRhLCBkcmF3c3BlZWQpO1xyXG5cclxuICAgICAgICAvLyBpbmRpY2VzIFxyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZXREZWZhdWx0SW5kaWNlcyh0aGlzLmNvdW50KSwgZHJhd3NwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgbWF0cml4OiBNYXRyaXg0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVGVsbCBpdCB0byB1c2Ugb3VyIHByb2dyYW0gKHBhaXIgb2Ygc2hhZGVycylcclxuICAgICAgICAvLyBQT0lOVEVSUyBNVVNUIEFMU08gQkUgU0VULCBETyBFVkVSWVRISU5HIEVYQ0VQVCBHTC5CVUZGRVJEQVRBXHJcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9wb3NpdGlvbik7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnZlcnRDb3VudCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTsgXHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xyXG5cclxuICAgICAgICAvLyBzZXQgdW5pZm9ybXNcclxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMudV90cmFuc2Zvcm0sIGZhbHNlLCBtYXRyaXguZGF0YSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgdGhlIHBvaW50LlxyXG4gICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5jb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/mesh-normals-renderer.ts\n");

/***/ }),

/***/ "./src/render/mesh-renderer.ts":
/*!*************************************!*\
  !*** ./src/render/mesh-renderer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MeshRenderer\": () => /* binding */ MeshRenderer\n/* harmony export */ });\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _line_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./line-renderer */ \"./src/render/line-renderer.ts\");\n/* harmony import */ var _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simple-mesh-renderer */ \"./src/render/simple-mesh-renderer.ts\");\n/* harmony import */ var _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mesh-normals-renderer */ \"./src/render/mesh-normals-renderer.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\n\r\n\r\n\r\n\r\nclass MeshRenderer {\r\n    constructor(gl, faceColor = [1, 0, 0, 0.25], edgeColor = [1, 0, 0, 0.25]) {\r\n        this.faceRend = new _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_3__.SimpleMeshRenderer(gl, faceColor);\r\n        this.lineRend = new _line_renderer__WEBPACK_IMPORTED_MODULE_2__.LineRenderer(gl, edgeColor);\r\n        this.normRend = new _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_4__.NormalRenderer(gl);\r\n    }\r\n    setAndRender(gl, matrix, mesh) {\r\n        this.set(gl, mesh);\r\n        this.render(gl, matrix);\r\n    }\r\n    set(gl, mesh) {\r\n        this.faceRend.setMesh(gl, mesh);\r\n        this.lineRend.set(gl, _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromMesh(mesh), _renderer__WEBPACK_IMPORTED_MODULE_1__.DrawSpeed.StaticDraw);\r\n        this.normRend.set(gl, mesh, _renderer__WEBPACK_IMPORTED_MODULE_1__.DrawSpeed.StaticDraw);\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, matrix) {\r\n        this.faceRend.render(gl, matrix);\r\n        this.lineRend.render(gl, matrix);\r\n        this.normRend.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9tZXNoLXJlbmRlcmVyLnRzP2EwMzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsNEJBQTRCO0FBQzVCLHdCQUF3QjtBQUN4Qiw0Q0FBNEM7QUFHRztBQUlFO0FBQ0Y7QUFDYTtBQUNIO0FBRWxELE1BQU0sWUFBWTtJQU1yQixZQUFZLEVBQXlCLEVBQUUsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLEVBQUUsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDO1FBQ3JGLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxxRUFBa0IsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHdEQUFZLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxrRUFBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxZQUFZLENBQUMsRUFBeUIsRUFBRSxNQUFlLEVBQUUsSUFBZ0I7UUFDckUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELEdBQUcsQ0FBQyxFQUF5QixFQUFFLElBQWdCO1FBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsZ0VBQWtCLENBQUMsSUFBSSxDQUFDLEVBQUUsMkRBQW9CLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLDJEQUFvQixDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELCtCQUErQjtJQUMvQixNQUFNLENBQUMsRUFBeUIsRUFBRSxNQUFlO1FBQzdDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9yZW5kZXIvbWVzaC1yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIG1lc2gtcmVuZGVyZXIudHNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IFdlYkdMIGJhc2VkIHJlbmRlcmluZyBvZiBhIG1lc2guXHJcblxyXG5pbXBvcnQgeyBJbnRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9pbnQtbWF0cml4XCI7XHJcbmltcG9ydCB7IExpbmVBcnJheSB9IGZyb20gXCIuLi9tZXNoL2xpbmUtYXJyYXlcIjtcclxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IFJlbmRlck1lc2ggfSBmcm9tIFwiLi4vbWVzaC9yZW5kZXItbWVzaFwiO1xyXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XHJcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBMaW5lUmVuZGVyZXIgfSBmcm9tIFwiLi9saW5lLXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IFNpbXBsZU1lc2hSZW5kZXJlciB9IGZyb20gXCIuL3NpbXBsZS1tZXNoLXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IE5vcm1hbFJlbmRlcmVyIH0gZnJvbSBcIi4vbWVzaC1ub3JtYWxzLXJlbmRlcmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVzaFJlbmRlcmVyIHtcclxuXHJcbiAgICBmYWNlUmVuZDogU2ltcGxlTWVzaFJlbmRlcmVyO1xyXG4gICAgbGluZVJlbmQ6IExpbmVSZW5kZXJlcjtcclxuICAgIG5vcm1SZW5kOiBOb3JtYWxSZW5kZXJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBmYWNlQ29sb3IgPSBbMSwwLDAsMC4yNV0sIGVkZ2VDb2xvciA9IFsxLDAsMCwwLjI1XSkge1xyXG4gICAgICAgIHRoaXMuZmFjZVJlbmQgPSBuZXcgU2ltcGxlTWVzaFJlbmRlcmVyKGdsLCBmYWNlQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubGluZVJlbmQgPSBuZXcgTGluZVJlbmRlcmVyKGdsLCBlZGdlQ29sb3IpO1xyXG4gICAgICAgIHRoaXMubm9ybVJlbmQgPSBuZXcgTm9ybWFsUmVuZGVyZXIoZ2wpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFuZFJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQsIG1lc2g6IFJlbmRlck1lc2gpIHtcclxuICAgICAgICB0aGlzLnNldChnbCwgbWVzaCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoZ2wsIG1hdHJpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1lc2g6IFJlbmRlck1lc2gpIHtcclxuICAgICAgICB0aGlzLmZhY2VSZW5kLnNldE1lc2goZ2wsIG1lc2gpO1xyXG4gICAgICAgIHRoaXMubGluZVJlbmQuc2V0KGdsLCBMaW5lQXJyYXkuZnJvbU1lc2gobWVzaCksIERyYXdTcGVlZC5TdGF0aWNEcmF3KTtcclxuICAgICAgICB0aGlzLm5vcm1SZW5kLnNldChnbCwgbWVzaCwgRHJhd1NwZWVkLlN0YXRpY0RyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlbmRlciAxIGltYWdlIHRvIHRoZSBzY3JlZW5cclxuICAgIHJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQpIHtcclxuICAgICAgICB0aGlzLmZhY2VSZW5kLnJlbmRlcihnbCwgbWF0cml4KTtcclxuICAgICAgICB0aGlzLmxpbmVSZW5kLnJlbmRlcihnbCwgbWF0cml4KTtcclxuICAgICAgICB0aGlzLm5vcm1SZW5kLnJlbmRlcihnbCwgbWF0cml4KTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/mesh-renderer.ts\n");

/***/ }),

/***/ "./src/render/renderer.ts":
/*!********************************!*\
  !*** ./src/render/renderer.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DrawSpeed\": () => /* binding */ DrawSpeed,\n/* harmony export */   \"Renderer\": () => /* binding */ Renderer\n/* harmony export */ });\n// webgl-helpers.ts\r\n// \r\n// author: Jos Feenstra\r\n// credits to : https://webglfundamentals.org/\r\n// note: im still figuring out how to organize this \r\nvar nextTextureId = 0;\r\nvar rendercallsperframe = 0;\r\nvar DrawSpeed;\r\n(function (DrawSpeed) {\r\n    DrawSpeed[DrawSpeed[\"StaticDraw\"] = 0] = \"StaticDraw\";\r\n    DrawSpeed[DrawSpeed[\"DynamicDraw\"] = 1] = \"DynamicDraw\"; // if you plan on using the 'set' method every frame \r\n})(DrawSpeed || (DrawSpeed = {}));\r\nclass Renderer {\r\n    constructor(gl, vertexScript, fragmentScript) {\r\n        this.gl = gl;\r\n        this.program = Renderer.createProgramFromScripts(gl, vertexScript, fragmentScript);\r\n    }\r\n    buffer(...vars) {\r\n        rendercallsperframe += 1;\r\n    }\r\n    render(...vars) {\r\n        rendercallsperframe += 1;\r\n    }\r\n    static getNextTextureID() {\r\n        let id = nextTextureId;\r\n        nextTextureId += 1;\r\n        return id;\r\n    }\r\n    static resizeCanvas(gl) {\r\n        // Lookup the size the browser is displaying the canvas in CSS pixels.\r\n        let canvas = gl.canvas;\r\n        const displayWidth = canvas.clientWidth;\r\n        const displayHeight = canvas.clientHeight;\r\n        // Check if the canvas is not the same size.\r\n        const needResize = gl.canvas.width !== displayWidth ||\r\n            gl.canvas.height !== displayHeight;\r\n        if (needResize) {\r\n            // Make the canvas the same size\r\n            gl.canvas.width = displayWidth;\r\n            gl.canvas.height = displayHeight;\r\n        }\r\n        // Tell WebGL how to convert from clip space to pixels\r\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n        return needResize;\r\n    }\r\n    convertDrawSpeed(speed) {\r\n        if (speed == DrawSpeed.DynamicDraw) {\r\n            return this.gl.DYNAMIC_DRAW;\r\n        }\r\n        else {\r\n            return this.gl.STATIC_DRAW;\r\n        }\r\n    }\r\n    static initWebglContext(canvas) {\r\n        let possiblyGl = canvas.getContext(\"webgl\");\r\n        if (possiblyGl == undefined) {\r\n            console.log(\"webgl unavailable...\");\r\n        }\r\n        let gl = possiblyGl;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n        gl.enable(gl.CULL_FACE);\r\n        gl.enable(gl.DEPTH_TEST);\r\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n        gl.clearDepth(1.);\r\n        return gl;\r\n    }\r\n    static compileShader(gl, shaderSource, shaderType) {\r\n        let shader = gl.createShader(shaderType);\r\n        gl.shaderSource(shader, shaderSource);\r\n        gl.compileShader(shader);\r\n        let success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!success) {\r\n            throw \"could not compile shader:\" + shaderSource + gl.getShaderInfoLog(shader);\r\n        }\r\n        return shader;\r\n    }\r\n    static createProgram(gl, vertexShader, fragmentShader) {\r\n        let program = gl.createProgram();\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n        let success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (!success) {\r\n            throw (\"program failed to link:\" + gl.getProgramInfoLog(program));\r\n        }\r\n        return program;\r\n    }\r\n    ;\r\n    static createProgramFromScripts(gl, vertexScript, fragmentScript) {\r\n        let vertexShader = Renderer.compileShader(gl, vertexScript, gl.VERTEX_SHADER);\r\n        let fragmentShader = Renderer.compileShader(gl, fragmentScript, gl.FRAGMENT_SHADER);\r\n        return Renderer.createProgram(gl, vertexShader, fragmentShader);\r\n    }\r\n}\r\nRenderer.rendercallsperframe = 0;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9yZW5kZXJlci50cz9iNWM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUJBQW1CO0FBQ25CLEdBQUc7QUFDSCx1QkFBdUI7QUFDdkIsOENBQThDO0FBQzlDLG9EQUFvRDtBQUlwRCxJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUM7QUFDdEIsSUFBSSxtQkFBbUIsR0FBRyxDQUFDLENBQUM7QUFFNUIsSUFBWSxTQUdYO0FBSEQsV0FBWSxTQUFTO0lBQ2pCLHFEQUFVO0lBQ1YsdURBQVcsRUFBQyxxREFBcUQ7QUFDckUsQ0FBQyxFQUhXLFNBQVMsS0FBVCxTQUFTLFFBR3BCO0FBRU0sTUFBTSxRQUFRO0lBTWpCLFlBQVksRUFBeUIsRUFBRSxZQUFvQixFQUFFLGNBQXNCO1FBQy9FLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsd0JBQXdCLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBR0QsTUFBTSxDQUFDLEdBQUcsSUFBUztRQUNmLG1CQUFtQixJQUFJLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBR0QsTUFBTSxDQUFDLEdBQUcsSUFBUztRQUNmLG1CQUFtQixJQUFJLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBSUQsTUFBTSxDQUFDLGdCQUFnQjtRQUNuQixJQUFJLEVBQUUsR0FBRyxhQUFhLENBQUM7UUFDdkIsYUFBYSxJQUFJLENBQUMsQ0FBQztRQUNuQixPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFHRCxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQXlCO1FBRXpDLHNFQUFzRTtRQUN0RSxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBMkIsQ0FBQztRQUU1QyxNQUFNLFlBQVksR0FBSSxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ3pDLE1BQU0sYUFB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LENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNWLE1BQU0sQ0FBQyx5QkFBeUIsR0FBRyxFQUFFLENBQUMsaUJBQWlCLENBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUN0RTtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFBQSxDQUFDO0lBR0YsTUFBTSxDQUFDLHdCQUF3QixDQUFDLEVBQXlCLEVBQUUsWUFBb0IsRUFBRSxjQUFzQjtRQUNuRyxJQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlFLElBQUksY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLGNBQWMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDcEYsT0FBTyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDcEUsQ0FBQzs7QUFoSE0sNEJBQW1CLEdBQUcsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHdlYmdsLWhlbHBlcnMudHNcclxuLy8gXHJcbi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXHJcbi8vIGNyZWRpdHMgdG8gOiBodHRwczovL3dlYmdsZnVuZGFtZW50YWxzLm9yZy9cclxuLy8gbm90ZTogaW0gc3RpbGwgZmlndXJpbmcgb3V0IGhvdyB0byBvcmdhbml6ZSB0aGlzIFxyXG5cclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi9zY2VuZVwiO1xyXG5cclxudmFyIG5leHRUZXh0dXJlSWQgPSAwO1xyXG52YXIgcmVuZGVyY2FsbHNwZXJmcmFtZSA9IDA7IFxyXG5cclxuZXhwb3J0IGVudW0gRHJhd1NwZWVkIHtcclxuICAgIFN0YXRpY0RyYXcsICAvLyBpZiB5b3UgcGxhbiBvbiB1c2luZyB0aGUgJ3NldCcgbWV0aG9kIG9ubHkgYSBjb3VwbGUgb2YgdGltZXMgLyBvbmNlXHJcbiAgICBEeW5hbWljRHJhdyAvLyBpZiB5b3UgcGxhbiBvbiB1c2luZyB0aGUgJ3NldCcgbWV0aG9kIGV2ZXJ5IGZyYW1lIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG5cclxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW07XHJcbiAgICBzdGF0aWMgcmVuZGVyY2FsbHNwZXJmcmFtZSA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdmVydGV4U2NyaXB0OiBzdHJpbmcsIGZyYWdtZW50U2NyaXB0OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gUmVuZGVyZXIuY3JlYXRlUHJvZ3JhbUZyb21TY3JpcHRzKGdsLCB2ZXJ0ZXhTY3JpcHQsIGZyYWdtZW50U2NyaXB0KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgYnVmZmVyKC4uLnZhcnM6IGFueSkge1xyXG4gICAgICAgIHJlbmRlcmNhbGxzcGVyZnJhbWUgKz0gMTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmVuZGVyKC4uLnZhcnM6IGFueSkge1xyXG4gICAgICAgIHJlbmRlcmNhbGxzcGVyZnJhbWUgKz0gMTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHN0YXRpYyBnZXROZXh0VGV4dHVyZUlEKCkge1xyXG4gICAgICAgIGxldCBpZCA9IG5leHRUZXh0dXJlSWQ7XHJcbiAgICAgICAgbmV4dFRleHR1cmVJZCArPSAxO1xyXG4gICAgICAgIHJldHVybiBpZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIHJlc2l6ZUNhbnZhcyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XHJcblxyXG4gICAgICAgIC8vIExvb2t1cCB0aGUgc2l6ZSB0aGUgYnJvd3NlciBpcyBkaXNwbGF5aW5nIHRoZSBjYW52YXMgaW4gQ1NTIHBpeGVscy5cclxuICAgICAgICBsZXQgY2FudmFzID0gZ2wuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICAgICAgICBjb25zdCBkaXNwbGF5V2lkdGggID0gY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbnZhcyBpcyBub3QgdGhlIHNhbWUgc2l6ZS5cclxuICAgICAgICBjb25zdCBuZWVkUmVzaXplID0gZ2wuY2FudmFzLndpZHRoICAhPT0gZGlzcGxheVdpZHRoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmNhbnZhcy5oZWlnaHQgIT09IGRpc3BsYXlIZWlnaHQ7XHJcbiAgICAgICBcclxuICAgICAgICBpZiAobmVlZFJlc2l6ZSkge1xyXG4gICAgICAgICAgLy8gTWFrZSB0aGUgY2FudmFzIHRoZSBzYW1lIHNpemVcclxuICAgICAgICAgIGdsLmNhbnZhcy53aWR0aCAgPSBkaXNwbGF5V2lkdGg7XHJcbiAgICAgICAgICBnbC5jYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICAvLyBUZWxsIFdlYkdMIGhvdyB0byBjb252ZXJ0IGZyb20gY2xpcCBzcGFjZSB0byBwaXhlbHNcclxuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmVlZFJlc2l6ZTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNvbnZlcnREcmF3U3BlZWQoc3BlZWQ6IERyYXdTcGVlZCkgOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChzcGVlZCA9PSBEcmF3U3BlZWQuRHluYW1pY0RyYXcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2wuRFlOQU1JQ19EUkFXO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsLlNUQVRJQ19EUkFXO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGluaXRXZWJnbENvbnRleHQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cclxuICAgICAgICBsZXQgcG9zc2libHlHbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcbiAgICAgICAgaWYgKHBvc3NpYmx5R2wgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3ZWJnbCB1bmF2YWlsYWJsZS4uLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGdsID0gcG9zc2libHlHbCE7XHJcbiAgICBcclxuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xyXG4gICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICAgIFxyXG4gICAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcclxuICAgICAgICBnbC5jbGVhckRlcHRoKDEuKTtcclxuICAgIFxyXG4gICAgICAgIHJldHVybiBnbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGNvbXBpbGVTaGFkZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2hhZGVyU291cmNlOiBzdHJpbmcsIHNoYWRlclR5cGU6IG51bWJlcikgOiBXZWJHTFNoYWRlciB7XHJcbiAgICBcclxuICAgICAgICBsZXQgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpITsgXHJcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTsgXHJcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpOyBcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKTsgXHJcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiY291bGQgbm90IGNvbXBpbGUgc2hhZGVyOlwiICsgc2hhZGVyU291cmNlICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZVByb2dyYW0oZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlciwgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKSB7XHJcbiAgICBcclxuICAgICAgICBsZXQgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKSE7XHJcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xyXG4gICAgICAgIGlmICghc3VjY2Vzcykge1xyXG4gICAgICAgICAgICB0aHJvdyAoXCJwcm9ncmFtIGZhaWxlZCB0byBsaW5rOlwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cgKHByb2dyYW0pKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2ZXJ0ZXhTY3JpcHQ6IHN0cmluZywgZnJhZ21lbnRTY3JpcHQ6IHN0cmluZyk6IFdlYkdMUHJvZ3JhbSB7XHJcbiAgICAgICAgbGV0IHZlcnRleFNoYWRlciA9IFJlbmRlcmVyLmNvbXBpbGVTaGFkZXIoZ2wsIHZlcnRleFNjcmlwdCwgZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgbGV0IGZyYWdtZW50U2hhZGVyID0gUmVuZGVyZXIuY29tcGlsZVNoYWRlcihnbCwgZnJhZ21lbnRTY3JpcHQsIGdsLkZSQUdNRU5UX1NIQURFUik7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmVyLmNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/renderer.ts\n");

/***/ }),

/***/ "./src/render/simple-mesh-renderer.ts":
/*!********************************************!*\
  !*** ./src/render/simple-mesh-renderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SimpleMeshRenderer\": () => /* binding */ SimpleMeshRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\nclass SimpleMeshRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl, color = [1, 0, 0, 0.25]) {\r\n        const vs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        attribute vec4 a_position;\r\n        uniform mat4 u_transform;\r\n        uniform vec4 u_color;\r\n\r\n        void main() {\r\n            gl_Position = u_transform * a_position;\r\n        }\r\n        `;\r\n        const fs = `\r\n        precision mediump int;\r\n        precision mediump float;\r\n\r\n        uniform vec4 u_color;\r\n\r\n        void main () {\r\n            gl_FragColor = u_color;\r\n        }\r\n        `;\r\n        // setup program    \r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        gl.useProgram(this.program);\r\n        gl.uniform4f(this.u_color, color[0], color[1], color[2], color[3]);\r\n        this.count = 0;\r\n        this.size = 0;\r\n        // we need 2 buffers \r\n        // -> 1 float buffer for the positions of all vertices.\r\n        // -> 1 int buffer for the index of all triangles\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n    }\r\n    setMesh(gl, mesh, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        return this.set(gl, mesh.verts, mesh.links, speed);\r\n    }\r\n    set(gl, verts, faces, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        // save how many faces need to be drawn\r\n        gl.useProgram(this.program);\r\n        this.count = faces.data.length;\r\n        // vertices \r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        this.size = 3;\r\n        var type = gl.FLOAT;\r\n        var normalize = false;\r\n        gl.vertexAttribPointer(this.a_position, this.size, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, verts.data, this.convertDrawSpeed(speed));\r\n        // indices \r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(faces.data), this.convertDrawSpeed(speed));\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, this.size, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.TRIANGLES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3JlbmRlci9zaW1wbGUtbWVzaC1yZW5kZXJlci50cz9kOTEzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNEJBQTRCO0FBQzVCLHdCQUF3QjtBQUN4Qiw0Q0FBNEM7QUFNSztBQUUxQyxNQUFNLGtCQUFtQixTQUFRLCtDQUFRO0lBVTVDLFlBQVksRUFBeUIsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUM7UUFFdkQsTUFBTSxFQUFFLEdBQUc7Ozs7Ozs7Ozs7O1NBV1YsQ0FBQztRQUVGLE1BQU0sRUFBRSxHQUFHOzs7Ozs7Ozs7U0FTVixDQUFDO1FBRUYsb0JBQW9CO1FBQ3BCLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRWxCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFFLENBQUM7UUFDdkUsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUUsQ0FBQztRQUMvRCxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUVkLHFCQUFxQjtRQUNyQix1REFBdUQ7UUFDdkQsaURBQWlEO1FBQ2pELElB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Q0FBQztJQUNwRSxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NpbXBsZS1tZXNoLXJlbmRlcmVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgbWVzaC1yZW5kZXJlci50c1xyXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcclxuLy8gcHVycG9zZTogV2ViR0wgYmFzZWQgcmVuZGVyaW5nIG9mIGEgbWVzaC5cclxuXHJcbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XHJcbmltcG9ydCB7IFJlbmRlck1lc2ggfSBmcm9tIFwiLi4vbWVzaC9yZW5kZXItbWVzaFwiO1xyXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XHJcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbXBsZU1lc2hSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcclxuXHJcbiAgICAvLyBhdHRyaWJ1dGUgJiB1bmlmb3JtIGxvY2F0aW9uc1xyXG4gICAgYV9wb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgYV9wb3NpdGlvbl9idWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gICAgaW5kZXhfYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcclxuICAgIHVfdHJhbnNmb3JtOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuICAgIHVfY29sb3I6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xyXG4gICAgY291bnQ6IG51bWJlcjtcclxuICAgIHNpemU6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGNvbG9yID0gWzEsMCwwLDAuMjVdKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHZzID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgYV9wb3NpdGlvbjtcclxuICAgICAgICB1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07XHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbigpIHtcclxuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1X3RyYW5zZm9ybSAqIGFfcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGNvbnN0IGZzID0gYFxyXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcclxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcclxuXHJcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XHJcblxyXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XHJcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHVfY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW0gICAgXHJcbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XHJcblxyXG4gICAgICAgIHRoaXMudV90cmFuc2Zvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdHJhbnNmb3JtXCIpITtcclxuICAgICAgICB0aGlzLnVfY29sb3IgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfY29sb3JcIikhO1xyXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICBnbC51bmlmb3JtNGYodGhpcy51X2NvbG9yLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBjb2xvclszXSk7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuXHJcbiAgICAgICAgLy8gd2UgbmVlZCAyIGJ1ZmZlcnMgXHJcbiAgICAgICAgLy8gLT4gMSBmbG9hdCBidWZmZXIgZm9yIHRoZSBwb3NpdGlvbnMgb2YgYWxsIHZlcnRpY2VzLlxyXG4gICAgICAgIC8vIC0+IDEgaW50IGJ1ZmZlciBmb3IgdGhlIGluZGV4IG9mIGFsbCB0cmlhbmdsZXNcclxuICAgICAgICB0aGlzLmFfcG9zaXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xyXG4gICAgICAgIHRoaXMuaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhOyAgXHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWVzaChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtZXNoOiBSZW5kZXJNZXNoLCBzcGVlZDogRHJhd1NwZWVkID0gRHJhd1NwZWVkLlN0YXRpY0RyYXcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXQoZ2wsIG1lc2gudmVydHMsIG1lc2gubGlua3MsIHNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdmVydHM6IFZlY3RvcjNBcnJheSwgZmFjZXM6IEludE1hdHJpeCwgc3BlZWQ6IERyYXdTcGVlZCA9IERyYXdTcGVlZC5TdGF0aWNEcmF3KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc2F2ZSBob3cgbWFueSBmYWNlcyBuZWVkIHRvIGJlIGRyYXduXHJcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgICAgIHRoaXMuY291bnQgPSBmYWNlcy5kYXRhLmxlbmd0aFxyXG5cclxuICAgICAgICAvLyB2ZXJ0aWNlcyBcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMztcclxuICAgICAgICB2YXIgdHlwZSA9IGdsLkZMT0FUO1xyXG4gICAgICAgIHZhciBub3JtYWxpemUgPSBmYWxzZTsgXHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfcG9zaXRpb24sIHRoaXMuc2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydHMuZGF0YSwgdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XHJcblxyXG4gICAgICAgIC8vIGluZGljZXMgXHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShmYWNlcy5kYXRhKSwgdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVuZGVyIDEgaW1hZ2UgdG8gdGhlIHNjcmVlblxyXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1hdHJpeDogTWF0cml4NCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRlbGwgaXQgdG8gdXNlIG91ciBwcm9ncmFtIChwYWlyIG9mIHNoYWRlcnMpXHJcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9wb3NpdGlvbik7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnNpemUsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHNldCB1bmlmb3Jtc1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy51X3RyYW5zZm9ybSwgZmFsc2UsIG1hdHJpeC5kYXRhKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgcG9pbnQuXHJcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgdGhpcy5jb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/simple-mesh-renderer.ts\n");

/***/ }),

/***/ "./src/system/fpsCounter.ts":
/*!**********************************!*\
  !*** ./src/system/fpsCounter.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FpsCounter\": () => /* binding */ FpsCounter\n/* harmony export */ });\nclass FpsCounter {\r\n    constructor() {\r\n        this.fps = 0;\r\n        this.updateEveryXTicks = 100;\r\n        this.elapsed = 0;\r\n        this.frames = 0;\r\n    }\r\n    update(state) {\r\n        this.frames += 1;\r\n        this.elapsed += state.tick;\r\n        if (this.elapsed > this.updateEveryXTicks) {\r\n            this.setFps();\r\n            this.elapsed = 0;\r\n            this.frames = 0;\r\n        }\r\n    }\r\n    setFps() {\r\n        this.fps = Math.round(this.frames / this.elapsed * 1000);\r\n    }\r\n    getFps() {\r\n        return this.fps;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3N5c3RlbS9mcHNDb3VudGVyLnRzPzY3OGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU0sVUFBVTtJQU9uQjtRQUxBLFFBQUcsR0FBRyxDQUFDLENBQUM7UUFDUixzQkFBaUIsR0FBRyxHQUFHLENBQUM7UUFDeEIsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUNaLFdBQU0sR0FBRyxDQUFDLENBQUM7SUFJWCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWlCO1FBQ3BCLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQztRQUMzQixJQUFJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQ3ZDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNkLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ25CO0lBQ0wsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3BCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zeXN0ZW0vZnBzQ291bnRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi9pbnB1dC1zdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZwc0NvdW50ZXIge1xyXG5cclxuICAgIGZwcyA9IDA7XHJcbiAgICB1cGRhdGVFdmVyeVhUaWNrcyA9IDEwMDtcclxuICAgIGVsYXBzZWQgPSAwO1xyXG4gICAgZnJhbWVzID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcclxuICAgICAgICB0aGlzLmZyYW1lcyArPSAxO1xyXG4gICAgICAgIHRoaXMuZWxhcHNlZCArPSBzdGF0ZS50aWNrO1xyXG4gICAgICAgIGlmICh0aGlzLmVsYXBzZWQgPiB0aGlzLnVwZGF0ZUV2ZXJ5WFRpY2tzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RnBzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVzID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbiAgICBzZXRGcHMoKSB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBNYXRoLnJvdW5kKHRoaXMuZnJhbWVzIC8gdGhpcy5lbGFwc2VkICogMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RnBzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZwczsgICBcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/system/fpsCounter.ts\n");

/***/ }),

/***/ "./src/system/input-state.ts":
/*!***********************************!*\
  !*** ./src/system/input-state.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputState\": () => /* binding */ InputState\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// CanvasInputHandler.ts\r\n// author : Jos Feenstra\r\n// purpose : handle all input events.\r\n\r\nvar Key;\r\n(function (Key) {\r\n    Key[Key[\"A\"] = 0] = \"A\";\r\n    Key[Key[\"B\"] = 1] = \"B\";\r\n    Key[Key[\"C\"] = 2] = \"C\";\r\n    Key[Key[\"D\"] = 3] = \"D\";\r\n    Key[Key[\"E\"] = 4] = \"E\";\r\n    Key[Key[\"F\"] = 5] = \"F\";\r\n    Key[Key[\"G\"] = 6] = \"G\";\r\n    Key[Key[\"H\"] = 7] = \"H\";\r\n    Key[Key[\"I\"] = 8] = \"I\";\r\n    Key[Key[\"J\"] = 9] = \"J\";\r\n    Key[Key[\"K\"] = 10] = \"K\";\r\n    Key[Key[\"L\"] = 11] = \"L\";\r\n    Key[Key[\"M\"] = 12] = \"M\";\r\n    Key[Key[\"N\"] = 13] = \"N\";\r\n    Key[Key[\"O\"] = 14] = \"O\";\r\n    Key[Key[\"P\"] = 15] = \"P\";\r\n    Key[Key[\"Q\"] = 16] = \"Q\";\r\n    Key[Key[\"R\"] = 17] = \"R\";\r\n    Key[Key[\"S\"] = 18] = \"S\";\r\n    Key[Key[\"T\"] = 19] = \"T\";\r\n    Key[Key[\"U\"] = 20] = \"U\";\r\n    Key[Key[\"V\"] = 21] = \"V\";\r\n    Key[Key[\"W\"] = 22] = \"W\";\r\n    Key[Key[\"X\"] = 23] = \"X\";\r\n    Key[Key[\"Y\"] = 24] = \"Y\";\r\n    Key[Key[\"Z\"] = 25] = \"Z\";\r\n    Key[Key[\"Up\"] = 26] = \"Up\";\r\n    Key[Key[\"Down\"] = 27] = \"Down\";\r\n    Key[Key[\"Left\"] = 28] = \"Left\";\r\n    Key[Key[\"Right\"] = 29] = \"Right\";\r\n    Key[Key[\"Space\"] = 30] = \"Space\";\r\n    Key[Key[\"Control\"] = 31] = \"Control\";\r\n    Key[Key[\"Alt\"] = 32] = \"Alt\";\r\n    Key[Key[\"Shift\"] = 33] = \"Shift\";\r\n    Key[Key[\"Enter\"] = 34] = \"Enter\";\r\n    Key[Key[\"Esc\"] = 35] = \"Esc\";\r\n    Key[Key[\"N1\"] = 36] = \"N1\";\r\n    Key[Key[\"N2\"] = 37] = \"N2\";\r\n    Key[Key[\"N3\"] = 38] = \"N3\";\r\n    Key[Key[\"N4\"] = 39] = \"N4\";\r\n    Key[Key[\"N5\"] = 40] = \"N5\";\r\n    Key[Key[\"N6\"] = 41] = \"N6\";\r\n    Key[Key[\"N7\"] = 42] = \"N7\";\r\n    Key[Key[\"N8\"] = 43] = \"N8\";\r\n    Key[Key[\"N9\"] = 44] = \"N9\";\r\n    Key[Key[\"N0\"] = 45] = \"N0\";\r\n    Key[Key[\"Plus\"] = 46] = \"Plus\";\r\n    Key[Key[\"Minus\"] = 47] = \"Minus\";\r\n    Key[Key[\"Backspace\"] = 48] = \"Backspace\";\r\n})(Key || (Key = {}));\r\nfunction toMapping(key) {\r\n    switch (key) {\r\n        case (Key.A): return 1;\r\n        case (Key.B): return 2;\r\n        case (Key.C): return 3;\r\n        case (Key.D): return 4;\r\n        case (Key.E): return 5;\r\n        case (Key.F): return 6;\r\n        default: return 0;\r\n    }\r\n}\r\nclass InputState {\r\n    constructor(canvas) {\r\n        this.mousePos = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2.zero();\r\n        this.mouseDelta = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2.zero();\r\n        this.mouseLeftDown = false;\r\n        this.mouseLeftPressed = false;\r\n        this.mouseLeftPrev = false;\r\n        this.mouseRightDown = false;\r\n        this.mouseRightPressed = false;\r\n        this.mouseRightPrev = false;\r\n        this.mouseMiddleDown = false;\r\n        this.mouseMiddlePressed = false;\r\n        this.mouseMiddlePrev = false;\r\n        this.keysDown = {};\r\n        this.keysPressed = [];\r\n        this.scrollValue = 0;\r\n        // link\r\n        this.canvas = canvas;\r\n        // time\r\n        this.tick = 0;\r\n        this.oldTime = Date.now();\r\n        this.newTime = this.oldTime;\r\n        this.startTime = Date.now();\r\n        this.minimumTick = 1000 / 144;\r\n        // mouse\r\n        canvas.addEventListener(\"mousemove\", this.setMousePos.bind(this));\r\n        canvas.addEventListener(\"mousedown\", this.setMouseDown.bind(this));\r\n        canvas.addEventListener(\"mouseup\", this.setMouseUp.bind(this));\r\n        canvas.addEventListener(\"contextmenu\", (e) => { e.preventDefault(); e.stopPropagation(); });\r\n        canvas.addEventListener(\"mousemove\", this.setMousePos.bind(this));\r\n        canvas.addEventListener(\"wheel\", this.setMouseScroll.bind(this));\r\n        canvas.addEventListener(\"touchmove\", this.setTouch.bind(this));\r\n        canvas.addEventListener(\"touchstart\", this.setTouch.bind(this));\r\n        canvas.addEventListener(\"touchend\", this.setTouchUp.bind(this));\r\n        for (let i = 0; i < 223; i++)\r\n            this.keysDown[i] = false;\r\n        // keyboard\r\n        canvas.addEventListener(\"keydown\", this.onKeyDown.bind(this));\r\n        // canvas.addEventListener(\"keypressed\", this.onKeyPressed.bind(this));\r\n        canvas.addEventListener(\"keyup\", this.onKeyUp.bind(this));\r\n        // final   \r\n        canvas.focus();\r\n    }\r\n    preUpdate() {\r\n        // this must be called every tick within whatever context this is used\r\n        // update time\r\n        this.newTime = Date.now();\r\n        this.tick = (this.newTime - this.oldTime);\r\n        this.oldTime = this.newTime;\r\n        // update mouse\r\n        this.mouseLeftPressed = (this.mouseLeftPrev != this.mouseLeftDown) && this.mouseLeftDown;\r\n        this.mouseRightPressed = (this.mouseRightPrev != this.mouseRightDown) && this.mouseRightDown;\r\n        this.mouseMiddlePressed = (this.mouseMiddlePrev != this.mouseMiddleDown) && this.mouseMiddleDown;\r\n        this.mouseLeftPrev = this.mouseLeftDown;\r\n        this.mouseRightPrev = this.mouseRightDown;\r\n        this.mouseMiddlePrev = this.mouseMiddleDown;\r\n    }\r\n    postUpdate() {\r\n        // this also must be called for keyIsPressed to work\r\n        // refresh keypresses\r\n        this.keysPressed = [];\r\n    }\r\n    IsKeyDown(key) {\r\n        return this.keysDown[key];\r\n    }\r\n    IsKeyPressed(key) {\r\n        return this.keysPressed.includes(key);\r\n    }\r\n    onKeyDown(e) {\r\n        if (this.keysDown[e.key] == true)\r\n            return;\r\n        console.log(e.key);\r\n        this.keysDown[e.key.toLowerCase()] = true;\r\n        this.keysPressed.push(e.key);\r\n    }\r\n    onKeyUp(e) {\r\n        this.keysDown[e.key.toLowerCase()] = false;\r\n    }\r\n    onKeyPressed(e) {\r\n        // NOTE: i made a different system to handle this, see onKeyDown\r\n    }\r\n    setTouch(e) {\r\n        e.preventDefault();\r\n        this.mousePos = new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(e.touches[0].clientX, e.touches[0].clientY);\r\n        this.mouseLeftDown = true;\r\n    }\r\n    setTouchUp(e) {\r\n        e.preventDefault();\r\n        this.mouseLeftDown = false;\r\n    }\r\n    setMouseScroll(e) {\r\n        // console.log(\"we be scrollin' now...\")\r\n        // normalize all scrolling behaviour\r\n        let value = 0.1;\r\n        if (e.deltaY < 0)\r\n            value = -0.1;\r\n        // we dont want negative scroll values...\r\n        this.scrollValue = Math.max(0, this.scrollValue + value);\r\n    }\r\n    setMousePos(e) {\r\n        // this is a bit messy, BUT, multiply by camera parameters\r\n        this.mousePos = new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(e.clientX, e.clientY);\r\n        ;\r\n    }\r\n    setMouseUp(e) {\r\n        let code = e.buttons;\r\n        if (code < 4) {\r\n            this.mouseMiddleDown = false;\r\n        }\r\n        if (code < 2) {\r\n            this.mouseRightDown = false;\r\n        }\r\n        if (code < 1) {\r\n            this.mouseLeftDown = false;\r\n        }\r\n    }\r\n    setMouseDown(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let code = e.buttons;\r\n        if (code >= 4) {\r\n            code -= 4;\r\n            this.mouseMiddleDown = true;\r\n        }\r\n        if (code >= 2) {\r\n            code -= 2;\r\n            this.mouseRightDown = true;\r\n        }\r\n        if (code >= 1) {\r\n            code -= 1;\r\n            this.mouseLeftDown = true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3N5c3RlbS9pbnB1dC1zdGF0ZS50cz8yMjI4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4QixxQ0FBcUM7QUFFSTtBQUV6QyxJQUFLLEdBSUo7QUFKRCxXQUFLLEdBQUc7SUFDSix1QkFBQztJQUFFLHVCQUFDO0lBQUUsdUJBQUM7SUFBRSx1QkFBQztJQUFFLHVCQUFDO0lBQUUsdUJBQUM7SUFBRyx1QkFBQztJQUFFLHVCQUFDO0lBQUUsdUJBQUM7SUFBRSx1QkFBQztJQUFFLHdCQUFDO0lBQUUsd0JBQUM7SUFBRSx3QkFBQztJQUFFLHdCQUFDO0lBQUUsd0JBQUM7SUFBRSx3QkFBQztJQUFFLHdCQUFDO0lBQUUsd0JBQUM7SUFBRSx3QkFBQztJQUFFLHdCQUFDO0lBQUUsd0JBQUM7SUFBRSx3QkFBQztJQUFFLHdCQUFDO0lBQUUsd0JBQUM7SUFBRSx3QkFBQztJQUFFLHdCQUFDO0lBQzdFLDBCQUFFO0lBQUUsOEJBQUk7SUFBRSw4QkFBSTtJQUFFLGdDQUFLO0lBQUUsZ0NBQUs7SUFBRSxvQ0FBTztJQUFFLDRCQUFHO0lBQUUsZ0NBQUs7SUFBRSxnQ0FBSztJQUFFLDRCQUFHO0lBQzdELDBCQUFFO0lBQUUsMEJBQUU7SUFBRSwwQkFBRTtJQUFFLDBCQUFFO0lBQUcsMEJBQUU7SUFBRywwQkFBRTtJQUFFLDBCQUFFO0lBQUUsMEJBQUU7SUFBRywwQkFBRTtJQUFFLDBCQUFFO0lBQUUsOEJBQUk7SUFBRSxnQ0FBSztJQUFFLHdDQUFTO0FBQ3JFLENBQUMsRUFKSSxHQUFHLEtBQUgsR0FBRyxRQUlQO0FBRUQsU0FBUyxTQUFTLENBQUMsR0FBUTtJQUN2QixRQUFPLEdBQUcsRUFBRTtRQUNSLEtBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN0QixLQUFJLENBQUMsR0FBRyxDQUFDLENB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Y0FBYyxHQUFHLEtBQUssQ0FBQztTQUMvQjtRQUNELElBQUksSUFBSSxHQUFHLENBQUMsRUFDWjtZQUNJLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1NBQzlCO0lBQ0wsQ0FBQztJQUdPLFlBQVksQ0FBQyxDQUFhO1FBRTlCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNyQixJQUFJLElBQUksSUFBSSxDQUFDLEVBQ2I7WUFDSSxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7U0FDL0I7UUFDRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQ2I7WUFDSSxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDOUI7UUFDRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQ2I7WUFDSSxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7U0FDN0I7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvc3lzdGVtL2lucHV0LXN0YXRlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2FudmFzSW5wdXRIYW5kbGVyLnRzXHJcbi8vIGF1dGhvciA6IEpvcyBGZWVuc3RyYVxyXG4vLyBwdXJwb3NlIDogaGFuZGxlIGFsbCBpbnB1dCBldmVudHMuXHJcblxyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XHJcblxyXG5lbnVtIEtleSB7XHJcbiAgICBBLCBCLCBDLCBELCBFLCBGLCAgRywgSCwgSSwgSiwgSywgTCwgTSwgTiwgTywgUCwgUSwgUiwgUywgVCwgVSwgViwgVywgWCwgWSwgWixcclxuICAgIFVwLCBEb3duLCBMZWZ0LCBSaWdodCwgU3BhY2UsIENvbnRyb2wsIEFsdCwgU2hpZnQsIEVudGVyLCBFc2MsXHJcbiAgICBOMSwgTjIsIE4zLCBONCwgIE41LCAgTjYsIE43LCBOOCwgIE45LCBOMCwgUGx1cywgTWludXMsIEJhY2tzcGFjZVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b01hcHBpbmcoa2V5OiBLZXkpIDogbnVtYmVyIHtcclxuICAgIHN3aXRjaChrZXkpIHtcclxuICAgICAgICBjYXNlKEtleS5BKTogcmV0dXJuIDE7XHJcbiAgICAgICAgY2FzZShLZXkuQik6IHJldHVybiAyO1xyXG4gICAgICAgIGNhc2UoS2V5LkMpOiByZXR1cm4gMztcclxuICAgICAgICBjYXNlKEtleS5EKTogcmV0dXJuIDQ7XHJcbiAgICAgICAgY2FzZShLZXkuRSk6IHJldHVybiA1O1xyXG4gICAgICAgIGNhc2UoS2V5LkYpOiByZXR1cm4gNjtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJS2V5cyBcclxue1xyXG4gICAgW2tleTogc3RyaW5nXSA6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIElucHV0U3RhdGUge1xyXG5cclxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gICAgdGljazogbnVtYmVyO1xyXG4gICAgb2xkVGltZTogbnVtYmVyO1xyXG4gICAgbmV3VGltZTogbnVtYmVyO1xyXG4gICAgc3RhcnRUaW1lOiBudW1iZXI7XHJcbiAgICBtaW5pbXVtVGljazogbnVtYmVyO1xyXG5cclxuICAgIG1vdXNlUG9zOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICBtb3VzZURlbHRhOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICBtb3VzZUxlZnREb3duID0gZmFsc2U7XHJcbiAgICBtb3VzZUxlZnRQcmVzc2VkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG1vdXNlTGVmdFByZXYgPSBmYWxzZTtcclxuXHJcbiAgICBtb3VzZVJpZ2h0RG93biA9IGZhbHNlO1xyXG4gICAgbW91c2VSaWdodFByZXNzZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbW91c2VSaWdodFByZXYgPSBmYWxzZTtcclxuXHJcbiAgICBtb3VzZU1pZGRsZURvd24gPSBmYWxzZTtcclxuICAgIG1vdXNlTWlkZGxlUHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtb3VzZU1pZGRsZVByZXYgPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIGtleXNEb3duOiBJS2V5cyA9IHt9O1xyXG4gICAgcHJpdmF0ZSBrZXlzUHJlc3NlZDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBzY3JvbGxWYWx1ZSA9IDA7XHJcblxyXG4gICAgLy8gZGVsZWdhdGUgZnVuY3Rpb25zXHJcbiAgICBvbk1vdXNlV2hlZWxTY3JvbGw/OiBGdW5jdGlvbjtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgLy8gbGlua1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG5cclxuICAgICAgICAvLyB0aW1lXHJcbiAgICAgICAgdGhpcy50aWNrID0gMDtcclxuICAgICAgICB0aGlzLm9sZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMubmV3VGltZSA9IHRoaXMub2xkVGltZTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5taW5pbXVtVGljayA9IDEwMDAgLyAxNDQ7XHJcblxyXG4gICAgICAgIC8vIG1vdXNlXHJcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5zZXRNb3VzZVBvcy5iaW5kKHRoaXMpKTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLnNldE1vdXNlRG93bi5iaW5kKHRoaXMpKTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5zZXRNb3VzZVVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9KTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLnNldE1vdXNlUG9zLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5zZXRNb3VzZVNjcm9sbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLnNldFRvdWNoLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLnNldFRvdWNoLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5zZXRUb3VjaFVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAyMjMgO2krKylcclxuICAgICAgICAgICAgdGhpcy5rZXlzRG93bltpXSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGtleWJvYXJkXHJcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NlZFwiLCB0aGlzLm9uS2V5UHJlc3NlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gZmluYWwgICBcclxuICAgICAgICBjYW52YXMuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHByZVVwZGF0ZSgpIHtcclxuICAgICAgICAvLyB0aGlzIG11c3QgYmUgY2FsbGVkIGV2ZXJ5IHRpY2sgd2l0aGluIHdoYXRldmVyIGNvbnRleHQgdGhpcyBpcyB1c2VkXHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSB0aW1lXHJcbiAgICAgICAgdGhpcy5uZXdUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLnRpY2sgPSAodGhpcy5uZXdUaW1lIC0gdGhpcy5vbGRUaW1lKTtcclxuICAgICAgICB0aGlzLm9sZFRpbWUgPSB0aGlzLm5ld1RpbWU7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxyXG4gICAgICAgIHRoaXMubW91c2VMZWZ0UHJlc3NlZCA9ICAodGhpcy5tb3VzZUxlZnRQcmV2ICE9IHRoaXMubW91c2VMZWZ0RG93bikgJiYgdGhpcy5tb3VzZUxlZnREb3duO1xyXG4gICAgICAgIHRoaXMubW91c2VSaWdodFByZXNzZWQgPSAgKHRoaXMubW91c2VSaWdodFByZXYgIT0gdGhpcy5tb3VzZVJpZ2h0RG93bikgJiYgdGhpcy5tb3VzZVJpZ2h0RG93bjtcclxuICAgICAgICB0aGlzLm1vdXNlTWlkZGxlUHJlc3NlZCA9ICAodGhpcy5tb3VzZU1pZGRsZVByZXYgIT0gdGhpcy5tb3VzZU1pZGRsZURvd24pICYmIHRoaXMubW91c2VNaWRkbGVEb3duO1xyXG5cclxuICAgICAgICB0aGlzLm1vdXNlTGVmdFByZXYgPSB0aGlzLm1vdXNlTGVmdERvd25cclxuICAgICAgICB0aGlzLm1vdXNlUmlnaHRQcmV2ID0gdGhpcy5tb3VzZVJpZ2h0RG93blxyXG4gICAgICAgIHRoaXMubW91c2VNaWRkbGVQcmV2ID0gdGhpcy5tb3VzZU1pZGRsZURvd25cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHBvc3RVcGRhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vIHRoaXMgYWxzbyBtdXN0IGJlIGNhbGxlZCBmb3Iga2V5SXNQcmVzc2VkIHRvIHdvcmtcclxuXHJcbiAgICAgICAgLy8gcmVmcmVzaCBrZXlwcmVzc2VzXHJcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZCA9IFtdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgSXNLZXlEb3duKGtleTogc3RyaW5nKSA6IGJvb2xlYW5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzRG93bltrZXldOyAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBJc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpIDogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNQcmVzc2VkLmluY2x1ZGVzKGtleSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBvbktleURvd24oZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHsgXHJcbiAgICAgICAgaWYgKHRoaXMua2V5c0Rvd25bZS5rZXldID09IHRydWUpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmxvZyhlLmtleSk7XHJcbiAgICAgICAgdGhpcy5rZXlzRG93bltlLmtleS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZC5wdXNoKGUua2V5KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG9uS2V5VXAoZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmtleXNEb3duW2Uua2V5LnRvTG93ZXJDYXNlKCldID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBvbktleVByZXNzZWQoZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHtcclxuICAgICAgICAvLyBOT1RFOiBpIG1hZGUgYSBkaWZmZXJlbnQgc3lzdGVtIHRvIGhhbmRsZSB0aGlzLCBzZWUgb25LZXlEb3duXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc2V0VG91Y2goZTogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IG5ldyBWZWN0b3IyKGUudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzZXRUb3VjaFVwKGU6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc2V0TW91c2VTY3JvbGwoZTogV2hlZWxFdmVudCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2UgYmUgc2Nyb2xsaW4nIG5vdy4uLlwiKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhbGwgc2Nyb2xsaW5nIGJlaGF2aW91clxyXG4gICAgICAgIGxldCB2YWx1ZSA9IDAuMTtcclxuICAgICAgICBpZiAoZS5kZWx0YVkgPCAwKSBcclxuICAgICAgICAgICAgdmFsdWUgPSAtMC4xO1xyXG5cclxuICAgICAgICAvLyB3ZSBkb250IHdhbnQgbmVnYXRpdmUgc2Nyb2xsIHZhbHVlcy4uLlxyXG4gICAgICAgIHRoaXMuc2Nyb2xsVmFsdWUgPSBNYXRoLm1heCgwLCB0aGlzLnNjcm9sbFZhbHVlICsgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlUG9zKGU6IE1vdXNlRXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdGhpcyBpcyBhIGJpdCBtZXNzeSwgQlVULCBtdWx0aXBseSBieSBjYW1lcmEgcGFyYW1ldGVyc1xyXG4gICAgICAgIHRoaXMubW91c2VQb3MgPSBuZXcgVmVjdG9yMihlLmNsaWVudFgsIGUuY2xpZW50WSk7O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlVXAoZTogTW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICBsZXQgY29kZSA9IGUuYnV0dG9ucztcclxuICAgICAgICBpZiAoY29kZSA8IDQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZURvd24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPCAyKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodERvd24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPCAxKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0RG93biA9IGZhbHNlO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgc2V0TW91c2VEb3duKGU6IE1vdXNlRXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmJ1dHRvbnM7XHJcbiAgICAgICAgaWYgKGNvZGUgPj0gNCkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb2RlIC09IDQ7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VNaWRkbGVEb3duID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPj0gMikgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb2RlIC09IDI7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodERvd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA+PSAxKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvZGUgLT0gMTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gdHJ1ZTtcclxuICAgICAgICB9ICBcclxuICAgICAgICByZXR1cm4gZmFsc2U7ICAgICBcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/system/input-state.ts\n");

/***/ }),

/***/ "./src/system/ui.ts":
/*!**************************!*\
  !*** ./src/system/ui.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UI\": () => /* binding */ UI,\n/* harmony export */   \"SliderParameter\": () => /* binding */ SliderParameter\n/* harmony export */ });\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/math */ \"./src/math/math.ts\");\n// name:    ui.js\r\n// author:  Jos Feenstra\r\n// purpose: lets create the UI using html & dom api, because why the hell not\r\n\r\nclass UI {\r\n    constructor(frame) {\r\n        this.context = frame;\r\n    }\r\n    clear() {\r\n        let count = this.context.childElementCount;\r\n        for (let i = count - 1; i >= 0; i -= 1) {\r\n            this.context.removeChild(this.context.children.item(i));\r\n        }\r\n    }\r\n    addElement(element, className = \"\") {\r\n        let el = document.createElement(element);\r\n        el.className = className;\r\n        this.context.appendChild(el);\r\n        return el;\r\n    }\r\n    addDiv(classname, items) {\r\n        let div = this.addElement(\"div\", classname);\r\n        items.forEach(item => {\r\n            div.appendChild(item);\r\n        });\r\n    }\r\n    addSlider(param, onInput = () => { }) {\r\n        let slider = this.addRangeInput(param, onInput);\r\n        let text1 = this.addElement(\"p\", \"slider-text\");\r\n        text1.innerText = param.name;\r\n        let text2 = this.addElement(\"p\", \"slider-value\");\r\n        text2.innerText = slider.value;\r\n        this.addDiv(\"slider\", [\r\n            text1,\r\n            text2,\r\n            slider,\r\n        ]);\r\n        slider.oninput = () => {\r\n            param.set(slider.valueAsNumber);\r\n            onInput(slider.valueAsNumber);\r\n            text1.innerText = param.name;\r\n            text2.innerText = slider.value;\r\n        };\r\n    }\r\n    addRangeInput(param, onInput = () => { }) {\r\n        // a slider looks like this : <input type=\"range\" min=\"1\" max=\"100\" step=\"1\" value=\"50\">\r\n        let slider = this.addElement(\"input\", \"slider-control\");\r\n        slider.type = \"range\";\r\n        slider.min = param.min.toString();\r\n        slider.max = param.max.toString();\r\n        slider.valueAsNumber = param.state;\r\n        slider.step = param.step.toString();\r\n        return slider;\r\n    }\r\n    addText() {\r\n        this.addElement(\"\");\r\n    }\r\n    addButton(name = \"\", onInput = () => { }) {\r\n        let button = this.addElement(\"input\", \"slider\");\r\n        button.type = \"button\";\r\n        button.value = name;\r\n        button.onclick = () => {\r\n            onInput(Number.parseFloat(button.value));\r\n        };\r\n        return button;\r\n    }\r\n}\r\n// a slider parameter\r\nclass SliderParameter {\r\n    constructor(name, state, min = -Infinity, max = Infinity, step = 0.1) {\r\n        this.name = name;\r\n        this.state = state;\r\n        this.min = min;\r\n        this.max = max;\r\n        this.step = step;\r\n    }\r\n    get() {\r\n        return this.state;\r\n    }\r\n    set(state) {\r\n        // TODO ROUND TO NEAREST STEP\r\n        this.state = _math_math__WEBPACK_IMPORTED_MODULE_0__.GMath.clamp(state, this.min, this.max);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZmVyZWQtbGFuZG1hcmtzLy4vc3JjL3N5c3RlbS91aS50cz8wNGI4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGlCQUFpQjtBQUNqQix3QkFBd0I7QUFDeEIsNkVBQTZFO0FBR3hDO0FBRTlCLE1BQU0sRUFBRTtJQUtYLFlBQVksS0FBcUI7UUFDN0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVELEtBQUs7UUFFRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1FBQzNDLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsRUFBRyxDQUFDLElBQUcsQ0FBQyxFQUFHLENBQUMsSUFBRSxDQUFDLEVBQUU7WUFDbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUM7U0FDNUQ7SUFDTCxDQUFDO0lBRU8sVUFBVSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFO1FBRXRELElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBRXhDLEVBQUUsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFpQixFQUFFLEtBQW9CO1FBQzFDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakIsR0FBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQztJQUNQ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QztJQUNyQixDQUFDO0lBRUQsR0FBRztRQUNDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsR0FBRyxDQUFDLEtBQWE7UUFDYiw2QkFBNkI7UUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxtREFBVyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvc3lzdGVtL3VpLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgdWkuanNcclxuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXHJcbi8vIHB1cnBvc2U6IGxldHMgY3JlYXRlIHRoZSBVSSB1c2luZyBodG1sICYgZG9tIGFwaSwgYmVjYXVzZSB3aHkgdGhlIGhlbGwgbm90XHJcblxyXG5pbXBvcnQgeyB2YWx1ZUFuZEdyYWQgfSBmcm9tIFwiQHRlbnNvcmZsb3cvdGZqcy1jb3JlXCI7XHJcbmltcG9ydCB7IEdNYXRoIH0gZnJvbSBcIi4uL21hdGgvbWF0aFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVJIHtcclxuXHJcbiAgICBjb250ZXh0OiBIVE1MRGl2RWxlbWVudDtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoZnJhbWU6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gZnJhbWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKSB7XHJcblxyXG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMuY29udGV4dC5jaGlsZEVsZW1lbnRDb3VudDtcclxuICAgICAgICBmb3IgKGxldCBpID0gY291bnQgLSAxIDsgaSA+PTAgOyBpLT0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRleHQuY2hpbGRyZW4uaXRlbShpKSEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEVsZW1lbnQoZWxlbWVudDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZyA9IFwiXCIpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpXHJcblxyXG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICBhZGREaXYoY2xhc3NuYW1lOiBzdHJpbmcsIGl0ZW1zOiBIVE1MRWxlbWVudFtdKSB7XHJcbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuYWRkRWxlbWVudChcImRpdlwiLCBjbGFzc25hbWUpO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRTbGlkZXIocGFyYW06IFNsaWRlclBhcmFtZXRlciwgb25JbnB1dDogKHY6IG51bWJlcikgPT4gdm9pZCA9ICgpID0+IHt9KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHNsaWRlciA9IHRoaXMuYWRkUmFuZ2VJbnB1dChwYXJhbSwgb25JbnB1dCk7XHJcbiAgICAgICAgbGV0IHRleHQxID0gdGhpcy5hZGRFbGVtZW50KFwicFwiLCBcInNsaWRlci10ZXh0XCIpO1xyXG4gICAgICAgIHRleHQxLmlubmVyVGV4dCA9IHBhcmFtLm5hbWU7XHJcblxyXG4gICAgICAgIGxldCB0ZXh0MiA9IHRoaXMuYWRkRWxlbWVudChcInBcIiwgXCJzbGlkZXItdmFsdWVcIik7XHJcbiAgICAgICAgdGV4dDIuaW5uZXJUZXh0ID0gc2xpZGVyLnZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLmFkZERpdihcInNsaWRlclwiLCBbXHJcbiAgICAgICAgICAgIHRleHQxLFxyXG4gICAgICAgICAgICB0ZXh0MixcclxuICAgICAgICAgICAgc2xpZGVyLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBzbGlkZXIub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcGFyYW0uc2V0KHNsaWRlci52YWx1ZUFzTnVtYmVyKTtcclxuICAgICAgICAgICAgb25JbnB1dChzbGlkZXIudmFsdWVBc051bWJlcik7XHJcbiAgICAgICAgICAgIHRleHQxLmlubmVyVGV4dCA9IHBhcmFtLm5hbWU7XHJcbiAgICAgICAgICAgIHRleHQyLmlubmVyVGV4dCA9IHNsaWRlci52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUmFuZ2VJbnB1dChwYXJhbTogU2xpZGVyUGFyYW1ldGVyLCBvbklucHV0OiAodjogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge30pIHtcclxuXHJcbiAgICAgICAgLy8gYSBzbGlkZXIgbG9va3MgbGlrZSB0aGlzIDogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9XCIxMDBcIiBzdGVwPVwiMVwiIHZhbHVlPVwiNTBcIj5cclxuICAgICAgICBsZXQgc2xpZGVyID0gdGhpcy5hZGRFbGVtZW50KFwiaW5wdXRcIiwgXCJzbGlkZXItY29udHJvbFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50OyAgICBcclxuICAgICAgICBcclxuICAgICAgICBzbGlkZXIudHlwZSA9IFwicmFuZ2VcIjtcclxuICAgICAgICBzbGlkZXIubWluID0gcGFyYW0ubWluLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgc2xpZGVyLm1heCA9IHBhcmFtLm1heC50b1N0cmluZygpO1xyXG4gICAgICAgIHNsaWRlci52YWx1ZUFzTnVtYmVyID0gcGFyYW0uc3RhdGU7XHJcbiAgICAgICAgc2xpZGVyLnN0ZXAgPSBwYXJhbS5zdGVwLnRvU3RyaW5nKCk7XHJcbiBcclxuICAgICAgICByZXR1cm4gc2xpZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRleHQoKSB7XHJcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50KFwiXCIpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkQnV0dG9uKG5hbWUgPSBcIlwiLCBvbklucHV0OiAodjogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge30pIHtcclxuICAgICAgICBsZXQgYnV0dG9uID0gdGhpcy5hZGRFbGVtZW50KFwiaW5wdXRcIiwgXCJzbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDsgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgYnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xyXG4gICAgICAgIGJ1dHRvbi52YWx1ZSA9IG5hbWU7XHJcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIG9uSW5wdXQoTnVtYmVyLnBhcnNlRmxvYXQoYnV0dG9uLnZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidXR0b247XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBhIHNsaWRlciBwYXJhbWV0ZXJcclxuZXhwb3J0IGNsYXNzIFNsaWRlclBhcmFtZXRlciB7XHJcblxyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgc3RhdGU6IG51bWJlcjtcclxuICAgIG1pbjogbnVtYmVyO1xyXG4gICAgbWF4OiBudW1iZXI7XHJcbiAgICBzdGVwOiBudW1iZXJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN0YXRlOiBudW1iZXIsIG1pbiA9LSBJbmZpbml0eSwgbWF4ID0gSW5maW5pdHksIHN0ZXA9MC4xKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XHJcblxyXG4gICAgICAgIHRoaXMubWluID0gbWluO1xyXG4gICAgICAgIHRoaXMubWF4ID0gbWF4O1xyXG4gICAgICAgIHRoaXMuc3RlcCA9IHN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KHN0YXRlOiBudW1iZXIpIHtcclxuICAgICAgICAvLyBUT0RPIFJPVU5EIFRPIE5FQVJFU1QgU1RFUFxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBHTWF0aC5jbGFtcChzdGF0ZSwgdGhpcy5taW4sIHRoaXMubWF4KTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/system/ui.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./src/index.ts");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;