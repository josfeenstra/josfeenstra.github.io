(()=>{"use strict";eval('\n// CONCATENATED MODULE: ./src/math/Vector2.ts\n// author: Jos Feenstra\r\n// inspiration from Three.js\r\n// note: recycle the class as much as possble, building a new class is expensive,\r\n// especially in javascript\r\nclass Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    // --- factories & other statics\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector2(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector2(Math.random(), Math.random());\r\n    }\r\n    static fromRandomAngle() {\r\n        let alpha = Math.random() * Math.PI * 2;\r\n        return new Vector2(Math.cos(alpha), Math.sin(alpha));\r\n    }\r\n    static from2Pt(from, to) {\r\n        return new Vector2(from.x - to.x, from.y - to.y);\r\n    }\r\n    static fromCopy(other) {\r\n        return this.zero().copy(other);\r\n    }\r\n    static zero() { return new Vector2(0, 0); }\r\n    static NaN() { return new Vector2(NaN, NaN); }\r\n    static fromCircumcenter(a, b, c) {\r\n        const asum = a.squareSum();\r\n        const bsum = b.squareSum();\r\n        const csum = c.squareSum();\r\n        // sort of cross product\r\n        let d = 2 * (a.x * (b.y - c.y) +\r\n            b.x * (c.y - a.y) +\r\n            c.x * (a.y - b.y));\r\n        // if this triangle has no circumcenter? \r\n        if (d < 0.000001)\r\n            return Vector2.NaN();\r\n        let x = (asum * (b.y - c.y) +\r\n            bsum * (c.y - a.y) +\r\n            csum * (a.y - b.y)) / d;\r\n        let y = (asum * (c.x - b.x) +\r\n            bsum * (a.x - c.x) +\r\n            csum * (b.x - a.x)) / d;\r\n        return new Vector2(x, y);\r\n    }\r\n    static getSign(a, b, c) {\r\n        // test half plane relationship\r\n        // <0 : point on first half\r\n        // 0  : points collinear\r\n        // >0 : point on second half \r\n        return (a.x - c.x) * (b.y - c.y) -\r\n            (b.x - c.x) * (a.y - c.y);\r\n    }\r\n    // --- basics\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    roughlyEquals(v, tol) {\r\n        return (Math.abs(this.x - v.x) < tol &&\r\n            Math.abs(this.y - v.y) < tol);\r\n    }\r\n    equals(v) {\r\n        return ((v.x === this.x) && (v.y === this.y));\r\n    }\r\n    toString() {\r\n        return `Vector3(${this.x}, ${this.y})`;\r\n    }\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        return this;\r\n    }\r\n    // --- math\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n    addn(arg0, arg1) {\r\n        this.x += arg0;\r\n        this.y += arg1;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        return this;\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        return this;\r\n    }\r\n    divscale(v) {\r\n        this.x /= v;\r\n        this.y /= v;\r\n        return this;\r\n    }\r\n    min(other) {\r\n        this.x = Math.min(this.x, other.x);\r\n        this.y = Math.min(this.y, other.y);\r\n        return this;\r\n    }\r\n    max(other) {\r\n        this.x = Math.max(this.x, other.x);\r\n        this.y = Math.max(this.y, other.y);\r\n        return this;\r\n    }\r\n    clamp(min, max) {\r\n        // assumes min < max, componentwise\r\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\r\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\r\n        return this;\r\n    }\r\n    clampScalar(minVal, maxVal) {\r\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\r\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\r\n        return this;\r\n    }\r\n    clampLength(min, max) {\r\n        const length = this.length();\r\n        return this.divscale(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floor() {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    round() {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        return this;\r\n    }\r\n    roundToZero() {\r\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\r\n        return this;\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        return this.x * v.y - this.y * v.x; // ????\r\n    }\r\n    squareSum() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y);\r\n    }\r\n    normalize() {\r\n        return this.divscale(this.length() || 1);\r\n    }\r\n    angle() {\r\n        // computes the angle in radians with respect to the positive x-axis\r\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\r\n        return angle;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        const dx = this.x - v.x, dy = this.y - v.y;\r\n        return dx * dx + dy * dy;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        this.x += (other.x - this.x) * alpha;\r\n        this.y += (other.y - this.y) * alpha;\r\n        return this;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/renderer/Renderer.ts\n// base class\r\nclass Renderer {\r\n}\r\n\n// CONCATENATED MODULE: ./src/renderer/Renderer2.ts\n// author: Jos Feenstra\r\n\r\n\r\n// only renderer talks to ctx & canvas.\r\n// do all the camera work in here\r\nclass Renderer2 extends Renderer {\r\n    constructor(canvas, geon) {\r\n        super();\r\n        // visuals\r\n        this.slowfade = false;\r\n        this.pointsize = 5;\r\n        this.pointcolor = "#ffffff";\r\n        this.linecolor = "#ffffff";\r\n        this.fillcolor = "#666666";\r\n        this.geon = geon;\r\n        this.ctx = canvas.getContext("2d");\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    setColor(color) {\r\n        this.ctx.strokeStyle = color;\r\n    }\r\n    reset() {\r\n        this.slowfade = false;\r\n        this.offset = Vector2.zero();\r\n        this.scale = 1;\r\n        this.ctx.fillStyle = this.pointcolor;\r\n        this.ctx.strokeStyle = this.linecolor;\r\n    }\r\n    // TODO fix this once i build matrices\r\n    applyOffset(v) {\r\n        return v.clone().add(this.offset).scale(this.scale);\r\n    }\r\n    revertOffset(v) {\r\n        return v.clone().scale(1 / this.scale).sub(this.offset);\r\n    }\r\n    // this clears with a transparant layer, for easy delayed effect\r\n    clearFade(alpha) {\r\n        // adjust color settings\r\n        const color = this.ctx.fillStyle;\r\n        this.ctx.fillStyle = "#000000ff";\r\n        this.ctx.globalAlpha = alpha;\r\n        this.ctx.fillRect(0, 0, this.geon.width, this.geon.height);\r\n        // reset color settings \r\n        this.ctx.globalAlpha = 1;\r\n        this.ctx.fillStyle = color;\r\n    }\r\n    clear() {\r\n        if (this.slowfade)\r\n            this.clearFade(0.1);\r\n        else\r\n            this.ctx.clearRect(0, 0, this.geon.width, this.geon.height);\r\n    }\r\n    pointColored(x, y, color) {\r\n        this.ctx.fillStyle = color;\r\n        this.point(x, y);\r\n    }\r\n    point(x, y) {\r\n        // todo camera\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        let v = this.applyOffset(new Vector2(x, y));\r\n        this.ctx.arc(v.x, v.y, this.pointsize, 0, Math.PI * 2, false);\r\n        this.ctx.fill();\r\n    }\r\n    points(points) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.ctx.beginPath();\r\n            let v = this.applyOffset(points[i]);\r\n            this.ctx.arc(v.x, v.y, this.pointsize, 0, Math.PI * 2, false);\r\n            this.ctx.fill();\r\n        }\r\n    }\r\n    line(line) {\r\n        // TODO dont draw if off screen\r\n        this.ctx.beginPath();\r\n        line.draw(this.ctx);\r\n        this.ctx.stroke();\r\n    }\r\n    setLineSettings(width, color) {\r\n        this.ctx.strokeStyle = color;\r\n        this.ctx.lineWidth = width;\r\n        this.ctx.lineCap = "round";\r\n    }\r\n    lineSegments(vertices) {\r\n        this.ctx.beginPath();\r\n        for (let i = 0; i < vertices.length; i += 2) {\r\n            let ii = i + 1;\r\n            let v1 = this.applyOffset(vertices[i]);\r\n            let v2 = this.applyOffset(vertices[ii]);\r\n            this.ctx.moveTo(v1.x, v1.y);\r\n            this.ctx.lineTo(v2.x, v2.y);\r\n        }\r\n        this.ctx.stroke();\r\n    }\r\n    circles(points, radii) {\r\n        // TODO dont draw if off screen\r\n        for (let i = 0; i < points.length; i++) {\r\n            this.circle(points[i], radii[i]);\r\n        }\r\n    }\r\n    circle(point, radius) {\r\n        this.ctx.beginPath();\r\n        let v = this.applyOffset(point);\r\n        let r = radius * this.scale;\r\n        this.ctx.arc(v.x, v.y, r, 0, Math.PI * 2, false);\r\n        this.ctx.stroke();\r\n    }\r\n    text(message, pos) {\r\n        this.ctx.font = \'14px "Lucida Console", Monaco, monospace\';\r\n        this.ctx.fillText(message, pos.x, pos.y);\r\n    }\r\n    rectangle() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n    polygon() {\r\n        this.ctx.beginPath();\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Geon.ts\n\r\n\r\nclass Geon {\r\n    constructor(canvas, useWebGl) {\r\n        this.looping = false;\r\n        this.keysDown = {};\r\n        this.keysPressed = [];\r\n        this.mouse = Vector2.zero();\r\n        this.worldMouse = Vector2.zero();\r\n        this.mouseLeftDown = false;\r\n        this.mouseLeftPressed = false;\r\n        this.mouseLeftPrev = false;\r\n        this.mouseRightDown = false;\r\n        this.mouseRightPressed = false;\r\n        this.mouseRightPrev = false;\r\n        this.mouseMiddleDown = false;\r\n        this.mouseMiddlePressed = false;\r\n        this.mouseMiddlePrev = false;\r\n        // --- LOG \r\n        this.isLogging = true;\r\n        // window\r\n        this.canvas = canvas;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n        this.setWindow();\r\n        // window.onresize = this.setWindow;\r\n        // rendering\r\n        this.r = new Renderer2(canvas, this);\r\n        // TODO : build\r\n        // this.webgl = new Renderer3(this.canvas);\r\n        // time\r\n        this.tick = 0;\r\n        this.oldTime = Date.now();\r\n        this.newTime = this.oldTime;\r\n        // mouse\r\n        canvas.onmousemove = this.setMousePos.bind(this);\r\n        canvas.onmousedown = this.setMouseDown.bind(this);\r\n        canvas.onmouseup = this.setMouseUp.bind(this);\r\n        canvas.oncontextmenu = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n        // keyboard\r\n        canvas.onkeydown = this.onKeyDown.bind(this);\r\n        canvas.onkeypress = this.onKeyPressed.bind(this);\r\n        canvas.onkeyup = this.onKeyUp.bind(this);\r\n        for (let i = 0; i < 223; i++) {\r\n            this.keysDown[i] = false;\r\n        }\r\n        canvas.focus();\r\n    }\r\n    // ...\r\n    load(game) {\r\n        var _a;\r\n        (_a = this.r) === null || _a === void 0 ? void 0 : _a.reset();\r\n        this.program = game;\r\n        game.start(this);\r\n        if (!this.looping)\r\n            this.loop();\r\n    }\r\n    loadMeta(program) {\r\n        this.meta = program;\r\n        program.start(this);\r\n    }\r\n    IsKeyDown(key) {\r\n        return this.keysDown[key];\r\n    }\r\n    IsKeyPressed(key) {\r\n        return this.keysPressed.includes(key);\r\n    }\r\n    onKeyDown(e) {\r\n        if (this.keysDown[e.key] == true)\r\n            return;\r\n        console.log(e.key);\r\n        this.keysDown[e.key.toLowerCase()] = true;\r\n        this.keysPressed.push(e.key);\r\n    }\r\n    onKeyUp(e) {\r\n        this.keysDown[e.key.toLowerCase()] = false;\r\n    }\r\n    onKeyPressed(e) {\r\n    }\r\n    // ...\r\n    loop() {\r\n        this.looping = true;\r\n        let startTime = Date.now();\r\n        let minimumTick = 1000 / 144;\r\n        function step() {\r\n            var _a, _b, _c;\r\n            // update time\r\n            this.newTime = Date.now();\r\n            this.tick = (this.newTime - this.oldTime);\r\n            this.oldTime = this.newTime;\r\n            // update mouse\r\n            this.mouseLeftPressed = (this.mouseLeftPrev != this.mouseLeftDown) && this.mouseLeftDown;\r\n            this.mouseRightPressed = (this.mouseRightPrev != this.mouseRightDown) && this.mouseRightDown;\r\n            this.mouseMiddlePressed = (this.mouseMiddlePrev != this.mouseMiddleDown) && this.mouseMiddleDown;\r\n            this.mouseLeftPrev = this.mouseLeftDown;\r\n            this.mouseRightPrev = this.mouseRightDown;\r\n            this.mouseMiddlePrev = this.mouseMiddleDown;\r\n            // TODO : dont update if nothing moved (?)\r\n            this.program.update(this);\r\n            (_a = this.r) === null || _a === void 0 ? void 0 : _a.clear();\r\n            this.program.draw(this);\r\n            // update metaprogram afterwards\r\n            (_b = this.meta) === null || _b === void 0 ? void 0 : _b.update(this);\r\n            (_c = this.meta) === null || _c === void 0 ? void 0 : _c.draw(this);\r\n            // refresh keypresses\r\n            this.keysPressed = [];\r\n            // Call the game loop\r\n            window.requestAnimationFrame(step.bind(this));\r\n        }\r\n        window.requestAnimationFrame(step.bind(this));\r\n    }\r\n    setMousePos(e) {\r\n        // this is a bit messy, BUT, multiply by camera parameters\r\n        this.mouse = new Vector2(e.clientX, e.clientY);\r\n        this.worldMouse = this.r.revertOffset(this.mouse);\r\n    }\r\n    setMouseUp(e) {\r\n        let code = e.buttons;\r\n        if (code < 4) {\r\n            this.mouseMiddleDown = false;\r\n        }\r\n        if (code < 2) {\r\n            this.mouseRightDown = false;\r\n        }\r\n        if (code < 1) {\r\n            this.mouseLeftDown = false;\r\n        }\r\n    }\r\n    setMouseDown(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let code = e.buttons;\r\n        if (code >= 4) {\r\n            code -= 4;\r\n            this.mouseMiddleDown = true;\r\n        }\r\n        if (code >= 2) {\r\n            code -= 2;\r\n            this.mouseRightDown = true;\r\n        }\r\n        if (code >= 1) {\r\n            code -= 1;\r\n            this.mouseLeftDown = true;\r\n        }\r\n        return false;\r\n    }\r\n    setWindow() {\r\n        console.log("setting window...");\r\n        this.canvas.width = document.body.clientWidth;\r\n        this.canvas.height = document.body.clientHeight;\r\n        this.canvas.style.width = this.canvas.width + "px";\r\n        this.canvas.style.height = this.canvas.height + "px";\r\n        this.width = this.canvas.width;\r\n        this.height = this.canvas.height;\r\n        this.bounds = new Vector2(this.width, this.height);\r\n    }\r\n    log(message) {\r\n        if (!this.isLogging)\r\n            return;\r\n        console.log(message);\r\n    }\r\n    stopLogging() {\r\n        this.isLogging = false;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program.ts\nclass Program {\r\n    constructor() {\r\n        this.title = "";\r\n        this.description = "";\r\n    }\r\n    start(geon) {\r\n        //  init geometry \r\n    }\r\n    update(geon) {\r\n        // update geometry\r\n    }\r\n    draw(geon) {\r\n        // draw geometry\r\n    }\r\n    exit(geon) {\r\n        // deallocate ? clean?\r\n    }\r\n}\r\n// just a flag for now\r\nclass MetaProgram extends Program {\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/SelectorMetaProgram.ts\n\r\n\r\n// metaprogram\r\nclass SelectorMetaProgram extends MetaProgram {\r\n    constructor(programs) {\r\n        super();\r\n        this.current = 0;\r\n        this.isAnimating = false;\r\n        this.animationCounter = 1;\r\n        this.comeback = false;\r\n        this.programs = programs;\r\n        if (this.programs.length == 0)\r\n            throw "Need at least 1 program!";\r\n    }\r\n    start(geon) {\r\n        this.programs[this.current];\r\n    }\r\n    update(geon) {\r\n        // listen for keypresses \r\n        // stupid i know. More specific listening would be better.\r\n        for (let i = 1; i < 10; i++) {\r\n            if (geon.IsKeyPressed(i.toString())) {\r\n                this.prepareSwapProgram(i - 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    draw(geon) {\r\n        // draw instructions \r\n        if (geon.program != null) {\r\n            geon.r.text("[" + (this.current + 1) + "] " + geon.program.title, new Vector2(10, 20));\r\n            geon.r.text("tab using [1] - [" + this.programs.length + "]", new Vector2(10, 50));\r\n        }\r\n        geon.r.text("use left and right mouse button to interact", new Vector2(10, 80));\r\n        if (geon.program != null)\r\n            geon.r.text(geon.program.description, new Vector2(10, 110));\r\n        // draw transitions\r\n        const speed = 0.015;\r\n        if (this.isAnimating) {\r\n            if (this.animationCounter > 1) {\r\n                this.isAnimating = false;\r\n            }\r\n            geon.r.clearFade(1 - this.animationCounter);\r\n            if (this.animationCounter > 0) {\r\n                if (this.comeback)\r\n                    this.animationCounter += speed;\r\n                else\r\n                    this.animationCounter -= speed;\r\n            }\r\n            else {\r\n                this.animationCounter += 0.01;\r\n                this.comeback = true;\r\n                this.swapProgram(geon);\r\n            }\r\n        }\r\n    }\r\n    prepareSwapProgram(num) {\r\n        if (num < 0 || num >= this.programs.length) {\r\n            console.log("no program [" + num.toString() + "].");\r\n            return;\r\n        }\r\n        console.log("swapping to program " + num.toString());\r\n        // prepare for animation\r\n        this.current = num;\r\n        this.isAnimating = true;\r\n        this.comeback = false;\r\n        this.animationCounter = 1;\r\n        // load\r\n        // fade in\r\n    }\r\n    swapProgram(geon) {\r\n        geon.load(new this.programs[this.current]());\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program1.ts\n\r\n\r\nclass BounceBallsProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.points = [];\r\n        this.vectors = [];\r\n        this.count = 100;\r\n        this.speed = 2;\r\n        this.title = \'bounce_balls\';\r\n        this.description = "press v to turn trails off";\r\n    }\r\n    start(geon) {\r\n        geon.r.slowfade = true;\r\n        this.points = new Array(this.count);\r\n        this.vectors = new Array(this.count);\r\n        for (let i = 0; i < this.count; i++) {\r\n            this.points[i] = Vector2.fromRandom().mul(geon.bounds);\r\n            this.vectors[i] = Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize();\r\n        }\r\n        console.log("created a bunch of points");\r\n    }\r\n    update(geon) {\r\n        for (let i = 0; i < this.count; i++) {\r\n            let p = this.points[i];\r\n            let v = this.vectors[i];\r\n            if (geon.mouseLeftDown) {\r\n                // disrupt the vector, based on how closeby the mouse is\r\n                let dir = Vector2.from2Pt(p, geon.mouse);\r\n                let length = dir.length();\r\n                dir.normalize().scale(Math.min(4, 100 / length));\r\n                v.add(dir);\r\n            }\r\n            p.add(v);\r\n            let length = v.length();\r\n            if (length > this.speed) {\r\n                v.setLength(length * 0.99);\r\n            }\r\n            // bounce at edge\r\n            if (p.x < 0 || p.x > geon.bounds.x)\r\n                v.x = -v.x;\r\n            if (p.y < 0 || p.y > geon.bounds.y)\r\n                v.y = -v.y;\r\n        }\r\n        // if mouse is nearby, move away from it\r\n        if (geon.mouseRightPressed) {\r\n            for (let i = 0; i < 100; i++) {\r\n                this.count += 1;\r\n                this.points.push(Vector2.fromRandom().mul(geon.bounds));\r\n                this.vectors.push(Vector2.fromRandom().sub(new Vector2(0.5, 0.5)).normalize());\r\n            }\r\n        }\r\n        if (geon.IsKeyPressed(\'v\')) {\r\n            console.log("tab");\r\n            geon.r.slowfade = !geon.r.slowfade;\r\n        }\r\n    }\r\n    draw(geon) {\r\n        this.points.forEach(p => geon.r.point(p.x, p.y));\r\n        // draw at mouse position;\r\n        if (geon.mouseLeftDown) {\r\n            geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        }\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/geo/Delaunay.ts\n// author : Jos Feenstra\r\n// TODO: extend from a generic triangulation? might be nice to have\r\n\r\nclass Delaunay {\r\n    constructor() {\r\n        // ... Util\r\n        // store the last triangle\r\n        this.walkCursor = 0;\r\n        this.pts = [];\r\n        this.trs = [];\r\n        this.cc = [];\r\n        // init big base triangle\r\n        this.pts.push(new Vector2(-10000, -10000));\r\n        this.pts.push(new Vector2(10000, -10000));\r\n        this.pts.push(new Vector2(0, 10000));\r\n        this.trs.push([0, 1, 2, -1, -1, -1]);\r\n    }\r\n    // ... Getters \r\n    getVertices() {\r\n        return this.pts;\r\n    }\r\n    getEdges() {\r\n        let edges = [];\r\n        for (let tr of this.trs) {\r\n            let a = this.pts[tr[0]];\r\n            let b = this.pts[tr[1]];\r\n            let c = this.pts[tr[2]];\r\n            edges.push(a);\r\n            edges.push(b);\r\n            edges.push(a);\r\n            edges.push(c);\r\n            edges.push(b);\r\n            edges.push(c);\r\n        }\r\n        return edges;\r\n    }\r\n    getCC() {\r\n        return { cc: this.cc, r: this.cc.map((c, i) => c.disTo(this.pts[this.trs[i][0]])) };\r\n    }\r\n    calculateCC() {\r\n        this.cc = this.trs.map(tr => Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]));\r\n    }\r\n    getVoronoiEdges(calculateCC = false) {\r\n        let edges = [];\r\n        if (calculateCC || this.cc.length != this.trs.length)\r\n            this.calculateCC();\r\n        // per nb relation : if its not -1 : build an edge between nb cc\'s. \r\n        for (let i = 0; i < this.trs.length; i++) {\r\n            let triangle = this.trs[i];\r\n            for (let ii = 3; ii < 6; ii++) {\r\n                let nb = triangle[ii];\r\n                if (nb == -1)\r\n                    continue;\r\n                edges.push(this.cc[i]);\r\n                edges.push(this.cc[nb]);\r\n            }\r\n        }\r\n        return edges;\r\n    }\r\n    // ... Interface\r\n    Insert(insertion) {\r\n        // dont insert if too similar to existing \r\n        if (this.pts.some(v => insertion.roughlyEquals(v, 0.1))) {\r\n            console.log("to close to existing point");\r\n            return false;\r\n        }\r\n        // add it\r\n        const inID = this.pts.length;\r\n        this.pts.push(insertion);\r\n        // get triangle and ID values\r\n        const trID = this.selectTriangle(insertion);\r\n        if (trID == -1) {\r\n            console.log("triangle walk failed");\r\n            return false;\r\n        }\r\n        const tr = this.trs[trID];\r\n        const original_a_ID = tr[0];\r\n        const original_b_ID = tr[1];\r\n        const original_c_ID = tr[2];\r\n        const original_bcID = tr[3];\r\n        const original_caID = tr[4];\r\n        const original_abID = tr[5];\r\n        const abID = trID;\r\n        const bcID = this.trs.length;\r\n        const caID = this.trs.length + 1;\r\n        // edit 1 triangle, add 2 new ones \r\n        this.trs[trID] = [original_a_ID, original_b_ID, inID, bcID, caID, original_abID];\r\n        this.trs.push([original_b_ID, original_c_ID, inID, caID, abID, original_bcID]);\r\n        this.trs.push([original_c_ID, original_a_ID, inID, abID, bcID, original_caID]);\r\n        // fix topology\r\n        this.replaceNeighbor(original_bcID, trID, bcID);\r\n        this.replaceNeighbor(original_caID, trID, caID);\r\n        this.makeDelaunay([abID, bcID, caID], inID);\r\n        // succes!\r\n        return true;\r\n    }\r\n    selectTriangle(target) {\r\n        // select a triangle based on a walking triangle algorithm\r\n        const combinations = [[0, 1, 2], [1, 2, 0], [2, 0, 1]];\r\n        let trID = this.walkCursor;\r\n        for (let _ = 0; _ < this.trs.length; _++) {\r\n            for (let c of combinations) {\r\n                if (trID == -1)\r\n                    return -1;\r\n                let sign = Vector2.getSign(target, this.pts[this.trs[trID][c[0]]], this.pts[this.trs[trID][c[1]]]);\r\n                if (sign < 0) {\r\n                    trID = this.getNeighborTriangle(trID, this.trs[trID][c[2]]);\r\n                    break;\r\n                }\r\n                if (c[0] == 2) {\r\n                    this.walkCursor = trID;\r\n                    return trID;\r\n                }\r\n            }\r\n        }\r\n        // too many steps have been taken\r\n        this.walkCursor = 0;\r\n        return -1;\r\n    }\r\n    makeDelaunay(trIDS, pID) {\r\n        // flip until graph is delaunay\r\n        while (trIDS.length > 0) {\r\n            let trID = trIDS.pop();\r\n            let tr = this.trs[trID];\r\n            let nbID = this.getNeighborTriangle(trID, pID);\r\n            if (nbID == -1)\r\n                continue;\r\n            let qID = this.getNeighborPoint(nbID, trID);\r\n            let q = this.pts[qID];\r\n            let c = Vector2.fromCircumcenter(this.pts[tr[0]], this.pts[tr[1]], this.pts[tr[2]]);\r\n            if (c.equals(Vector2[NaN]())) {\r\n                continue;\r\n            }\r\n            let radius = c.disTo(this.pts[tr[0]]);\r\n            if (c.disTo(q) < radius) {\r\n                // flip!\r\n                // points p, q, r and s\r\n                const rID = tr[0];\r\n                const sID = tr[1];\r\n                // foreign neighbors \r\n                const fnb_1 = this.getNeighborTriangle(trID, rID);\r\n                const fnb_2 = this.getNeighborTriangle(trID, sID);\r\n                const fnb_3 = this.getNeighborTriangle(nbID, rID);\r\n                const fnb_4 = this.getNeighborTriangle(nbID, sID);\r\n                this.replaceNeighbor(fnb_1, trID, nbID);\r\n                this.replaceNeighbor(fnb_4, nbID, trID);\r\n                this.trs[trID] = [rID, qID, pID, nbID, fnb_2, fnb_4];\r\n                this.trs[nbID] = [qID, sID, pID, fnb_1, trID, fnb_3];\r\n                trIDS.push(trID);\r\n                trIDS.push(nbID);\r\n            }\r\n        }\r\n    }\r\n    // ... Helpers\r\n    replaceNeighbor(trID, nbOld, nbNew) {\r\n        // there are prettier ways, but this is fast\r\n        if (trID == -1)\r\n            return;\r\n        if (this.trs[trID][3] == nbOld)\r\n            this.trs[trID][3] = nbNew;\r\n        else if (this.trs[trID][4] == nbOld)\r\n            this.trs[trID][4] = nbNew;\r\n        else if (this.trs[trID][5] == nbOld)\r\n            this.trs[trID][5] = nbNew;\r\n        else\r\n            console.log("replace neighbor failed!");\r\n    }\r\n    getNeighborTriangle(triangleID, pointID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][0] == pointID)\r\n            index = 3;\r\n        if (this.trs[triangleID][1] == pointID)\r\n            index = 4;\r\n        if (this.trs[triangleID][2] == pointID)\r\n            index = 5;\r\n        return this.trs[triangleID][index];\r\n    }\r\n    getNeighborPoint(triangleID, neighborID) {\r\n        let index = -1;\r\n        if (this.trs[triangleID][3] == neighborID)\r\n            index = 0;\r\n        if (this.trs[triangleID][4] == neighborID)\r\n            index = 1;\r\n        if (this.trs[triangleID][5] == neighborID)\r\n            index = 2;\r\n        return this.trs[triangleID][index];\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/ProgramHelpers.ts\n\r\nclass ProgramHelpers {\r\n    static getMovementVector(geon, minspeed, maxspeed) {\r\n        let speed = minspeed;\r\n        let velocity = new Vector2(0, 0);\r\n        if (geon.IsKeyDown("shift"))\r\n            speed = maxspeed;\r\n        if (geon.IsKeyDown("arrowup") || geon.IsKeyDown("w"))\r\n            velocity.add(new Vector2(0, 1));\r\n        if (geon.IsKeyDown("arrowdown") || geon.IsKeyDown("s"))\r\n            velocity.add(new Vector2(0, -1));\r\n        if (geon.IsKeyDown("arrowleft") || geon.IsKeyDown("a"))\r\n            velocity.add(new Vector2(1, 0));\r\n        if (geon.IsKeyDown("arrowright") || geon.IsKeyDown("d"))\r\n            velocity.add(new Vector2(-1, 0));\r\n        return velocity.setLength(speed);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program2.ts\n\r\n\r\n\r\n\r\nclass DelaunayProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.SWITCH_KEY = \'v\';\r\n        this.switch = 0;\r\n        this.dt = new Delaunay();\r\n        this.p = [];\r\n        // overrides\r\n        this.title = \'delaunay\';\r\n        this.description = `use ${this.SWITCH_KEY} to change visuals`;\r\n    }\r\n    start(geon) {\r\n        let pt = new Vector2(geon.width / 2, geon.height / 2);\r\n        this.add(pt);\r\n    }\r\n    update(geon) {\r\n        if (geon.mouseLeftPressed) {\r\n            let insertion = Vector2.fromCopy(geon.worldMouse);\r\n            this.add(insertion);\r\n        }\r\n        if (geon.mouseRightDown) {\r\n            this.pull(geon.worldMouse);\r\n        }\r\n        if (geon.IsKeyPressed(this.SWITCH_KEY)) {\r\n            this.switch += 1;\r\n            if (this.switch > 2)\r\n                this.switch = 0;\r\n        }\r\n        // lerp dt back to original\r\n        this.dt.getVertices().forEach((e, i) => {\r\n            e.lerp(this.p[i], 0.05);\r\n        });\r\n        // update camera\r\n        let vel = ProgramHelpers.getMovementVector(geon, 2 / geon.r.scale, 5 / geon.r.scale);\r\n        geon.r.offset.add(vel);\r\n        if (geon.IsKeyPressed(\'q\'))\r\n            geon.r.scale *= 1.5;\r\n        if (geon.IsKeyPressed(\'e\'))\r\n            geon.r.scale *= 0.5;\r\n    }\r\n    draw(geon) {\r\n        // draw cursor\r\n        geon.r.point(geon.mouse.x, geon.mouse.y);\r\n        // draw points\r\n        geon.r.points(this.dt.getVertices());\r\n        if (this.switch == 0) {\r\n            // draw delaunay triangulation\r\n            geon.r.lineSegments(this.dt.getEdges());\r\n        }\r\n        else if (this.switch == 1) {\r\n            // draw voronoi diagram\r\n            geon.r.lineSegments(this.dt.getVoronoiEdges(true));\r\n        }\r\n        else if (this.switch == 2) {\r\n            //draw circumcircles\r\n            this.dt.calculateCC();\r\n            let data = this.dt.getCC();\r\n            geon.r.circles(data.cc, data.r);\r\n        }\r\n    }\r\n    // ...\r\n    add(v) {\r\n        // simulate impact\r\n        this.dt.Insert(v);\r\n        // original points\r\n        this.p = this.dt.getVertices().map(e => {\r\n            return e.clone();\r\n        });\r\n        this.disturb(v, 20, 800);\r\n    }\r\n    pull(v) {\r\n        // displace dt \r\n        // this.dt.getVertices().forEach(e => {\r\n        //     e.add(Vector2.fromRandomAngle().scale(Math.min(10, 500 / e.disTo(v))))\r\n        // })\r\n        // displace dt \r\n        let vertices = this.dt.getVertices();\r\n        for (let i = 0; i < vertices.length; i++) {\r\n            let e = vertices[i];\r\n            let target = this.p[i];\r\n            let difference = Vector2.from2Pt(v, target);\r\n            let length = difference.length();\r\n            if (length < 5)\r\n                continue;\r\n            e.add(difference.normalize().scale(Math.min(1, 500 / length)));\r\n        }\r\n    }\r\n    disturb(v, strength, range) {\r\n        // displace dt \r\n        this.dt.getVertices().forEach(e => {\r\n            e.add(Vector2.fromRandomAngle().scale(Math.min(strength, range / e.disTo(v))));\r\n        });\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/geo/Linelikes.ts\n// author : Jos Feenstra\r\nclass Linelike {\r\n    draw(ctx) {\r\n    }\r\n}\r\nclass Line extends Linelike {\r\n    constructor(from, to) {\r\n        super();\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n    draw(ctx) {\r\n        ctx.moveTo(this.from.x, this.from.y);\r\n        ctx.lineTo(this.to.x, this.to.y);\r\n    }\r\n}\r\nclass Polyline extends (/* unused pure expression or super */ null && (Linelike)) {\r\n    constructor(verts) {\r\n        super();\r\n        this.verts = verts;\r\n    }\r\n    draw(ctx) {\r\n        if (this.verts.length < 2)\r\n            return;\r\n        ctx.moveTo(this.verts[0].x, this.verts[0].y);\r\n        for (let i = 1; i < this.verts.length; i++) {\r\n            ctx.lineTo(this.verts[i].x, this.verts[i].y);\r\n        }\r\n    }\r\n}\r\nclass Arc extends Linelike {\r\n    constructor(from, via, to) {\r\n        super();\r\n        this.from = from;\r\n        this.via = via;\r\n        this.to = to;\r\n    }\r\n    draw(ctx) {\r\n        ctx.moveTo(this.from.x, this.from.y);\r\n        ctx.quadraticCurveTo(this.via.x, this.via.y, this.to.x, this.to.y);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program3.ts\n\r\n\r\n\r\nclass GridProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.title = "grid";\r\n        this.description = "";\r\n        // params\r\n        this.count = 25;\r\n        this.highlight = Vector2.zero();\r\n        this.points = [];\r\n        this.colorsRed = [];\r\n        this.colorsBlue = [];\r\n        this.xCount = 0;\r\n        this.yCount = 0;\r\n        this.d = 0;\r\n        this.oldLocal = Vector2.zero();\r\n        this._thing = 0;\r\n        this._halfd = this.d / 2;\r\n    }\r\n    start(geon) {\r\n        this.create(geon, this.count, this.colorsRed, true);\r\n        this.create(geon, this.count, this.colorsBlue, false);\r\n    }\r\n    update(geon) {\r\n        this.updateCursor(geon);\r\n        this.updateMaze(geon);\r\n    }\r\n    draw(geon) {\r\n        // points\r\n        const color1 = "#ffffff";\r\n        const color2 = "#222222";\r\n        const color3 = "#aaaaaa";\r\n        // for (let i = 0; i < this.points.length; i++)\r\n        // {\r\n        //     let v = this.points[i];\r\n        //     if (!this.colorsRed[i]) \r\n        //         geon.r.pointColored(v.x, v.y, color2);\r\n        // }\r\n        // red lines \r\n        let lines = this.getLines(geon, this.colorsRed);\r\n        geon.r.setLineSettings(15, "#440000");\r\n        lines.forEach(line => geon.r.line(line));\r\n        geon.r.setLineSettings(4, "#ff0000");\r\n        lines.forEach(line => geon.r.line(line));\r\n        geon.r.setLineSettings(2, "#ff6666");\r\n        lines.forEach(line => geon.r.line(line));\r\n        // blue lines \r\n        lines = this.getLines(geon, this.colorsBlue);\r\n        geon.r.setLineSettings(15, "#000099");\r\n        lines.forEach(line => geon.r.line(line));\r\n        geon.r.setLineSettings(7, "#0000ff");\r\n        lines.forEach(line => geon.r.line(line));\r\n        geon.r.setLineSettings(3, "#5555ff");\r\n        lines.forEach(line => geon.r.line(line));\r\n        // cursor \r\n        geon.r.setColor("#ffffff");\r\n        geon.r.setColor(color1);\r\n        geon.r.circle(this.highlight, 10);\r\n        geon.r.reset();\r\n    }\r\n    exit(geon) {\r\n    }\r\n    // -\r\n    create(geon, count, grid, random) {\r\n        // for good spacing\r\n        this.yCount = count;\r\n        this.d = geon.height / (this.yCount + 1);\r\n        this.xCount = Math.round(geon.width / this.d) - 1;\r\n        for (let y = 0; y < this.yCount; y++) {\r\n            for (let x = 0; x < this.xCount; x++) {\r\n                if (random) {\r\n                    this.points.push(new Vector2(this.d + x * this.d, this.d + y * this.d));\r\n                    grid.push(Math.random() > 0.5 ? 1 : 0);\r\n                }\r\n                else {\r\n                    grid.push(0); // fill zero\r\n                }\r\n            }\r\n        }\r\n    }\r\n    updateCursor(geon) {\r\n        let local = this.toLocalCoord(geon.mouse);\r\n        this.highlight = this.toGrid(local);\r\n        let i = (local.y - 1) * (this.xCount) + (local.x - 1);\r\n        // // simplified\r\n        // let leftSwatch = 1;\r\n        // let rightSwatch = 0;\r\n        // if (geon.mouseLeftDown)\r\n        // {\r\n        //     this.colorsRed[i] = 1;\r\n        // } \r\n        // if (geon.mouseRightDown)\r\n        // {\r\n        //     this.colorsRed[i] = 0;\r\n        // } \r\n        this.description = local.toString();\r\n        this.description += this.yCount + ".." + this.xCount;\r\n        this.description += " | " + i.toString();\r\n        if (geon.mouseLeftPressed) {\r\n            this.colorsRed[i] = this.colorsRed[i] > 0 ? 0 : 1;\r\n            this._thing = this.colorsRed[i];\r\n        }\r\n        if (geon.mouseLeftDown && !this.oldLocal.equals(local)) {\r\n            this.colorsRed[i] = this._thing;\r\n        }\r\n        if (geon.mouseRightPressed) {\r\n            this.colorsBlue[i] = this.colorsBlue[i] > 0 ? 0 : 1;\r\n            this._thing = this.colorsBlue[i];\r\n        }\r\n        if (geon.mouseRightDown && !this.oldLocal.equals(local)) {\r\n            this.colorsBlue[i] = this._thing;\r\n        }\r\n        this.oldLocal = local;\r\n    }\r\n    updateMaze(geon) {\r\n        if (geon.IsKeyPressed(\'m\')) {\r\n            return;\r\n        }\r\n    }\r\n    toLocalCoord(worldCoord) {\r\n        let x = Math.round(worldCoord.x / this.d);\r\n        let y = Math.round(worldCoord.y / this.d);\r\n        return new Vector2(x, y);\r\n    }\r\n    toGrid(localCoord) {\r\n        return new Vector2(localCoord.x * this.d, localCoord.y * this.d);\r\n    }\r\n    getLines(geon, grid) {\r\n        let lines = [];\r\n        for (let y = 0; y < this.yCount + 1; y++) {\r\n            for (let x = 0; x < this.xCount + 1; x++) {\r\n                let corner = this.toGrid(new Vector2(x, y));\r\n                let state = this.getState(this.getColor(x, y, grid), this.getColor(x + 1, y, grid), this.getColor(x, y + 1, grid), this.getColor(x + 1, y + 1, grid));\r\n                this.getRoundCell(geon, corner, state, lines);\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n    drawCell(geon, corner, casus) {\r\n        this._halfd = this.d / 2;\r\n        let top = new Vector2(this._halfd, 0).add(corner);\r\n        let left = new Vector2(0, this._halfd).add(corner);\r\n        let right = new Vector2(this.d, this._halfd).add(corner);\r\n        let bottom = new Vector2(this._halfd, this.d).add(corner);\r\n        switch (casus) {\r\n            case 1:\r\n                this.addLine(geon, top, left);\r\n                break;\r\n            case 2:\r\n                this.addLine(geon, top, right);\r\n                break;\r\n            case 3:\r\n                this.addLine(geon, left, right);\r\n                break;\r\n            case 4:\r\n                this.addLine(geon, left, bottom);\r\n                break;\r\n            case 5:\r\n                this.addLine(geon, top, bottom);\r\n                break;\r\n            case 6:\r\n                this.addLine(geon, top, left);\r\n                this.addLine(geon, bottom, right);\r\n                break;\r\n            case 7:\r\n                this.addLine(geon, bottom, right);\r\n                break;\r\n            case 8:\r\n                this.addLine(geon, bottom, right);\r\n                break;\r\n            case 9:\r\n                this.addLine(geon, top, right);\r\n                this.addLine(geon, left, bottom);\r\n                break;\r\n            case 10:\r\n                this.addLine(geon, top, bottom);\r\n                break;\r\n            case 11:\r\n                this.addLine(geon, left, bottom);\r\n                break;\r\n            case 12:\r\n                this.addLine(geon, left, right);\r\n                break;\r\n            case 13:\r\n                this.addLine(geon, top, right);\r\n                break;\r\n            case 14:\r\n                this.addLine(geon, top, left);\r\n                break;\r\n            case 15:\r\n                // fully filled\r\n                break;\r\n        }\r\n    }\r\n    getNeonCell(geon2, corner, casus, lines) {\r\n        // shorthand stuff\r\n        let d1 = this.d * 0.40;\r\n        let d2 = this.d * 0.50;\r\n        let d3 = this.d * 0.60;\r\n        let d4 = this.d;\r\n        let top1 = new Vector2(d1, 0).add(corner);\r\n        let top2 = new Vector2(d3, 0).add(corner);\r\n        let left1 = new Vector2(0, d1).add(corner);\r\n        let left2 = new Vector2(0, d3).add(corner);\r\n        let right1 = new Vector2(d4, d1).add(corner);\r\n        let right2 = new Vector2(d4, d3).add(corner);\r\n        let bottom1 = new Vector2(d1, d4).add(corner);\r\n        let bottom2 = new Vector2(d3, d4).add(corner);\r\n        let center = new Vector2(d2, d2).add(corner);\r\n        switch (casus) {\r\n            case 1:\r\n                lines.push(new Line(top1, left1));\r\n                lines.push(new Line(top2, left2));\r\n                break;\r\n            case 2:\r\n                lines.push(new Line(top1, right2));\r\n                lines.push(new Line(top2, right1));\r\n                break;\r\n            case 3:\r\n                lines.push(new Line(left1, right1));\r\n                lines.push(new Line(left2, right2));\r\n                break;\r\n            case 4:\r\n                lines.push(new Line(left2, bottom1));\r\n                lines.push(new Line(left1, bottom2));\r\n                break;\r\n            case 5:\r\n                lines.push(new Line(top1, bottom1));\r\n                lines.push(new Line(top2, bottom2));\r\n                break;\r\n            case 6:\r\n                lines.push(new Line(top1, left1));\r\n                lines.push(new Line(top2, left2));\r\n                lines.push(new Line(bottom1, right1));\r\n                lines.push(new Line(bottom2, right2));\r\n                break;\r\n            case 7:\r\n                lines.push(new Line(bottom1, right1));\r\n                lines.push(new Line(bottom2, right2));\r\n                break;\r\n            case 8:\r\n                lines.push(new Line(bottom1, right1));\r\n                lines.push(new Line(bottom2, right2));\r\n                break;\r\n            case 9:\r\n                lines.push(new Line(top2, right1));\r\n                lines.push(new Line(top1, right2));\r\n                lines.push(new Line(left2, bottom1));\r\n                lines.push(new Line(left1, bottom2));\r\n                break;\r\n            case 10:\r\n                lines.push(new Line(top1, bottom1));\r\n                lines.push(new Line(top2, bottom2));\r\n                break;\r\n            case 11:\r\n                lines.push(new Line(left2, bottom1));\r\n                lines.push(new Line(left1, bottom2));\r\n                break;\r\n            case 12:\r\n                lines.push(new Line(left1, right1));\r\n                lines.push(new Line(left2, right2));\r\n                break;\r\n            case 13:\r\n                lines.push(new Line(top2, right1));\r\n                lines.push(new Line(top1, right2));\r\n                break;\r\n            case 14:\r\n                lines.push(new Line(top1, left1));\r\n                lines.push(new Line(top2, left2));\r\n                break;\r\n            case 15:\r\n                // fully filled\r\n                break;\r\n        }\r\n    }\r\n    getRoundCell(geon2, corner, casus, lines) {\r\n        // shorthand stuff\r\n        let d2 = this.d * 0.50;\r\n        let d4 = this.d;\r\n        let top = new Vector2(d2, 0).add(corner);\r\n        let left = new Vector2(0, d2).add(corner);\r\n        let right = new Vector2(d4, d2).add(corner);\r\n        let bot = new Vector2(d2, d4).add(corner);\r\n        let mid = new Vector2(d2, d2).add(corner);\r\n        switch (casus) {\r\n            case 1:\r\n                lines.push(new Arc(top, mid, left));\r\n                break;\r\n            case 2:\r\n                lines.push(new Arc(top, mid, right));\r\n                break;\r\n            case 3:\r\n                lines.push(new Arc(left, mid, right));\r\n                break;\r\n            case 4:\r\n                lines.push(new Arc(left, mid, bot));\r\n                break;\r\n            case 5:\r\n                lines.push(new Line(top, bot));\r\n                break;\r\n            case 6:\r\n                lines.push(new Line(left, right));\r\n                // lines.push(new Arc(top, mid, left));\r\n                // lines.push(new Arc(bottom, mid, right));\r\n                break;\r\n            case 7:\r\n                lines.push(new Arc(bot, mid, right));\r\n                break;\r\n            case 8:\r\n                lines.push(new Arc(bot, mid, right));\r\n                break;\r\n            case 9:\r\n                // lines.push(new Line(top, bot));\r\n                lines.push(new Arc(top, mid, right));\r\n                lines.push(new Arc(left, mid, bot));\r\n                break;\r\n            case 10:\r\n                lines.push(new Line(top, bot));\r\n                break;\r\n            case 11:\r\n                lines.push(new Arc(left, mid, bot));\r\n                break;\r\n            case 12:\r\n                lines.push(new Line(left, right));\r\n                break;\r\n            case 13:\r\n                lines.push(new Arc(top, mid, right));\r\n                break;\r\n            case 14:\r\n                lines.push(new Arc(top, mid, left));\r\n                break;\r\n            case 15:\r\n                // fully filled\r\n                break;\r\n        }\r\n    }\r\n    addLine(geon, from, to) {\r\n        geon.r.line(new Line(from, to));\r\n    }\r\n    getState(first, second, third, forth) {\r\n        return first * 1 + second * 2 + third * 4 + forth * 8;\r\n    }\r\n    getColor(x, y, grid) {\r\n        if (x > this.xCount || y > this.yCount)\r\n            return 0;\r\n        let i = (y - 1) * (this.xCount) + (x - 1);\r\n        if (i < 0 || i > grid.length - 1)\r\n            return 0;\r\n        return grid[i];\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/geo/Graph.ts\n// author : Jos Feenstra\r\n// NOTE --- i dont really like this data structure. See if we can do something smarter. \r\n//      --- I will start working on a Half Edge implementation\r\n\r\nconst INVALID = (/* unused pure expression or super */ null && (-1));\r\nclass Graph {\r\n    constructor() {\r\n        this.pts = [];\r\n        this.edges = [];\r\n    }\r\n    // --- HANDLE DATA\r\n    addPoint(point) {\r\n        let index = this.pts.length;\r\n        this.pts.push(point);\r\n        this.edges[index] = [];\r\n        return this.pts.length - 1;\r\n    }\r\n    removePoint(pointIndex) {\r\n        // remove foreign adressses\r\n        if (!this.removeEdgesFrom(pointIndex))\r\n            console.log("failed to properly delete foreign edges!");\r\n        // remove my list (I hope delete does what i think it does)\r\n        delete this.edges[pointIndex];\r\n        this.pts.splice(pointIndex, undefined);\r\n        return true;\r\n    }\r\n    addEdge(from, to) {\r\n        // assertions\r\n        if (from == to)\r\n            return -1;\r\n        // every edge is stored double\r\n        this.addOneEdge(from, to);\r\n        this.addOneEdge(to, from);\r\n    }\r\n    removeEdge(from, to) {\r\n        // remove the edge, both ways\r\n        this.removeOneEdge(from, to);\r\n        this.removeOneEdge(to, from);\r\n        return true;\r\n    }\r\n    addOneEdge(from, to) {\r\n        if (this.edges[from] === undefined)\r\n            this.edges[from] = [];\r\n        this.edges[from].push(to);\r\n    }\r\n    removeOneEdge(from, to) {\r\n        let id = this.edges[from].indexOf(to);\r\n        this.edges[from].splice(id, 1);\r\n    }\r\n    removeEdgesFrom(pointIndex) {\r\n        try {\r\n            for (let other of this.edges[pointIndex]) {\r\n                this.removeOneEdge(other, pointIndex);\r\n            }\r\n            return true;\r\n        }\r\n        catch (error) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    // --- TODO : STANDARDIZE & CLEANING\r\n    shallowClean() {\r\n        // shallow copy & cleaning procedure\r\n        let graph = new Graph();\r\n        let offset = 0;\r\n        for (let i = 0; i < this.pts.length; i++) {\r\n            if (this.pts[i] === undefined) {\r\n                offset += 1;\r\n            }\r\n            else {\r\n                let newPointIndex = graph.addPoint(this.pts[i]);\r\n                for (let other of this.edges[i]) {\r\n                    let newOtherPointIndex = other; // TODO what to do here hmmmm...\r\n                    graph.addEdge(newPointIndex, newOtherPointIndex);\r\n                }\r\n            }\r\n        }\r\n        return graph;\r\n    }\r\n    // --- Iterators\r\n    GetPoints() {\r\n        // i dont know how to make a nice \'yield\' iterator in typescript, so this should suffice\r\n        var cleanedPoints = [];\r\n        for (let i = 0; i < this.pts.length; i++) {\r\n            if (this.pts[i] === undefined)\r\n                continue;\r\n            cleanedPoints.push(this.pts[i]);\r\n        }\r\n        return cleanedPoints;\r\n    }\r\n    GetEdges() {\r\n        var lines = [];\r\n        for (let i = 0; i < this.pts.length; i++) {\r\n            if (this.pts[i] === undefined)\r\n                continue;\r\n            for (let j of this.edges[i]) {\r\n                if (i > j)\r\n                    continue;\r\n                lines.push(new Line(this.pts[i], this.pts[j]));\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/programs/Program4.ts\n\r\n\r\n\r\nclass TesseraProgram extends Program {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.title = "Tessera";\r\n        this.description = "";\r\n        this.count = 20;\r\n        // --- HELPERS\r\n    }\r\n    start(geon) {\r\n        this.graph = new Graph();\r\n        let wh = new Vector2(geon.width, geon.height);\r\n        let n = 4;\r\n        // build a bunch of points \r\n        for (let i = 0; i < n; i++) {\r\n            this.graph.addPoint(Vector2.fromRandom().mul(wh));\r\n        }\r\n        // interlock all points\r\n        for (let i = 0; i < n; i++) {\r\n            for (let j = 0; j < n; j++) {\r\n                if (i == j)\r\n                    continue;\r\n                if (i > j)\r\n                    continue;\r\n                this.graph.addEdge(i, j);\r\n            }\r\n        }\r\n    }\r\n    update(geon) {\r\n        // this.updateCursor(geon);\r\n    }\r\n    draw(geon) {\r\n        geon.r.points(this.graph.GetPoints());\r\n        for (let line of this.graph.GetEdges()) {\r\n            geon.r.line(line);\r\n        }\r\n        geon.log("klaar");\r\n        geon.stopLogging();\r\n    }\r\n    exit(geon) {\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\nconst programs = [\r\n    BounceBallsProgram,\r\n    DelaunayProgram,\r\n    GridProgram,\r\n    TesseraProgram,\r\n];\r\nfunction main() {\r\n    console.log("loading up...");\r\n    const meta = new SelectorMetaProgram(programs);\r\n    const canvas = document.getElementById("canvas");\r\n    const geon = new Geon(canvas, false);\r\n    geon.loadMeta(meta); // program selector\r\n    geon.load(new GridProgram()); // first program to load  \r\n    console.log("everything loaded.");\r\n}\r\nwindow.onload = main;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLy4vc3JjL21hdGgvVmVjdG9yMi50cz9hY2VkIiwid2VicGFjazovL2dlb24vLi9zcmMvcmVuZGVyZXIvUmVuZGVyZXIudHM/ZmI0OSIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL3JlbmRlcmVyL1JlbmRlcmVyMi50cz8xNTRmIiwid2VicGFjazovL2dlb24vLi9zcmMvR2Vvbi50cz9hNzRkIiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvUHJvZ3JhbS50cz8xYjFiIiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvU2VsZWN0b3JNZXRhUHJvZ3JhbS50cz85ZmE4Iiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvUHJvZ3JhbTEudHM/M2Q1YiIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL2dlby9EZWxhdW5heS50cz8yMjdlIiwid2VicGFjazovL2dlb24vLi9zcmMvcHJvZ3JhbXMvUHJvZ3JhbUhlbHBlcnMudHM/OGUxNCIsIndlYnBhY2s6Ly9nZW9uLy4vc3JjL3Byb2dyYW1zL1Byb2dyYW0yLnRzPzNmYjIiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9nZW8vTGluZWxpa2VzLnRzPzgyNGYiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Qcm9ncmFtMy50cz9kNTJjIiwid2VicGFjazovL2dlb24vLi9zcmMvZ2VvL0dyYXBoLnRzPzMzOWEiLCJ3ZWJwYWNrOi8vZ2Vvbi8uL3NyYy9wcm9ncmFtcy9Qcm9ncmFtNC50cz82Y2ZlIiwid2VicGFjazovL2dlb24vLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsaUZBQWlGO0FBQ2pGLDJCQUEyQjtBQUVwQixNQUFNLE9BQU87SUFJaEIsWUFBWSxDQUFVLEVBQUUsQ0FBVTtRQUU5QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUVKLGdDQUFnQztJQUVoQyxNQUFNLENBQUMsUUFBUSxDQUFFLEVBQVUsRUFBRSxFQUFVLEVBQUUsS0FBWTtRQUVwRCxPQUFPLElBQUksT0FBTyxDQUNqQixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFFLEdBQUcsS0FBSyxFQUM5QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFFLEdBQUcsS0FBSyxDQUM5QixDQUFDO0lBQ0gsQ0FBQztJQUVFLE1BQU0sQ0FBQyxVQUFVO1FBRWIsT0FBTyxJQUFJLE9BQU8sQ0FDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUNiLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FDVjtJQUNSLENBQUM7SUFFRSxNQUFNLENBQUMsZUFBZTtRQUV4QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFbEMsT0FBTyxJQUFJLE9BQU8sQ0FDdkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFDZixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUNUO0lBQ1IsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBYSxFQUFFLEVBQVc7UUFFeEMsT0FBTyxJQUFJLE9BQU8sQ0FDakIsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUNiLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FDYjtJQUNGLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQWM7UUFFN0IsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxLQUFLLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUczQyxNQUFNLENBQUMsR0FBRyxLQUFLLE9BQU8sSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUU5QyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVO1FBRW5ELE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUMzQixNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDM0IsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRTNCLHdCQUF3QjtRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFaEMseUNBQXlDO1FBQ3pDLElBQUksQ0FBQyxHQUFHLFFBQVE7WUFDckIsT0FBTyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVyQixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUosTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFHLENBQVM7UUFFOUMsK0JBQStCO1FBQy9CLDJCQUEyQjtRQUMzQix3QkFBd0I7UUFDeEIsNkJBQTZCO1FBQzdCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELGFBQWE7SUFFYixHQUFHLENBQUMsQ0FBUSxFQUFFLENBQVE7UUFFckIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLE9BQU8sSUFBSTtJQUNaLENBQUM7SUFFRCxhQUFhLENBQUMsQ0FBVSxFQUFFLEdBQVU7UUFFbkMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRztZQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLENBQVM7UUFFZixPQUFPLENBQUUsQ0FBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUUsSUFBSSxDQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUM7SUFDckQsQ0FBQztJQUVFLFFBQVE7UUFFSixPQUFPLFdBQVcsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDM0MsQ0FBQztJQUVELEtBQUs7UUFFRCxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxJQUFJLENBQUMsQ0FBVTtRQUVYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFSixXQUFXO0lBRVIsR0FBRyxDQUFDLENBQVU7UUFFVixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUosSUFBSSxDQUFDLElBQVksRUFBRSxJQUFZO1FBQzlCLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1FBQ2YsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7UUFDZixPQUFPLElBQUksQ0FBQztJQUNWLENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBVTtRQUVWLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFHRCxHQUFHLENBQUMsQ0FBVTtRQUVWLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxLQUFLLENBQUMsQ0FBUztRQUVYLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsR0FBRyxDQUFDLENBQVU7UUFFVixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsUUFBUSxDQUFDLENBQVM7UUFFZCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELEdBQUcsQ0FBQyxLQUFjO1FBRXBCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUUsQ0FBQztRQUNyQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFFLENBQUM7UUFDckMsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRUQsR0FBRyxDQUFDLEtBQWM7UUFFakIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUUsQ0FBQztRQUNyQyxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxLQUFLLENBQUMsR0FBWSxFQUFFLEdBQVk7UUFFL0IsbUNBQW1DO1FBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRUQsV0FBVyxDQUFDLE1BQWEsRUFBRSxNQUFhO1FBRXZDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBVSxFQUFFLEdBQVU7UUFFakMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzdCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBRSxNQUFNLElBQUksQ0FBQyxDQUFFLENBQUMsS0FBSyxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRUQsS0FBSztRQUVKLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxJQUFJO1FBRUgsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVELEtBQUs7UUFFSixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRUQsV0FBVztRQUVWLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBRSxJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUM7UUFDbkUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQztRQUNuRSxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxNQUFNO1FBRUwsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEIsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRUQsR0FBRyxDQUFFLENBQVM7UUFFYixPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELEtBQUssQ0FBRSxDQUFTO1FBRWYsT0FBTyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTztJQUM1QyxDQUFDO0lBRUQsU0FBUztRQUVSLE9BQU8sSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsTUFBTTtRQUVMLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE1BQU07UUFFTCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFDLENBQUMsQ0FBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFDLENBQUMsQ0FBRSxDQUFDO0lBQ2hELENBQUM7SUFFRCxTQUFTO1FBRVIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUUsQ0FBQztJQUM1QyxDQUFDO0lBRUQsS0FBSztRQUVKLG9FQUFvRTtRQUNwRSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFFLENBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFFLElBQUksQ0FBQyxDQUFDLENBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3pELE9BQU8sS0FBSyxDQUFDO0lBRWQsQ0FBQztJQUVELEtBQUssQ0FBQyxDQUFVO1FBRWYsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsWUFBWSxDQUFDLENBQVU7UUFFdEIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNwQixFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBVTtRQUVyQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsU0FBUyxDQUFDLE1BQWM7UUFFdkIsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBYyxFQUFFLEtBQVk7UUFFaEMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBRSxHQUFHLEtBQUssQ0FBQztRQUN2QyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUUsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFFLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztDQUNEOzs7QUNoVUQsYUFBYTtBQUVOLE1BQU0sUUFBUTtDQUdwQjs7O0FDTEQsdUJBQXVCO0FBSW1CO0FBQ0o7QUFFdEMsdUNBQXVDO0FBQ3ZDLGlDQUFpQztBQUMxQixNQUFNLFNBQVUsU0FBUSxRQUFRO0lBZ0JuQyxZQUFZLE1BQXlCLEVBQUUsSUFBVTtRQUU3QyxLQUFLLEVBQUUsQ0FBQztRQVZaLFVBQVU7UUFDSCxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLGNBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxlQUFVLEdBQUcsU0FBUyxDQUFDO1FBRXZCLGNBQVMsR0FBRyxTQUFTLENBQUM7UUFDdEIsY0FBUyxHQUFHLFNBQVMsQ0FBQztRQUsxQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxZQUFZLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQVk7UUFFakIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLENBQUM7SUFFTSxLQUFLO1FBRVIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxZQUFZLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsc0NBQXNDO0lBRTlCLFdBQVcsQ0FBQyxDQUFVO1FBRTFCLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU0sWUFBWSxDQUFDLENBQVU7UUFFMUIsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQsZ0VBQWdFO0lBQ2hFLFNBQVMsQ0FBQyxLQUFhO1FBRW5CLHdCQUF3QjtRQUN4QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztRQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUM7UUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBRTdCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUUzRCx3QkFBd0I7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUMvQixDQUFDO0lBRUQsS0FBSztRQUVELElBQUksSUFBSSxDQUFDLFFBQVE7WUFDYixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztZQUVwQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLEtBQWE7UUFFNUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxLQUFLLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFFdEIsY0FBYztRQUNkLCtCQUErQjtRQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFpQjtRQUVwQiwrQkFBK0I7UUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQ3RDO1lBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM5RCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ25CO0lBQ0wsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFjO1FBRWYsK0JBQStCO1FBRS9CLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsZUFBZSxDQUFDLEtBQWEsRUFBRSxLQUFhO1FBRXhDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQy9CLENBQUM7SUFFRCxZQUFZLENBQUMsUUFBbUI7UUFFNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUMzQztZQUNJLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBaUIsRUFBRSxLQUFlO1FBRXRDLCtCQUErQjtRQUMvQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDdEM7WUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNMLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBYyxFQUFFLE1BQWM7UUFFakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksQ0FBQyxPQUFlLEVBQUUsR0FBWTtRQUU5QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRywwQ0FBMEMsQ0FBQztRQUMzRCxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsT0FBTztRQUVILElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7Q0FDSjs7O0FDcExnRDtBQUVSO0FBSWxDLE1BQU0sSUFBSTtJQW9DYixZQUFZLE1BQXlCLEVBQUUsUUFBaUI7UUFoQ3hELFlBQU8sR0FBWSxLQUFLLENBQUM7UUFVakIsYUFBUSxHQUFVLEVBQUUsQ0FBQztRQUNyQixnQkFBVyxHQUFhLEVBQUUsQ0FBQztRQUVuQyxVQUFLLEdBQVksWUFBWSxFQUFFLENBQUM7UUFDaEMsZUFBVSxHQUFZLFlBQVksRUFBRSxDQUFDO1FBQ3JDLGtCQUFhLEdBQVksS0FBSyxDQUFDO1FBQy9CLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQUMxQixrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUV2QyxtQkFBYyxHQUFZLEtBQUssQ0FBQztRQUNoQyxzQkFBaUIsR0FBWSxLQUFLLENBQUM7UUFDM0IsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFFeEMsb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFDakMsdUJBQWtCLEdBQVksS0FBSyxDQUFDO1FBQzVCLG9CQUFlLEdBQVksS0FBSyxDQUFDO1FBME16QyxXQUFXO1FBRUgsY0FBUyxHQUFHLElBQUksQ0FBQztRQW5NckIsU0FBUztRQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbEQsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2pCLG9DQUFvQztRQUVwQyxZQUFZO1FBQ1osSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckMsZUFBZTtRQUNmLDJDQUEyQztRQUkzQyxPQUFPO1FBQ1AsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFFNUIsUUFBUTtRQUNSLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxhQUFhLEdBQUcsVUFBUyxDQUFDO1lBQzdCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDeEIsQ0FBQztRQUVELFdBQVc7UUFDWCxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUd6QyxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUMzQjtZQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzVCO1FBRUQsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFFRCxNQUFNO0lBRUMsSUFBSSxDQUFDLElBQWE7O1FBRXJCLFVBQUksQ0FBQyxDQUFDLDBDQUFFLEtBQUssR0FBRztRQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWpCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUNiLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRU0sUUFBUSxDQUFDLE9BQWdCO1FBRTVCLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO1FBQ3BCLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLFNBQVMsQ0FBQyxHQUFXO1FBRXhCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRU0sWUFBWSxDQUFDLEdBQVc7UUFFM0IsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sU0FBUyxDQUFDLENBQWdCO1FBRTdCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSTtZQUFFLE9BQU87UUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sT0FBTyxDQUFDLENBQWdCO1FBRTNCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUMvQyxDQUFDO0lBRU0sWUFBWSxDQUFDLENBQWdCO0lBR3BDLENBQUM7SUFFRCxNQUFNO0lBRUUsSUFBSTtRQUVSLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLFdBQVcsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQzdCLFNBQVMsSUFBSTs7WUFFVCxjQUFjO1lBQ2QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUU1QixlQUFlO1lBQ2YsSUFBSSxDQUFDLGdCQUFnQixHQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUMxRixJQUFJLENBQUMsaUJBQWlCLEdBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQzlGLElBQUksQ0FBQyxrQkFBa0IsR0FBSSxDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUM7WUFFbEcsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYTtZQUN2QyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjO1lBQ3pDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWU7WUFFM0MsMENBQTBDO1lBQzFDLElBQUksQ0FBQyxPQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTNCLFVBQUksQ0FBQyxDQUFDLDBDQUFFLEtBQUssR0FBRztZQUNoQixJQUFJLENBQUMsT0FBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUV6QixnQ0FBZ0M7WUFDaEMsVUFBSSxDQUFDLElBQUksMENBQUUsTUFBTSxDQUFDLElBQUksRUFBRTtZQUN4QixVQUFJLENBQUMsSUFBSSwwQ0FBRSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBRXRCLHFCQUFxQjtZQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztZQUV0QixxQkFBcUI7WUFDckIsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsRCxDQUFDO1FBQ0QsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRU8sV0FBVyxDQUFDLENBQWE7UUFFN0IsMERBQTBEO1FBQzFELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzlDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFTyxVQUFVLENBQUMsQ0FBYTtRQUU1QixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLENBQUMsRUFDWjtZQUNJLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO1NBQ2hDO1FBQ0QsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUNaO1lBQ0ksSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7U0FDL0I7UUFDRCxJQUFJLElBQUksR0FBRyxDQUFDLEVBQ1o7WUFDSSxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztTQUM5QjtJQUNMLENBQUM7SUFFTyxZQUFZLENBQUMsQ0FBYTtRQUU5QixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDckIsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUNiO1lBQ0ksSUFBSSxJQUFJLENBQUMsQ0FBQztZQUNWLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1NBQy9CO1FBQ0QsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUNiO1lBQ0ksSUFBSSxJQUFJLENBQUMsQ0FBQztZQUNWLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1NBQzlCO1FBQ0QsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUNiO1lBQ0ksSUFBSSxJQUFJLENBQUMsQ0FBQztZQUNWLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLFNBQVM7UUFFYixPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFFakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNwRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRXJELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFLTSxHQUFHLENBQUMsT0FBWTtRQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPO1FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVNLFdBQVc7UUFFZCxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUMzQixDQUFDO0NBRUo7OztBQ3pQTSxNQUFNLE9BQU87SUFBcEI7UUFFSSxVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsZ0JBQVcsR0FBRyxFQUFFLENBQUM7SUFxQnJCLENBQUM7SUFuQkcsS0FBSyxDQUFDLElBQVU7UUFFWixrQkFBa0I7SUFDdEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFVO1FBRWIsa0JBQWtCO0lBQ3RCLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBVTtRQUVYLGdCQUFnQjtJQUNwQixDQUFDO0lBRUQsSUFBSSxDQUFDLElBQVU7UUFFWCxzQkFBc0I7SUFDMUIsQ0FBQztDQUNKO0FBRUQsc0JBQXNCO0FBQ2YsTUFBTSxXQUFZLFNBQVEsT0FBTztDQUd2Qzs7O0FDL0JnRDtBQUNQO0FBRzFDLGNBQWM7QUFFUCxNQUFNLG1CQUFvQixTQUFRLFdBQVc7SUFTaEQsWUFBWSxRQUFlO1FBRXZCLEtBQUssRUFBRSxDQUFDO1FBUlosWUFBTyxHQUFXLENBQUMsQ0FBQztRQUVwQixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixxQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFDckIsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUtiLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLE1BQU0sMEJBQTBCLENBQUM7SUFDcEUsQ0FBQztJQUVELEtBQUssQ0FBQyxJQUFVO1FBRVosSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQy9CLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBVTtRQUViLHlCQUF5QjtRQUN6QiwwREFBMEQ7UUFDMUQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFDM0I7WUFDSSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQ25DO2dCQUNJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLE1BQU07YUFDVDtTQUNKO0lBQ0wsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFVO1FBRVgscUJBQXFCO1FBQ3JCLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQ3hCO1lBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdkYsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3RGO1FBQ0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkNBQTZDLEVBQUUsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEYsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUk7WUFDcEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFaEUsbUJBQW1CO1FBQ25CLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQ3BCO1lBQ0ksSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxFQUM3QjtnQkFDSSxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQzthQUM1QjtZQUNELElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUM1QyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEVBQzdCO2dCQUNJLElBQUksSUFBSSxDQUFDLFFBQVE7b0JBQ2IsSUFBSSxDQUFDLGdCQUFnQixJQUFJLEtBQUssQ0FBQzs7b0JBRS9CLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxLQUFLLENBQUM7YUFDdEM7aUJBRUQ7Z0JBQ0ksSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQztnQkFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDMUI7U0FDSjtJQUNMLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxHQUFXO1FBRTFCLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQzFDO1lBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQztZQUNuRCxPQUFPO1NBQ1Y7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBRXJELHdCQUF3QjtRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUNuQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBRTFCLE9BQU87UUFHUCxVQUFVO0lBQ2QsQ0FBQztJQUVELFdBQVcsQ0FBQyxJQUFVO1FBRWxCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDakQsQ0FBQztDQUNKOzs7QUN2R21DO0FBQ007QUFFbkMsTUFBTSxrQkFBbUIsU0FBUSxPQUFPO0lBQS9DOztRQUVJLFdBQU0sR0FBYyxFQUFFLENBQUM7UUFDdkIsWUFBTyxHQUFjLEVBQUUsQ0FBQztRQUV4QixVQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ1osVUFBSyxHQUFHLENBQUMsQ0FBQztRQUVWLFVBQUssR0FBRyxjQUFjLENBQUM7UUFDdkIsZ0JBQVcsR0FBRyw0QkFBNEIsQ0FBQztJQXlFL0MsQ0FBQztJQXZFRyxLQUFLLENBQUMsSUFBVTtRQUVaLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFDcEM7WUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2pGO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBVTtRQUViLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUNwQztZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFFdkIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUN0QjtnQkFDSSx3REFBd0Q7Z0JBQ3hELElBQUksR0FBRyxHQUFHLGVBQWUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN6QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQzFCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ2pELENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDZDtZQUVELENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFVCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFO1lBQ3ZCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQ3ZCO2dCQUNJLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDO2FBQzlCO1lBRUQsaUJBQWlCO1lBQ2pCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsRDtRQUVELHdDQUF3QztRQUN4QyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFDMUI7WUFDSSxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUMzQjtnQkFDSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7YUFDbEY7U0FDSjtRQUVELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFDMUI7WUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7U0FDdEM7SUFDTCxDQUFDO0lBRUQsSUFBSSxDQUFDLElBQVU7UUFFWCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFakQsMEJBQTBCO1FBQzFCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFDdEI7WUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO0lBQ0wsQ0FBQztDQUNKOzs7QUN0RkQsd0JBQXdCO0FBQ3hCLG1FQUFtRTtBQUd6QjtBQUduQyxNQUFNLFFBQVE7SUFPakI7UUF1SEEsV0FBVztRQUVYLDBCQUEwQjtRQUNsQixlQUFVLEdBQUcsQ0FBQyxDQUFDO1FBeEhuQixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFFYix5QkFBeUI7UUFDekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLEtBQUssRUFBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELGVBQWU7SUFFUixXQUFXO1FBRWQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3BCLENBQUM7SUFFTSxRQUFRO1FBRVgsSUFBSSxLQUFLLEdBQWMsRUFBRSxDQUFDO1FBRTFCLEtBQUksSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEdBQUcsRUFDdEI7WUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV4QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2QsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNkLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2QsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNkLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakI7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sS0FBSztRQUVSLE9BQU8sRUFBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RGLENBQUM7SUFFTSxXQUFXO1FBRWQsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUN4Qix3QkFBd0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUM5RSxDQUFDO0lBQ04sQ0FBQztJQUVNLGVBQWUsQ0FBQyxXQUFXLEdBQUcsS0FBSztRQUV0QyxJQUFJLEtBQUssR0FBYyxFQUFFLENBQUM7UUFFMUIsSUFBSSxXQUFXLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNO1lBQ2hELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUV2QixvRUFBb0U7UUFDcEUsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUN4QztZQUNJLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsS0FBSSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFDNUI7Z0JBQ0ksSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUN0QixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQUUsU0FBUztnQkFDdkIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzNCO1NBQ0o7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsZ0JBQWdCO0lBRVQsTUFBTSxDQUFDLFNBQWtCO1FBRTVCLDBDQUEwQztRQUMxQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFDbkQ7WUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDLENBQUM7WUFBQyxPQUFPLEtBQUssQ0FBQztTQUFFO1FBRWhFLFNBQVM7UUFDVCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUV6Qiw2QkFBNkI7UUFDN0IsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM1QyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsRUFDVjtZQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUFDLE9BQU8sS0FBSyxDQUFDO1NBQUU7UUFDMUQsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUxQixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU1QixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU1QixNQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDN0IsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRWpDLG1DQUFtQztRQUNuQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQztRQUNqRixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBSSxDQUFDLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBSSxDQUFDLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUVsRixlQUFlO1FBQ2YsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxlQUFlLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7UUFFM0MsVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFNTyxjQUFjLENBQUMsTUFBZTtRQUVsQywwREFBMEQ7UUFDMUQsTUFBTSxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDeEM7WUFDSSxLQUFLLElBQUksQ0FBQyxJQUFJLFlBQVksRUFDMUI7Z0JBQ0ksSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDO29CQUNWLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsSUFBSSxJQUFJLEdBQUcsZUFBZSxDQUN0QixNQUFNLEVBQ04sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BDLElBQUksSUFBSSxHQUFHLENBQUMsRUFDWjtvQkFDSSxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzVELE1BQU07aUJBQ1Q7Z0JBRUQsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUNiO29CQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO29CQUN2QixPQUFPLElBQUksQ0FBQztpQkFDZjthQUNKO1NBQ0o7UUFFRCxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDcEIsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7SUFFTyxZQUFZLENBQUMsS0FBZSxFQUFFLEdBQVU7UUFFNUMsK0JBQStCO1FBQy9CLE9BQU0sS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQ3RCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRyxDQUFDO1lBQ3hCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMvQyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUM7Z0JBQUUsU0FBUztZQUV6QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzVDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLEdBQUcsd0JBQXdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwRixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBVyxFQUFFLENBQUMsRUFDM0I7Z0JBQ0ksU0FBUzthQUNaO1lBRUQsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLEVBQ3ZCO2dCQUNJLFFBQVE7Z0JBRVIsdUJBQXVCO2dCQUN2QixNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFbEIscUJBQXFCO2dCQUNyQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNsRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNsRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNsRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUVsRCxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFFeEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3JELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUVyRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3BCO1NBQ0o7SUFDTCxDQUFDO0lBRUQsY0FBYztJQUVOLGVBQWUsQ0FBQyxJQUFZLEVBQUUsS0FBYSxFQUFFLEtBQWE7UUFFOUQsNENBQTRDO1FBQzVDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU87UUFDdkIsSUFBUyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUs7WUFBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQzthQUMzRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSztZQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2FBQzNELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLO1lBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O1lBRTVELE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRU8sbUJBQW1CLENBQUMsVUFBa0IsRUFBRSxPQUFlO1FBRTNELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLE9BQU87WUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxPQUFPO1lBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNsRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTztZQUFFLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDbEQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxVQUFrQixFQUFFLFVBQWtCO1FBRTNELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFVBQVU7WUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxVQUFVO1lBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNyRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksVUFBVTtZQUFFLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDckQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7Q0FDSjs7O0FDclB5QztBQUVuQyxNQUFNLGNBQWM7SUFFdkIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQVUsRUFBRSxRQUFnQixFQUFFLFFBQWdCO1FBRW5FLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQztRQUNyQixJQUFJLFFBQVEsR0FBSSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztZQUN2QixLQUFLLEdBQUcsUUFBUSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztZQUNoRCxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztZQUNsRCxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ2xELFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ25ELFFBQVEsQ0FBQyxHQUFHLENBQUUsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxPQUFPLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckMsQ0FBQztDQUNKOzs7QUNwQm1DO0FBRU07QUFFQztBQUNPO0FBRTNDLE1BQU0sZUFBZ0IsU0FBUSxPQUFPO0lBQTVDOztRQUVJLGVBQVUsR0FBRyxHQUFHLENBQUM7UUFDakIsV0FBTSxHQUFHLENBQUMsQ0FBQztRQUNYLE9BQUUsR0FBYSxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE1BQUMsR0FBYyxFQUFFLENBQUM7UUFFbEIsWUFBWTtRQUNaLFVBQUssR0FBRyxVQUFVLENBQUM7UUFDbkIsZ0JBQVcsR0FBRyxPQUFPLElBQUksQ0FBQyxVQUFVLG9CQUFvQixDQUFDO0lBZ0g3RCxDQUFDO0lBN0dHLEtBQUssQ0FBQyxJQUFVO1FBRVosSUFBSSxFQUFFLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqQixDQUFDO0lBRUQsTUFBTSxDQUFDLElBQVU7UUFFYixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFDekI7WUFDSSxJQUFJLFNBQVMsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDbEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUN2QjtRQUNELElBQUksSUFBSSxDQUFDLGNBQWMsRUFDdkI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUM5QjtRQUdELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQ3RDO1lBQ0ksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFDakIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDdkI7UUFFRCwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQyxDQUFDO1FBRUgsZ0JBQWdCO1FBQ2hCLElBQUksR0FBRyxHQUFHLGdDQUFnQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUM7WUFDdEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDO1FBQ3hCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUM7WUFDdEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBVTtRQUVYLGNBQWM7UUFDZCxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXpDLGNBQWM7UUFDZCxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFFckMsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDcEI7WUFDSSw4QkFBOEI7WUFDOUIsSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1NBQzNDO2FBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDekI7WUFDSSx1QkFBdUI7WUFDdkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUN0RDthQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQ3pCO1lBQ0ksb0JBQW9CO1lBQ3BCLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUMzQixJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7SUFFRCxNQUFNO0lBRU4sR0FBRyxDQUFDLENBQVU7UUFFVixrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbEIsa0JBQWtCO1FBQ2xCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFO1FBQ3BCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLENBQUMsQ0FBVTtRQUVYLGVBQWU7UUFDZix1Q0FBdUM7UUFDdkMsNkVBQTZFO1FBQzdFLEtBQUs7UUFFTCxlQUFlO1FBQ2YsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNyQyxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDdkM7WUFDSSxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLFVBQVUsR0FBRyxlQUFlLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzVDLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNqQyxJQUFJLE1BQU0sR0FBRyxDQUFDO2dCQUFFLFNBQVM7WUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ2pFO0lBQ0wsQ0FBQztJQUVELE9BQU8sQ0FBQyxDQUFVLEVBQUUsUUFBZ0IsRUFBRSxLQUFhO1FBRS9DLGVBQWU7UUFDZixJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM5QixDQUFDLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRixDQUFDLENBQUM7SUFDTixDQUFDO0NBQ0o7OztBQ2pJRCx3QkFBd0I7QUFJakIsTUFBTSxRQUFRO0lBRWpCLElBQUksQ0FBQyxHQUE2QjtJQUVsQyxDQUFDO0NBQ0o7QUFFTSxNQUFNLElBQUssU0FBUSxRQUFRO0lBSzlCLFlBQVksSUFBYSxFQUFFLEVBQVc7UUFFbEMsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsSUFBSSxDQUFDLEdBQTZCO1FBRTlCLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztDQUNKO0FBRU0sTUFBTSxRQUFTLFNBQVEsd0RBQVE7SUFJbEMsWUFBWSxLQUFnQjtRQUV4QixLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLENBQUMsR0FBNkI7UUFFOUIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQUUsT0FBTztRQUNsQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUMzQztZQUNJLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7Q0FDSjtBQUVNLE1BQU0sR0FBSSxTQUFRLFFBQVE7SUFNN0IsWUFBWSxJQUFhLEVBQUUsR0FBWSxFQUFFLEVBQVc7UUFFaEQsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFRCxJQUFJLENBQUMsR0FBNkI7UUFFOUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7Q0FDSjs7O0FDckVtQztBQUVNO0FBQ2E7QUFJaEQsTUFBTSxXQUFZLFNBQVEsT0FBTztJQUF4Qzs7UUFFSSxVQUFLLEdBQUcsTUFBTSxDQUFDO1FBQ2YsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFFakIsU0FBUztRQUNGLFVBQUssR0FBRyxFQUFFLENBQUM7UUFHVixjQUFTLEdBQUcsWUFBWSxFQUFFLENBQUM7UUFDM0IsV0FBTSxHQUFjLEVBQUUsQ0FBQztRQUN2QixjQUFTLEdBQWEsRUFBRSxDQUFDO1FBQ3pCLGVBQVUsR0FBYSxFQUFFLENBQUM7UUFDMUIsV0FBTSxHQUFHLENBQUMsQ0FBQztRQUNYLFdBQU0sR0FBRyxDQUFDLENBQUM7UUFDWCxNQUFDLEdBQUcsQ0FBQyxDQUFDO1FBb0ZOLGFBQVEsR0FBRyxZQUFZLEVBQUUsQ0FBQztRQUMxQixXQUFNLEdBQUcsQ0FBQyxDQUFDO1FBc0ZYLFdBQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQTBPaEMsQ0FBQztJQW5aRyxLQUFLLENBQUMsSUFBVTtRQUVaLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFVO1FBRWIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBVTtRQUVYLFNBQVM7UUFDVCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDekIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBQ3pCLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUV6QiwrQ0FBK0M7UUFDL0MsSUFBSTtRQUNKLDhCQUE4QjtRQUM5QiwrQkFBK0I7UUFDL0IsaURBQWlEO1FBQ2pELElBQUk7UUFFSixhQUFhO1FBQ2IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0QyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDckMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3JDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRXpDLGNBQWM7UUFDZCxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0QyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDckMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3JDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRXpDLFVBQVU7UUFDVixJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFVO0lBR2YsQ0FBQztJQUVELElBQUk7SUFFSixNQUFNLENBQUMsSUFBVSxFQUFFLEtBQWEsRUFBRSxJQUFjLEVBQUUsTUFBZTtRQUU3RCxtQkFBbUI7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWxELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUNuQztZQUNJLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUNuQztnQkFDSSxJQUFJLE1BQU0sRUFDVjtvQkFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN4RSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQzFDO3FCQUVEO29CQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZO2lCQUM3QjthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBSUQsWUFBWSxDQUFDLElBQVU7UUFFbkIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbEQsZ0JBQWdCO1FBQ2hCLHNCQUFzQjtRQUN0Qix1QkFBdUI7UUFFdkIsMEJBQTBCO1FBQzFCLElBQUk7UUFDSiw2QkFBNkI7UUFDN0IsS0FBSztRQUNMLDJCQUEyQjtRQUMzQixJQUFJO1FBQ0osNkJBQTZCO1FBQzdCLEtBQUs7UUFFTCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDckQsSUFBSSxDQUFDLFdBQVcsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRXpDLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUN6QjtZQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQztRQUNELElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN0RDtZQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNuQztRQUNELElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUMxQjtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwQztRQUNELElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN2RDtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNwQztRQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCxVQUFVLENBQUMsSUFBVTtRQUVqQixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQzFCO1lBQ0ksT0FBTTtTQUNUO0lBQ0wsQ0FBQztJQUVELFlBQVksQ0FBQyxVQUFtQjtRQUU1QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFtQjtRQUV0QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBR0QsUUFBUSxDQUFDLElBQVUsRUFBRSxJQUFjO1FBRS9CLElBQUksS0FBSyxHQUFlLEVBQUUsQ0FBQztRQUMzQixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQ3ZDO1lBQ0ksS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUN2QztnQkFDSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQ3pCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQzNCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQzNCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUNoQztnQkFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ2pEO1NBQ0o7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBR0QsUUFBUSxDQUFDLElBQVUsRUFBRSxNQUFlLEVBQUUsS0FBYTtRQUUvQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXpCLElBQUksR0FBRyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELElBQUksSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25ELElBQUksS0FBSyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RCxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFMUQsUUFBTyxLQUFLLEVBQ1o7WUFDSSxLQUFLLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUM5QixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0IsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2hDLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNqQyxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDaEMsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDbEMsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2xDLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNsQyxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNqQyxNQUFNO1lBQ1YsS0FBSyxFQUFFO2dCQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDaEMsTUFBTTtZQUNWLEtBQUssRUFBRTtnQkFDSCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQ2pDLE1BQU07WUFDVixLQUFLLEVBQUU7Z0JBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNoQyxNQUFNO1lBQ1YsS0FBSyxFQUFFO2dCQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDL0IsTUFBTTtZQUNWLEtBQUssRUFBRTtnQkFDSCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLE1BQU07WUFDVixLQUFLLEVBQUU7Z0JBQ0gsZUFBZTtnQkFDZixNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQVcsRUFBRSxNQUFlLEVBQUUsS0FBYSxFQUFFLEtBQWlCO1FBRXRFLGtCQUFrQjtRQUNsQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRWhCLElBQUksSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLEtBQUssR0FBRyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUksS0FBSyxHQUFHLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QyxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLElBQUksT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU5QyxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRTdDLFFBQU8sS0FBSyxFQUNaO1lBQ0ksS0FBSyxDQUFDO2dCQUNGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDbkMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDbkMsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNwQyxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDcEMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDcEMsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FB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QUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXJDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBYSxtQkFBbUI7SUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQywwQkFBMEI7SUFDeEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyIsImZpbGUiOiI2MTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhdXRob3I6IEpvcyBGZWVuc3RyYVxyXG4vLyBpbnNwaXJhdGlvbiBmcm9tIFRocmVlLmpzXHJcbi8vIG5vdGU6IHJlY3ljbGUgdGhlIGNsYXNzIGFzIG11Y2ggYXMgcG9zc2JsZSwgYnVpbGRpbmcgYSBuZXcgY2xhc3MgaXMgZXhwZW5zaXZlLFxyXG4vLyBlc3BlY2lhbGx5IGluIGphdmFzY3JpcHRcclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyXHJcbntcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKHggOiBudW1iZXIsIHkgOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG5cclxuXHQvLyAtLS0gZmFjdG9yaWVzICYgb3RoZXIgc3RhdGljc1xyXG5cclxuXHRzdGF0aWMgZnJvbUxlcnAoIHYxOlZlY3RvcjIsIHYyOlZlY3RvcjIsIGFscGhhOm51bWJlciApIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHYxLnggKyAoIHYyLnggLSB2MS54ICkgKiBhbHBoYSxcclxuXHRcdFx0djEueSArICggdjIueSAtIHYxLnkgKSAqIGFscGhhXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcbiAgICBzdGF0aWMgZnJvbVJhbmRvbSgpIDogVmVjdG9yMlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdCAgICBNYXRoLnJhbmRvbSgpLFxyXG5cdFx0ICAgIE1hdGgucmFuZG9tKClcclxuICAgICAgICApXHJcblx0fVxyXG5cclxuICAgIHN0YXRpYyBmcm9tUmFuZG9tQW5nbGUoKSA6IFZlY3RvcjJcclxuICAgIHtcclxuXHRcdGxldCBhbHBoYSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMjtcclxuXHRcdFxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihcclxuXHRcdFx0TWF0aC5jb3MoYWxwaGEpLFxyXG5cdFx0XHRNYXRoLnNpbihhbHBoYSlcclxuICAgICAgICApXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZnJvbTJQdChmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMikgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IyKFxyXG5cdFx0XHRmcm9tLnggLSB0by54LFxyXG5cdFx0XHRmcm9tLnkgLSB0by55XHJcblx0XHQpXHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZnJvbUNvcHkob3RoZXI6IFZlY3RvcjIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLnplcm8oKS5jb3B5KG90aGVyKTtcdFxyXG5cdH1cclxuXHJcblx0c3RhdGljIHplcm8oKSB7IHJldHVybiBuZXcgVmVjdG9yMigwLCAwKTsgfVxyXG5cclxuXHJcblx0c3RhdGljIE5hTigpIHsgcmV0dXJuIG5ldyBWZWN0b3IyKE5hTiwgTmFOKTsgfVxyXG5cclxuXHRzdGF0aWMgZnJvbUNpcmN1bWNlbnRlcihhOiBWZWN0b3IyLCBiOiBWZWN0b3IyLCBjOiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICBjb25zdCBhc3VtID0gYS5zcXVhcmVTdW0oKTtcclxuICAgICAgICBjb25zdCBic3VtID0gYi5zcXVhcmVTdW0oKTtcclxuICAgICAgICBjb25zdCBjc3VtID0gYy5zcXVhcmVTdW0oKTtcclxuXHJcbiAgICAgICAgLy8gc29ydCBvZiBjcm9zcyBwcm9kdWN0XHJcbiAgICAgICAgbGV0IGQgPSAyICogKGEueCAqIChiLnkgLSBjLnkpICtcclxuICAgICAgICAgICAgICAgICAgICAgYi54ICogKGMueSAtIGEueSkgKyBcclxuICAgICAgICAgICAgICAgICAgICAgYy54ICogKGEueSAtIGIueSkpO1xyXG5cclxuICAgICAgICAvLyBpZiB0aGlzIHRyaWFuZ2xlIGhhcyBubyBjaXJjdW1jZW50ZXI/IFxyXG4gICAgICAgIGlmIChkIDwgMC4wMDAwMDEpXHJcblx0XHRcdHJldHVybiBWZWN0b3IyLk5hTigpOyBcclxuXHJcblx0XHRsZXQgeCA9IChhc3VtICogKGIueSAtIGMueSkgKyBcclxuXHRcdFx0XHQgYnN1bSAqIChjLnkgLSBhLnkpICsgXHJcblx0XHRcdFx0IGNzdW0gKiAoYS55IC0gYi55KSkgLyBkO1xyXG5cdFx0bGV0IHkgPSAoYXN1bSAqIChjLnggLSBiLngpICsgXHJcblx0XHRcdFx0IGJzdW0gKiAoYS54IC0gYy54KSArIFxyXG5cdFx0XHRcdCBjc3VtICogKGIueCAtIGEueCkpIC8gZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgseSk7XHJcbiAgICB9XHJcblxyXG5cdHN0YXRpYyBnZXRTaWduKGE6VmVjdG9yMiwgYjpWZWN0b3IyICwgYzpWZWN0b3IyKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdC8vIHRlc3QgaGFsZiBwbGFuZSByZWxhdGlvbnNoaXBcclxuXHRcdC8vIDwwIDogcG9pbnQgb24gZmlyc3QgaGFsZlxyXG5cdFx0Ly8gMCAgOiBwb2ludHMgY29sbGluZWFyXHJcblx0XHQvLyA+MCA6IHBvaW50IG9uIHNlY29uZCBoYWxmIFxyXG5cdFx0cmV0dXJuIChhLnggLSBjLngpICogKGIueSAtIGMueSkgLSBcclxuXHRcdCAgICAgICAoYi54IC0gYy54KSAqIChhLnkgLSBjLnkpO1xyXG5cdH1cclxuXHJcblx0Ly8gLS0tIGJhc2ljc1xyXG5cclxuXHRzZXQoeDpudW1iZXIsIHk6bnVtYmVyKSA6IFZlY3RvcjJcclxuXHR7XHJcblx0XHR0aGlzLnggPSB4O1xyXG5cdFx0dGhpcy55ID0geTtcclxuXHRcdHJldHVybiB0aGlzIFx0XHRcclxuXHR9XHJcblxyXG5cdHJvdWdobHlFcXVhbHModjogVmVjdG9yMiwgdG9sOm51bWJlcikgOiBib29sZWFuXHJcblx0e1xyXG5cdFx0cmV0dXJuIChNYXRoLmFicyh0aGlzLnggLSB2LngpIDwgdG9sICYmIFxyXG5cdFx0XHRcdE1hdGguYWJzKHRoaXMueSAtIHYueSkgPCB0b2wpXHJcblx0fVxyXG5cclxuXHRlcXVhbHModjpWZWN0b3IyKSA6IGJvb2xlYW5cclxuXHR7XHJcblx0XHRyZXR1cm4gKCAoIHYueCA9PT0gdGhpcy54ICkgJiYgKCB2LnkgPT09IHRoaXMueSApICk7XHJcblx0fVxyXG5cclxuICAgIHRvU3RyaW5nKCkgOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gYFZlY3RvcjMoJHt0aGlzLnh9LCAke3RoaXMueX0pYDtcclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSgpIDogVmVjdG9yMlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29weSh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ID0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHQvLyAtLS0gbWF0aFxyXG5cclxuICAgIGFkZCh2OiBWZWN0b3IyKSA6IFZlY3RvcjJcclxuICAgIHtcclxuICAgICAgICB0aGlzLnggKz0gdi54O1xyXG4gICAgICAgIHRoaXMueSArPSB2Lnk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cdGFkZG4oYXJnMDogbnVtYmVyLCBhcmcxOiBudW1iZXIpOiBWZWN0b3IyIHtcclxuXHRcdHRoaXMueCArPSBhcmcwO1xyXG5cdFx0dGhpcy55ICs9IGFyZzE7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdWIodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54IC09IHYueDtcclxuICAgICAgICB0aGlzLnkgLT0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtdWwodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ICo9IHYueDtcclxuICAgICAgICB0aGlzLnkgKj0gdi55O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNjYWxlKHY6IG51bWJlcikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy54ICo9IHY7XHJcbiAgICAgICAgdGhpcy55ICo9IHY7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZGl2KHY6IFZlY3RvcjIpIDogVmVjdG9yMlxyXG4gICAge1xyXG4gICAgICAgIHRoaXMueCAvPSB2Lng7XHJcbiAgICAgICAgdGhpcy55IC89IHYueTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBkaXZzY2FsZSh2OiBudW1iZXIpIDogVmVjdG9yMlxyXG4gICAge1xyXG4gICAgICAgIHRoaXMueCAvPSB2O1xyXG4gICAgICAgIHRoaXMueSAvPSB2O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbihvdGhlcjogVmVjdG9yMikgOiBWZWN0b3IyIFxyXG4gICAge1xyXG5cdFx0dGhpcy54ID0gTWF0aC5taW4oIHRoaXMueCwgb3RoZXIueCApO1xyXG5cdFx0dGhpcy55ID0gTWF0aC5taW4oIHRoaXMueSwgb3RoZXIueSApO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRtYXgob3RoZXI6IFZlY3RvcjIpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHR0aGlzLnggPSBNYXRoLm1heCggdGhpcy54LCBvdGhlci54ICk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1heCggdGhpcy55LCBvdGhlci55ICk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdGNsYW1wKG1pbjogVmVjdG9yMiwgbWF4OiBWZWN0b3IyKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0Ly8gYXNzdW1lcyBtaW4gPCBtYXgsIGNvbXBvbmVudHdpc2VcclxuXHRcdHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRjbGFtcFNjYWxhcihtaW5WYWw6bnVtYmVyLCBtYXhWYWw6bnVtYmVyKSA6IFZlY3RvcjIgXHJcblx0e1xyXG5cdFx0dGhpcy54ID0gTWF0aC5tYXgoIG1pblZhbCwgTWF0aC5taW4obWF4VmFsLCB0aGlzLngpKTtcclxuXHRcdHRoaXMueSA9IE1hdGgubWF4KCBtaW5WYWwsIE1hdGgubWluKG1heFZhbCwgdGhpcy55KSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdGNsYW1wTGVuZ3RoKG1pbjpudW1iZXIsIG1heDpudW1iZXIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XHJcblx0XHRyZXR1cm4gdGhpcy5kaXZzY2FsZSggbGVuZ3RoIHx8IDEgKS5zY2FsZSggTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIGxlbmd0aCkpKTtcclxuXHR9XHJcblxyXG5cdGZsb29yKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0Y2VpbCgpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHR0aGlzLnggPSBNYXRoLmNlaWwodGhpcy54KTtcclxuXHRcdHRoaXMueSA9IE1hdGguY2VpbCh0aGlzLnkpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRyb3VuZCgpIDogVmVjdG9yMiBcclxuXHR7XHJcblx0XHR0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XHJcblx0XHR0aGlzLnkgPSBNYXRoLnJvdW5kKHRoaXMueSk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHJvdW5kVG9aZXJvKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9ICh0aGlzLnggPCAwKSA/IE1hdGguY2VpbCggdGhpcy54ICkgOiBNYXRoLmZsb29yKCB0aGlzLnggKTtcclxuXHRcdHRoaXMueSA9ICh0aGlzLnkgPCAwKSA/IE1hdGguY2VpbCggdGhpcy55ICkgOiBNYXRoLmZsb29yKCB0aGlzLnkgKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0bmVnYXRlKCkgOiBWZWN0b3IyIFxyXG5cdHtcclxuXHRcdHRoaXMueCA9IC0gdGhpcy54O1xyXG5cdFx0dGhpcy55ID0gLSB0aGlzLnk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdGRvdCggdjpWZWN0b3IyICkgOiBudW1iZXIgXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTtcclxuXHR9XHJcblxyXG5cdGNyb3NzKCB2OlZlY3RvcjIgKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLnggKiB2LnkgLSB0aGlzLnkgKiB2Lng7IC8vID8/Pz9cclxuXHR9XHJcblxyXG5cdHNxdWFyZVN1bSgpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcclxuXHR9XHJcblxyXG5cdGxlbmd0aCgpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xyXG5cdH1cclxuXHJcblx0bWFuaGF0KCkgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gTWF0aC5hYnMoIHRoaXMueCApICsgTWF0aC5hYnMoIHRoaXMueSApO1xyXG5cdH1cclxuXHJcblx0bm9ybWFsaXplKCkgOiBWZWN0b3IyXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRoaXMuZGl2c2NhbGUoIHRoaXMubGVuZ3RoKCkgfHwgMSApO1xyXG5cdH1cclxuXHJcblx0YW5nbGUoKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdC8vIGNvbXB1dGVzIHRoZSBhbmdsZSBpbiByYWRpYW5zIHdpdGggcmVzcGVjdCB0byB0aGUgcG9zaXRpdmUgeC1heGlzXHJcblx0XHRjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoIC0gdGhpcy55LCAtIHRoaXMueCApICsgTWF0aC5QSTtcclxuXHRcdHJldHVybiBhbmdsZTtcclxuXHJcblx0fVxyXG5cclxuXHRkaXNUbyh2OiBWZWN0b3IyKSA6IG51bWJlclxyXG5cdHtcclxuXHRcdHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXNUb1NxdWFyZWQodikpO1xyXG5cdH1cclxuXHJcblx0ZGlzVG9TcXVhcmVkKHY6IFZlY3RvcjIpIDogbnVtYmVyXHJcblx0e1xyXG5cdFx0Y29uc3QgZHggPSB0aGlzLnggLSB2LngsIFxyXG5cdFx0XHQgIGR5ID0gdGhpcy55IC0gdi55O1xyXG5cdFx0cmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xyXG5cdH1cclxuXHJcblx0ZGlzVG9NYW5oYXQodjogVmVjdG9yMikgOiBudW1iZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gTWF0aC5hYnModGhpcy54IC0gdi54KSArIE1hdGguYWJzKHRoaXMueSAtIHYueSk7XHJcblx0fVxyXG5cclxuXHRzZXRMZW5ndGgobGVuZ3RoOiBudW1iZXIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLm5vcm1hbGl6ZSgpLnNjYWxlKGxlbmd0aCk7XHJcblx0fVxyXG5cclxuXHRsZXJwKG90aGVyOiBWZWN0b3IyLCBhbHBoYTpudW1iZXIpIDogVmVjdG9yMlxyXG5cdHtcclxuXHRcdHRoaXMueCArPSAoIG90aGVyLnggLSB0aGlzLnggKSAqIGFscGhhO1xyXG5cdFx0dGhpcy55ICs9ICggb3RoZXIueSAtIHRoaXMueSApICogYWxwaGE7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn0iLCIvLyBiYXNlIGNsYXNzXG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJlciBcbntcbiAgICBcbn0iLCIvLyBhdXRob3I6IEpvcyBGZWVuc3RyYVxyXG5cclxuaW1wb3J0IHsgTGluZSwgTGluZWxpa2UgfSBmcm9tIFwiLi4vZ2VvL0xpbmVsaWtlc1wiO1xyXG5pbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4uL0dlb25cIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5cclxuLy8gb25seSByZW5kZXJlciB0YWxrcyB0byBjdHggJiBjYW52YXMuXHJcbi8vIGRvIGFsbCB0aGUgY2FtZXJhIHdvcmsgaW4gaGVyZVxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIyIGV4dGVuZHMgUmVuZGVyZXJcclxue1xyXG4gICAgcHVibGljIG9mZnNldDogVmVjdG9yMjtcclxuICAgIHB1YmxpYyBzY2FsZTogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGdlb246IEdlb247XHJcblxyXG4gICAgLy8gdmlzdWFsc1xyXG4gICAgcHVibGljIHNsb3dmYWRlID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHBvaW50c2l6ZSA9IDU7XHJcbiAgICBwcml2YXRlIHBvaW50Y29sb3IgPSBcIiNmZmZmZmZcIjtcclxuXHJcbiAgICBwcml2YXRlIGxpbmVjb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgcHJpdmF0ZSBmaWxsY29sb3IgPSBcIiM2NjY2NjZcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nZW9uID0gZ2VvbjtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikhO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gVmVjdG9yMi56ZXJvKCk7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5wb2ludGNvbG9yO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5saW5lY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29sb3IoY29sb3I6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNsb3dmYWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBWZWN0b3IyLnplcm8oKTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLnBvaW50Y29sb3I7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmxpbmVjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPIGZpeCB0aGlzIG9uY2UgaSBidWlsZCBtYXRyaWNlc1xyXG5cclxuICAgIHByaXZhdGUgYXBwbHlPZmZzZXQodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHYuY2xvbmUoKS5hZGQodGhpcy5vZmZzZXQpLnNjYWxlKHRoaXMuc2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXZlcnRPZmZzZXQodjogVmVjdG9yMikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHYuY2xvbmUoKS5zY2FsZSgxIC8gdGhpcy5zY2FsZSkuc3ViKHRoaXMub2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGlzIGNsZWFycyB3aXRoIGEgdHJhbnNwYXJhbnQgbGF5ZXIsIGZvciBlYXN5IGRlbGF5ZWQgZWZmZWN0XHJcbiAgICBjbGVhckZhZGUoYWxwaGE6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICAvLyBhZGp1c3QgY29sb3Igc2V0dGluZ3NcclxuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY3R4LmZpbGxTdHlsZTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcIiMwMDAwMDBmZlwiO1xyXG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7ICBcclxuXHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5nZW9uLndpZHRoLCB0aGlzLmdlb24uaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gcmVzZXQgY29sb3Igc2V0dGluZ3MgXHJcbiAgICAgICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAxOyAgXHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnNsb3dmYWRlKVxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyRmFkZSgwLjEpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZ2Vvbi53aWR0aCwgdGhpcy5nZW9uLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRDb2xvcmVkKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMucG9pbnQoeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnQoeDogbnVtYmVyLCB5OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdG9kbyBjYW1lcmFcclxuICAgICAgICAvLyBUT0RPIGRvbnQgZHJhdyBpZiBvZmYgc2NyZWVuXHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLmFwcGx5T2Zmc2V0KG5ldyBWZWN0b3IyKHgsIHkpKTtcclxuICAgICAgICB0aGlzLmN0eC5hcmModi54LCB2LnksIHRoaXMucG9pbnRzaXplLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludHMocG9pbnRzOiBWZWN0b3IyW10pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gVE9ETyBkb250IGRyYXcgaWYgb2ZmIHNjcmVlblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5hcHBseU9mZnNldChwb2ludHNbaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5hcmModi54LCB2LnksIHRoaXMucG9pbnRzaXplLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgfSAgICBcclxuICAgIH1cclxuXHJcbiAgICBsaW5lKGxpbmU6IExpbmVsaWtlKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuXHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgbGluZS5kcmF3KHRoaXMuY3R4KTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaW5lU2V0dGluZ3Mod2lkdGg6IG51bWJlciwgY29sb3I6IHN0cmluZylcclxuICAgIHtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICB9XHJcblxyXG4gICAgbGluZVNlZ21lbnRzKHZlcnRpY2VzOiBWZWN0b3IyW10pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBpaSA9IGkgKyAxO1xyXG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLmFwcGx5T2Zmc2V0KHZlcnRpY2VzW2ldKTtcclxuICAgICAgICAgICAgbGV0IHYyID0gdGhpcy5hcHBseU9mZnNldCh2ZXJ0aWNlc1tpaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odjEueCwgdjEueSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh2Mi54LCB2Mi55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2lyY2xlcyhwb2ludHM6IFZlY3RvcjJbXSwgcmFkaWk6IG51bWJlcltdKVxyXG4gICAge1xyXG4gICAgICAgIC8vIFRPRE8gZG9udCBkcmF3IGlmIG9mZiBzY3JlZW5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlKHBvaW50c1tpXSwgcmFkaWlbaV0pO1xyXG4gICAgICAgIH0gXHJcbiAgICB9IFxyXG5cclxuICAgIGNpcmNsZShwb2ludDogVmVjdG9yMiwgcmFkaXVzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgbGV0IHYgPSB0aGlzLmFwcGx5T2Zmc2V0KHBvaW50KTtcclxuICAgICAgICBsZXQgciA9IHJhZGl1cyAqIHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy5jdHguYXJjKHYueCwgdi55LCByLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRleHQobWVzc2FnZTogc3RyaW5nLCBwb3M6IFZlY3RvcjIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jdHguZm9udCA9ICcxNHB4IFwiTHVjaWRhIENvbnNvbGVcIiwgTW9uYWNvLCBtb25vc3BhY2UnO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KG1lc3NhZ2UsIHBvcy54LCBwb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVjdGFuZ2xlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9seWdvbigpIFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlcmVyMiB9IGZyb20gJy4vcmVuZGVyZXIvUmVuZGVyZXIyJztcclxuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4vcHJvZ3JhbXMvUHJvZ3JhbSc7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL21hdGgvVmVjdG9yMic7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuL21hdGgvVmVjdG9yMyc7XHJcbmltcG9ydCB7IFJlbmRlcmVyMyB9IGZyb20gJy4vcmVuZGVyZXIvUmVuZGVyZXIzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHZW9uXHJcbntcclxuICAgIHByb2dyYW0/OiBQcm9ncmFtO1xyXG4gICAgbWV0YT86IFByb2dyYW07XHJcbiAgICBsb29waW5nOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgdGljazogbnVtYmVyO1xyXG4gICAgb2xkVGltZTogbnVtYmVyO1xyXG4gICAgbmV3VGltZTogbnVtYmVyO1xyXG4gICAgXHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBib3VuZHM6IFZlY3RvcjI7XHJcblxyXG4gICAgcHJpdmF0ZSBrZXlzRG93bjogSUtleXMgPSB7fTtcclxuICAgIHByaXZhdGUga2V5c1ByZXNzZWQ6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgbW91c2U6IFZlY3RvcjIgPSBWZWN0b3IyLnplcm8oKTtcclxuICAgIHdvcmxkTW91c2U6IFZlY3RvcjIgPSBWZWN0b3IyLnplcm8oKTtcclxuICAgIG1vdXNlTGVmdERvd246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIG1vdXNlTGVmdFByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbW91c2VMZWZ0UHJldjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIG1vdXNlUmlnaHREb3duOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBtb3VzZVJpZ2h0UHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtb3VzZVJpZ2h0UHJldjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIG1vdXNlTWlkZGxlRG93bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbW91c2VNaWRkbGVQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG1vdXNlTWlkZGxlUHJldjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHI6IFJlbmRlcmVyMlxyXG4gICAgLy8gd2ViZ2w/OiBSZW5kZXJlcjNcclxuXHJcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgdXNlV2ViR2w6IGJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gd2luZG93XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gbmV3IFZlY3RvcjIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXHJcbiAgICAgICAgdGhpcy5zZXRXaW5kb3coKTtcclxuICAgICAgICAvLyB3aW5kb3cub25yZXNpemUgPSB0aGlzLnNldFdpbmRvdztcclxuXHJcbiAgICAgICAgLy8gcmVuZGVyaW5nXHJcbiAgICAgICAgdGhpcy5yID0gbmV3IFJlbmRlcmVyMihjYW52YXMsIHRoaXMpOyAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVE9ETyA6IGJ1aWxkXHJcbiAgICAgICAgLy8gdGhpcy53ZWJnbCA9IG5ldyBSZW5kZXJlcjModGhpcy5jYW52YXMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIHRpbWVcclxuICAgICAgICB0aGlzLnRpY2sgPSAwO1xyXG4gICAgICAgIHRoaXMub2xkVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5uZXdUaW1lID0gdGhpcy5vbGRUaW1lO1xyXG5cclxuICAgICAgICAvLyBtb3VzZVxyXG4gICAgICAgIGNhbnZhcy5vbm1vdXNlbW92ZSA9IHRoaXMuc2V0TW91c2VQb3MuYmluZCh0aGlzKTtcclxuICAgICAgICBjYW52YXMub25tb3VzZWRvd24gPSB0aGlzLnNldE1vdXNlRG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNhbnZhcy5vbm1vdXNldXAgPSB0aGlzLnNldE1vdXNlVXAuYmluZCh0aGlzKTtcclxuICAgICAgICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKGUpIHsgXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBrZXlib2FyZFxyXG4gICAgICAgIGNhbnZhcy5vbmtleWRvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGNhbnZhcy5vbmtleXByZXNzID0gdGhpcy5vbktleVByZXNzZWQuYmluZCh0aGlzKTtcclxuICAgICAgICBjYW52YXMub25rZXl1cCA9IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMjIzIDtpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmtleXNEb3duW2ldID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYW52YXMuZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi5cclxuXHJcbiAgICBwdWJsaWMgbG9hZChnYW1lOiBQcm9ncmFtKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucj8ucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBnYW1lO1xyXG4gICAgICAgIGdhbWUuc3RhcnQodGhpcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5sb29waW5nKVxyXG4gICAgICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZE1ldGEocHJvZ3JhbTogUHJvZ3JhbSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1ldGEgPSBwcm9ncmFtO1xyXG4gICAgICAgIHByb2dyYW0uc3RhcnQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIElzS2V5RG93bihrZXk6IHN0cmluZykgOiBib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25ba2V5XTsgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpIDogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXNQcmVzc2VkLmluY2x1ZGVzKGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KVxyXG4gICAgeyBcclxuICAgICAgICBpZiAodGhpcy5rZXlzRG93bltlLmtleV0gPT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUua2V5KTtcclxuICAgICAgICB0aGlzLmtleXNEb3duW2Uua2V5LnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmtleXNQcmVzc2VkLnB1c2goZS5rZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbktleVVwKGU6IEtleWJvYXJkRXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5rZXlzRG93bltlLmtleS50b0xvd2VyQ2FzZSgpXSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbktleVByZXNzZWQoZTogS2V5Ym9hcmRFdmVudClcclxuICAgIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uXHJcblxyXG4gICAgcHJpdmF0ZSBsb29wKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmxvb3BpbmcgPSB0cnVlO1xyXG4gICAgICAgIGxldCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGxldCBtaW5pbXVtVGljayA9IDEwMDAgLyAxNDQ7XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcCh0aGlzOiBHZW9uKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aW1lXHJcbiAgICAgICAgICAgIHRoaXMubmV3VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMudGljayA9ICh0aGlzLm5ld1RpbWUgLSB0aGlzLm9sZFRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLm9sZFRpbWUgPSB0aGlzLm5ld1RpbWU7XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgbW91c2VcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnRQcmVzc2VkID0gICh0aGlzLm1vdXNlTGVmdFByZXYgIT0gdGhpcy5tb3VzZUxlZnREb3duKSAmJiB0aGlzLm1vdXNlTGVmdERvd247XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodFByZXNzZWQgPSAgKHRoaXMubW91c2VSaWdodFByZXYgIT0gdGhpcy5tb3VzZVJpZ2h0RG93bikgJiYgdGhpcy5tb3VzZVJpZ2h0RG93bjtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZVByZXNzZWQgPSAgKHRoaXMubW91c2VNaWRkbGVQcmV2ICE9IHRoaXMubW91c2VNaWRkbGVEb3duKSAmJiB0aGlzLm1vdXNlTWlkZGxlRG93bjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0UHJldiA9IHRoaXMubW91c2VMZWZ0RG93blxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlUmlnaHRQcmV2ID0gdGhpcy5tb3VzZVJpZ2h0RG93blxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlUHJldiA9IHRoaXMubW91c2VNaWRkbGVEb3duXHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPIDogZG9udCB1cGRhdGUgaWYgbm90aGluZyBtb3ZlZCAoPylcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmFtIS51cGRhdGUodGhpcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnI/LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSEuZHJhdyh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBtZXRhcHJvZ3JhbSBhZnRlcndhcmRzXHJcbiAgICAgICAgICAgIHRoaXMubWV0YT8udXBkYXRlKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1ldGE/LmRyYXcodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWZyZXNoIGtleXByZXNzZXNcclxuICAgICAgICAgICAgdGhpcy5rZXlzUHJlc3NlZCA9IFtdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZ2FtZSBsb29wXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TW91c2VQb3MoZTogTW91c2VFdmVudClcclxuICAgIHtcclxuICAgICAgICAvLyB0aGlzIGlzIGEgYml0IG1lc3N5LCBCVVQsIG11bHRpcGx5IGJ5IGNhbWVyYSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBWZWN0b3IyKGUuY2xpZW50WCwgZS5jbGllbnRZKVxyXG4gICAgICAgIHRoaXMud29ybGRNb3VzZSA9IHRoaXMuciEucmV2ZXJ0T2Zmc2V0KHRoaXMubW91c2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TW91c2VVcChlOiBNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5idXR0b25zO1xyXG4gICAgICAgIGlmIChjb2RlIDwgNCkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA8IDIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVJpZ2h0RG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA8IDEpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gZmFsc2U7XHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE1vdXNlRG93bihlOiBNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5idXR0b25zO1xyXG4gICAgICAgIGlmIChjb2RlID49IDQpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZSAtPSA0O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlTWlkZGxlRG93biA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlID49IDIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29kZSAtPSAyO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlUmlnaHREb3duID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUgPj0gMSkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb2RlIC09IDE7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0RG93biA9IHRydWU7XHJcbiAgICAgICAgfSAgXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRXaW5kb3coKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2V0dGluZyB3aW5kb3cuLi5cIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCAgPSB0aGlzLmNhbnZhcy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IG5ldyBWZWN0b3IyKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0gTE9HIFxyXG5cclxuICAgIHByaXZhdGUgaXNMb2dnaW5nID0gdHJ1ZTtcclxuICAgIHB1YmxpYyBsb2cobWVzc2FnZTogYW55KVxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0xvZ2dpbmcpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcExvZ2dpbmcoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaXNMb2dnaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElLZXlzIFxyXG57XHJcbiAgICBba2V5OiBzdHJpbmddIDogYm9vbGVhblxyXG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZ3JhbVxyXG57XHJcbiAgICB0aXRsZSA9IFwiXCI7XHJcbiAgICBkZXNjcmlwdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgc3RhcnQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyAgaW5pdCBnZW9tZXRyeSBcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnlcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZHJhdyBnZW9tZXRyeVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBkZWFsbG9jYXRlID8gY2xlYW4/XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGp1c3QgYSBmbGFnIGZvciBub3dcclxuZXhwb3J0IGNsYXNzIE1ldGFQcm9ncmFtIGV4dGVuZHMgUHJvZ3JhbVxyXG57XHJcblxyXG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IE1ldGFQcm9ncmFtLCBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4uL2dlby9MaW5lbGlrZXNcIjtcclxuXHJcbi8vIG1ldGFwcm9ncmFtXHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0b3JNZXRhUHJvZ3JhbSBleHRlbmRzIE1ldGFQcm9ncmFtXHJcbntcclxuICAgIHByb2dyYW1zOiBhbnlbXTtcclxuICAgIGN1cnJlbnQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgaXNBbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGFuaW1hdGlvbkNvdW50ZXIgPSAxO1xyXG4gICAgY29tZWJhY2sgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9ncmFtczogYW55W10pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW1zID0gcHJvZ3JhbXM7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbXMubGVuZ3RoID09IDApIHRocm93IFwiTmVlZCBhdCBsZWFzdCAxIHByb2dyYW0hXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICB0aGlzLnByb2dyYW1zW3RoaXMuY3VycmVudF1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBsaXN0ZW4gZm9yIGtleXByZXNzZXMgXHJcbiAgICAgICAgLy8gc3R1cGlkIGkga25vdy4gTW9yZSBzcGVjaWZpYyBsaXN0ZW5pbmcgd291bGQgYmUgYmV0dGVyLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTA7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZChpLnRvU3RyaW5nKCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmVTd2FwUHJvZ3JhbShpIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZHJhdyBpbnN0cnVjdGlvbnMgXHJcbiAgICAgICAgaWYgKGdlb24ucHJvZ3JhbSAhPSBudWxsKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdlb24uci50ZXh0KFwiW1wiICsgKHRoaXMuY3VycmVudCArIDEpICsgXCJdIFwiICsgZ2Vvbi5wcm9ncmFtLnRpdGxlLCBuZXcgVmVjdG9yMigxMCwgMjApKTtcclxuICAgICAgICAgICAgZ2Vvbi5yLnRleHQoXCJ0YWIgdXNpbmcgWzFdIC0gW1wiICsgdGhpcy5wcm9ncmFtcy5sZW5ndGggKyBcIl1cIiwgbmV3IFZlY3RvcjIoMTAsIDUwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdlb24uci50ZXh0KFwidXNlIGxlZnQgYW5kIHJpZ2h0IG1vdXNlIGJ1dHRvbiB0byBpbnRlcmFjdFwiLCBuZXcgVmVjdG9yMigxMCwgODApKTtcclxuICAgICAgICBpZiAoZ2Vvbi5wcm9ncmFtICE9IG51bGwpIFxyXG4gICAgICAgICAgICBnZW9uLnIudGV4dChnZW9uLnByb2dyYW0uZGVzY3JpcHRpb24sIG5ldyBWZWN0b3IyKDEwLCAxMTApKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB0cmFuc2l0aW9uc1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gMC4wMTU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmltYXRpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Db3VudGVyID4gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdlb24uci5jbGVhckZhZGUoMSAtIHRoaXMuYW5pbWF0aW9uQ291bnRlcik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkNvdW50ZXIgPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21lYmFjaylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ZXIgKz0gc3BlZWQ7XHJcbiAgICAgICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uQ291bnRlciAtPSBzcGVlZDtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICBlbHNlIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ZXIgKz0gMC4wMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tZWJhY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zd2FwUHJvZ3JhbShnZW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlU3dhcFByb2dyYW0obnVtOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKG51bSA8IDAgfHwgbnVtID49IHRoaXMucHJvZ3JhbXMubGVuZ3RoKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gcHJvZ3JhbSBbXCIgKyBudW0udG9TdHJpbmcoKSArIFwiXS5cIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzd2FwcGluZyB0byBwcm9ncmFtIFwiICsgbnVtLnRvU3RyaW5nKCkpOyAgXHJcblxyXG4gICAgICAgIC8vIHByZXBhcmUgZm9yIGFuaW1hdGlvblxyXG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bTtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNvbWViYWNrID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25Db3VudGVyID0gMTtcclxuXHJcbiAgICAgICAgLy8gbG9hZFxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBmYWRlIGluXHJcbiAgICB9XHJcblxyXG4gICAgc3dhcFByb2dyYW0oZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBnZW9uLmxvYWQobmV3IHRoaXMucHJvZ3JhbXNbdGhpcy5jdXJyZW50XSgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJvdW5jZUJhbGxzUHJvZ3JhbSBleHRlbmRzIFByb2dyYW1cclxue1xyXG4gICAgcG9pbnRzOiBWZWN0b3IyW10gPSBbXTtcclxuICAgIHZlY3RvcnM6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICAgIGNvdW50ID0gMTAwO1xyXG4gICAgc3BlZWQgPSAyO1xyXG5cclxuICAgIHRpdGxlID0gJ2JvdW5jZV9iYWxscyc7XHJcbiAgICBkZXNjcmlwdGlvbiA9IFwicHJlc3MgdiB0byB0dXJuIHRyYWlscyBvZmZcIjtcclxuXHJcbiAgICBzdGFydChnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIGdlb24uci5zbG93ZmFkZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSBuZXcgQXJyYXkodGhpcy5jb3VudCk7XHJcbiAgICAgICAgdGhpcy52ZWN0b3JzID0gbmV3IEFycmF5KHRoaXMuY291bnQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuY291bnQ7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gVmVjdG9yMi5mcm9tUmFuZG9tKCkubXVsKGdlb24uYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy52ZWN0b3JzW2ldID0gVmVjdG9yMi5mcm9tUmFuZG9tKCkuc3ViKG5ldyBWZWN0b3IyKDAuNSwgMC41KSkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZWQgYSBidW5jaCBvZiBwb2ludHNcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBvaW50c1tpXTsgXHJcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy52ZWN0b3JzW2ldXHJcblxyXG4gICAgICAgICAgICBpZiAoZ2Vvbi5tb3VzZUxlZnREb3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNydXB0IHRoZSB2ZWN0b3IsIGJhc2VkIG9uIGhvdyBjbG9zZWJ5IHRoZSBtb3VzZSBpc1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpciA9IFZlY3RvcjIuZnJvbTJQdChwLCBnZW9uLm1vdXNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBkaXIubGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICBkaXIubm9ybWFsaXplKCkuc2NhbGUoTWF0aC5taW4oNCwgMTAwIC8gbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICB2LmFkZChkaXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwLmFkZCh2KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsZW5ndGggPSB2Lmxlbmd0aCgpXHJcbiAgICAgICAgICAgIGlmIChsZW5ndGggPiB0aGlzLnNwZWVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2LnNldExlbmd0aChsZW5ndGggKiAwLjk5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYm91bmNlIGF0IGVkZ2VcclxuICAgICAgICAgICAgaWYgKHAueCA8IDAgfHwgcC54ID4gZ2Vvbi5ib3VuZHMueCkgdi54ID0gLXYueDtcclxuICAgICAgICAgICAgaWYgKHAueSA8IDAgfHwgcC55ID4gZ2Vvbi5ib3VuZHMueSkgdi55ID0gLXYueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIG1vdXNlIGlzIG5lYXJieSwgbW92ZSBhd2F5IGZyb20gaXRcclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZVJpZ2h0UHJlc3NlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHMucHVzaChWZWN0b3IyLmZyb21SYW5kb20oKS5tdWwoZ2Vvbi5ib3VuZHMpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVjdG9ycy5wdXNoKFZlY3RvcjIuZnJvbVJhbmRvbSgpLnN1YihuZXcgVmVjdG9yMigwLjUsIDAuNSkpLm5vcm1hbGl6ZSgpKTtcclxuICAgICAgICAgICAgfSAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChnZW9uLklzS2V5UHJlc3NlZCgndicpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0YWJcIik7XHJcbiAgICAgICAgICAgIGdlb24uci5zbG93ZmFkZSA9ICFnZW9uLnIuc2xvd2ZhZGU7IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7IFxyXG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2gocCA9PiBnZW9uLnIucG9pbnQocC54LCBwLnkpKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyBhdCBtb3VzZSBwb3NpdGlvbjtcclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZUxlZnREb3duKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2Vvbi5yLnBvaW50KGdlb24ubW91c2UueCwgZ2Vvbi5tb3VzZS55KTtcclxuICAgICAgICB9ICBcclxuICAgIH1cclxufSIsIi8vIGF1dGhvciA6IEpvcyBGZWVuc3RyYVxyXG4vLyBUT0RPOiBleHRlbmQgZnJvbSBhIGdlbmVyaWMgdHJpYW5ndWxhdGlvbj8gbWlnaHQgYmUgbmljZSB0byBoYXZlXHJcblxyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZWxpa2VzXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVsYXVuYXkgXHJcbntcclxuICAgIHByaXZhdGUgcHRzOiBWZWN0b3IyW107XHJcbiAgICBwcml2YXRlIHRyczogbnVtYmVyW11bXTsgLy8gSSBXQU5UIElOVEVHRVJTIVxyXG5cclxuICAgIHByaXZhdGUgY2M6IFZlY3RvcjJbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wdHMgPSBbXTtcclxuICAgICAgICB0aGlzLnRycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2MgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gaW5pdCBiaWcgYmFzZSB0cmlhbmdsZVxyXG4gICAgICAgIHRoaXMucHRzLnB1c2gobmV3IFZlY3RvcjIoLTEwMDAwLC0xMDAwMCkpO1xyXG4gICAgICAgIHRoaXMucHRzLnB1c2gobmV3IFZlY3RvcjIoMTAwMDAsLTEwMDAwKSk7XHJcbiAgICAgICAgdGhpcy5wdHMucHVzaChuZXcgVmVjdG9yMigwLCAxMDAwMCkpO1xyXG4gICAgICAgIHRoaXMudHJzLnB1c2goWzAsIDEsIDIsIC0xLCAtMSAsIC0xXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uIEdldHRlcnMgXHJcblxyXG4gICAgcHVibGljIGdldFZlcnRpY2VzKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wdHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVkZ2VzKCkgOiBWZWN0b3IyW11cclxuICAgIHtcclxuICAgICAgICBsZXQgZWRnZXM6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IobGV0IHRyIG9mIHRoaXMudHJzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLnB0c1t0clswXV07XHJcbiAgICAgICAgICAgIGxldCBiID0gdGhpcy5wdHNbdHJbMV1dO1xyXG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMucHRzW3RyWzJdXTtcclxuXHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYSk7XHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYik7XHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYSk7XHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYyk7XHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYik7XHJcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWRnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENDKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4ge2NjOiB0aGlzLmNjLCByOiB0aGlzLmNjLm1hcCgoYywgaSkgPT4gYy5kaXNUbyh0aGlzLnB0c1t0aGlzLnRyc1tpXVswXV0pKX07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbGN1bGF0ZUNDKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNjID0gdGhpcy50cnMubWFwKHRyID0+IFxyXG4gICAgICAgICAgICBWZWN0b3IyLmZyb21DaXJjdW1jZW50ZXIodGhpcy5wdHNbdHJbMF1dLCB0aGlzLnB0c1t0clsxXV0sIHRoaXMucHRzW3RyWzJdXSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWb3Jvbm9pRWRnZXMoY2FsY3VsYXRlQ0MgPSBmYWxzZSkgOiBWZWN0b3IyW11cclxuICAgIHtcclxuICAgICAgICBsZXQgZWRnZXM6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoY2FsY3VsYXRlQ0MgfHwgdGhpcy5jYy5sZW5ndGggIT0gdGhpcy50cnMubGVuZ3RoKVxyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUNDKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGVyIG5iIHJlbGF0aW9uIDogaWYgaXRzIG5vdCAtMSA6IGJ1aWxkIGFuIGVkZ2UgYmV0d2VlbiBuYiBjYydzLiBcclxuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMudHJzLmxlbmd0aCA7aSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHRyaWFuZ2xlID0gdGhpcy50cnNbaV07XHJcbiAgICAgICAgICAgIGZvcihsZXQgaWkgPSAzOyBpaSA8IDY7IGlpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBuYiA9IHRyaWFuZ2xlW2lpXTtcclxuICAgICAgICAgICAgICAgIGlmIChuYiA9PSAtMSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBlZGdlcy5wdXNoKHRoaXMuY2NbaV0pO1xyXG4gICAgICAgICAgICAgICAgZWRnZXMucHVzaCh0aGlzLmNjW25iXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyAuLi4gSW50ZXJmYWNlXHJcblxyXG4gICAgcHVibGljIEluc2VydChpbnNlcnRpb246IFZlY3RvcjIpIDogYm9vbGVhblxyXG4gICAge1xyXG4gICAgICAgIC8vIGRvbnQgaW5zZXJ0IGlmIHRvbyBzaW1pbGFyIHRvIGV4aXN0aW5nIFxyXG4gICAgICAgIGlmICh0aGlzLnB0cy5zb21lKHYgPT4gaW5zZXJ0aW9uLnJvdWdobHlFcXVhbHModiwgMC4xKSkpXHJcbiAgICAgICAgICAgIHsgY29uc29sZS5sb2coXCJ0byBjbG9zZSB0byBleGlzdGluZyBwb2ludFwiKTsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG4gICAgICAgIC8vIGFkZCBpdFxyXG4gICAgICAgIGNvbnN0IGluSUQgPSB0aGlzLnB0cy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5wdHMucHVzaChpbnNlcnRpb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGdldCB0cmlhbmdsZSBhbmQgSUQgdmFsdWVzXHJcbiAgICAgICAgY29uc3QgdHJJRCA9IHRoaXMuc2VsZWN0VHJpYW5nbGUoaW5zZXJ0aW9uKTtcclxuICAgICAgICBpZiAodHJJRCA9PSAtMSlcclxuICAgICAgICAgICAgeyBjb25zb2xlLmxvZyhcInRyaWFuZ2xlIHdhbGsgZmFpbGVkXCIpOyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJzW3RySURdOyAgXHJcblxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2FfSUQgPSB0clswXTtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9iX0lEID0gdHJbMV07XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfY19JRCA9IHRyWzJdO1xyXG5cclxuICAgICAgICBjb25zdCBvcmlnaW5hbF9iY0lEID0gdHJbM107XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxfY2FJRCA9IHRyWzRdO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsX2FiSUQgPSB0cls1XTtcclxuXHJcbiAgICAgICAgY29uc3QgYWJJRCA9IHRySUQ7XHJcbiAgICAgICAgY29uc3QgYmNJRCA9IHRoaXMudHJzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBjYUlEID0gdGhpcy50cnMubGVuZ3RoICsgMTtcclxuXHJcbiAgICAgICAgLy8gZWRpdCAxIHRyaWFuZ2xlLCBhZGQgMiBuZXcgb25lcyBcclxuICAgICAgICB0aGlzLnRyc1t0cklEXSA9IFtvcmlnaW5hbF9hX0lELCBvcmlnaW5hbF9iX0lELCBpbklELCBiY0lELCBjYUlELCBvcmlnaW5hbF9hYklEXTsgXHJcbiAgICAgICAgdGhpcy50cnMucHVzaCggICBbb3JpZ2luYWxfYl9JRCwgb3JpZ2luYWxfY19JRCwgaW5JRCwgY2FJRCwgYWJJRCwgb3JpZ2luYWxfYmNJRF0pO1xyXG4gICAgICAgIHRoaXMudHJzLnB1c2goICAgW29yaWdpbmFsX2NfSUQsIG9yaWdpbmFsX2FfSUQsIGluSUQsIGFiSUQsIGJjSUQsIG9yaWdpbmFsX2NhSURdKTtcclxuXHJcbiAgICAgICAgLy8gZml4IHRvcG9sb2d5XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlTmVpZ2hib3Iob3JpZ2luYWxfYmNJRCwgdHJJRCwgYmNJRCk7XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlTmVpZ2hib3Iob3JpZ2luYWxfY2FJRCwgdHJJRCwgY2FJRCk7XHJcbiAgICAgICAgdGhpcy5tYWtlRGVsYXVuYXkoW2FiSUQsIGJjSUQsIGNhSURdLCBpbklEKVxyXG5cclxuICAgICAgICAvLyBzdWNjZXMhXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uIFV0aWxcclxuXHJcbiAgICAvLyBzdG9yZSB0aGUgbGFzdCB0cmlhbmdsZVxyXG4gICAgcHJpdmF0ZSB3YWxrQ3Vyc29yID0gMDtcclxuICAgIHByaXZhdGUgc2VsZWN0VHJpYW5nbGUodGFyZ2V0OiBWZWN0b3IyKSA6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIC8vIHNlbGVjdCBhIHRyaWFuZ2xlIGJhc2VkIG9uIGEgd2Fsa2luZyB0cmlhbmdsZSBhbGdvcml0aG1cclxuICAgICAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBbWzAsMSwyXSwgWzEsMiwwXSwgWzIsMCwxXV0gXHJcbiAgICAgICAgbGV0IHRySUQgPSB0aGlzLndhbGtDdXJzb3I7XHJcbiAgICAgICAgZm9yIChsZXQgXyA9IDA7IF8gPCB0aGlzLnRycy5sZW5ndGg7IF8rKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgY29tYmluYXRpb25zKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJJRCA9PSAtMSkgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNpZ24gPSBWZWN0b3IyLmdldFNpZ24oXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LCBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB0c1t0aGlzLnRyc1t0cklEXVtjWzBdXV0sIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHRzW3RoaXMudHJzW3RySURdW2NbMV1dXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2lnbiA8IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJJRCA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZSh0cklELCB0aGlzLnRyc1t0cklEXVtjWzJdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNbMF0gPT0gMilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbGtDdXJzb3IgPSB0cklEO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cklEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0b28gbWFueSBzdGVwcyBoYXZlIGJlZW4gdGFrZW5cclxuICAgICAgICB0aGlzLndhbGtDdXJzb3IgPSAwO1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1ha2VEZWxhdW5heSh0cklEUzogbnVtYmVyW10sIHBJRDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZmxpcCB1bnRpbCBncmFwaCBpcyBkZWxhdW5heVxyXG4gICAgICAgIHdoaWxlKHRySURTLmxlbmd0aCA+IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgdHJJRCA9IHRySURTLnBvcCgpITtcclxuICAgICAgICAgICAgbGV0IHRyID0gdGhpcy50cnNbdHJJRF07XHJcbiAgICAgICAgICAgIGxldCBuYklEID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKHRySUQsIHBJRCk7XHJcbiAgICAgICAgICAgIGlmIChuYklEID09IC0xKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBxSUQgPSB0aGlzLmdldE5laWdoYm9yUG9pbnQobmJJRCwgdHJJRCk7XHJcbiAgICAgICAgICAgIGxldCBxID0gdGhpcy5wdHNbcUlEXTtcclxuICAgICAgICAgICAgbGV0IGMgPSBWZWN0b3IyLmZyb21DaXJjdW1jZW50ZXIodGhpcy5wdHNbdHJbMF1dLCB0aGlzLnB0c1t0clsxXV0sIHRoaXMucHRzW3RyWzJdXSk7XHJcbiAgICAgICAgICAgIGlmIChjLmVxdWFscyhWZWN0b3IyLk5hTigpKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSBjLmRpc1RvKHRoaXMucHRzW3RyWzBdXSlcclxuICAgICAgICAgICAgaWYgKGMuZGlzVG8ocSkgPCByYWRpdXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIGZsaXAhXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcG9pbnRzIHAsIHEsIHIgYW5kIHNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJJRCA9IHRyWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc0lEID0gdHJbMV07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGZvcmVpZ24gbmVpZ2hib3JzIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZm5iXzEgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUodHJJRCwgcklEKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZuYl8yID0gdGhpcy5nZXROZWlnaGJvclRyaWFuZ2xlKHRySUQsIHNJRCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbmJfMyA9IHRoaXMuZ2V0TmVpZ2hib3JUcmlhbmdsZShuYklELCBySUQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm5iXzQgPSB0aGlzLmdldE5laWdoYm9yVHJpYW5nbGUobmJJRCwgc0lEKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2VOZWlnaGJvcihmbmJfMSwgdHJJRCwgbmJJRCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2VOZWlnaGJvcihmbmJfNCwgbmJJRCwgdHJJRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50cnNbdHJJRF0gPSBbcklELCBxSUQsIHBJRCwgbmJJRCwgZm5iXzIsIGZuYl80XTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJzW25iSURdID0gW3FJRCwgc0lELCBwSUQsIGZuYl8xLCB0cklELCBmbmJfM107XHJcblxyXG4gICAgICAgICAgICAgICAgdHJJRFMucHVzaCh0cklEKTtcclxuICAgICAgICAgICAgICAgIHRySURTLnB1c2gobmJJRCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLi4uIEhlbHBlcnNcclxuXHJcbiAgICBwcml2YXRlIHJlcGxhY2VOZWlnaGJvcih0cklEOiBudW1iZXIsIG5iT2xkOiBudW1iZXIsIG5iTmV3OiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdGhlcmUgYXJlIHByZXR0aWVyIHdheXMsIGJ1dCB0aGlzIGlzIGZhc3RcclxuICAgICAgICBpZiAodHJJRCA9PSAtMSkgcmV0dXJuO1xyXG4gICAgICAgIGlmKCAgICAgIHRoaXMudHJzW3RySURdWzNdID09IG5iT2xkKSAgdGhpcy50cnNbdHJJRF1bM10gPSBuYk5ldztcclxuICAgICAgICBlbHNlIGlmKCB0aGlzLnRyc1t0cklEXVs0XSA9PSBuYk9sZCkgIHRoaXMudHJzW3RySURdWzRdID0gbmJOZXc7XHJcbiAgICAgICAgZWxzZSBpZiggdGhpcy50cnNbdHJJRF1bNV0gPT0gbmJPbGQpICB0aGlzLnRyc1t0cklEXVs1XSA9IG5iTmV3O1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXBsYWNlIG5laWdoYm9yIGZhaWxlZCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROZWlnaGJvclRyaWFuZ2xlKHRyaWFuZ2xlSUQ6IG51bWJlciwgcG9pbnRJRDogbnVtYmVyKSA6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVswXSA9PSBwb2ludElEKSBpbmRleCA9IDM7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzFdID09IHBvaW50SUQpIGluZGV4ID0gNDtcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bMl0gPT0gcG9pbnRJRCkgaW5kZXggPSA1O1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyc1t0cmlhbmdsZUlEXVtpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROZWlnaGJvclBvaW50KHRyaWFuZ2xlSUQ6IG51bWJlciwgbmVpZ2hib3JJRDogbnVtYmVyKSA6IG51bWJlclxyXG4gICAge1xyXG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xyXG4gICAgICAgIGlmICh0aGlzLnRyc1t0cmlhbmdsZUlEXVszXSA9PSBuZWlnaGJvcklEKSBpbmRleCA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMudHJzW3RyaWFuZ2xlSURdWzRdID09IG5laWdoYm9ySUQpIGluZGV4ID0gMTtcclxuICAgICAgICBpZiAodGhpcy50cnNbdHJpYW5nbGVJRF1bNV0gPT0gbmVpZ2hib3JJRCkgaW5kZXggPSAyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyc1t0cmlhbmdsZUlEXVtpbmRleF07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4uL0dlb25cIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmFtSGVscGVyc1xyXG57XHJcbiAgICBzdGF0aWMgZ2V0TW92ZW1lbnRWZWN0b3IoZ2VvbjogR2VvbiwgbWluc3BlZWQ6IG51bWJlciwgbWF4c3BlZWQ6IG51bWJlcikgOiBWZWN0b3IyXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHNwZWVkID0gbWluc3BlZWQ7XHJcbiAgICAgICAgbGV0IHZlbG9jaXR5ID0gIG5ldyBWZWN0b3IyKDAsMCk7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlEb3duKFwic2hpZnRcIikpXHJcbiAgICAgICAgICAgIHNwZWVkID0gbWF4c3BlZWQ7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlEb3duKFwiYXJyb3d1cFwiKSB8fCBnZW9uLklzS2V5RG93bihcIndcIikpXHJcbiAgICAgICAgICAgIHZlbG9jaXR5LmFkZChuZXcgVmVjdG9yMigwLCAxKSk7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlEb3duKFwiYXJyb3dkb3duXCIpIHx8IGdlb24uSXNLZXlEb3duKFwic1wiKSlcclxuICAgICAgICAgICAgdmVsb2NpdHkuYWRkKG5ldyBWZWN0b3IyKDAsIC0xKSk7XHJcbiAgICAgICAgaWYgKGdlb24uSXNLZXlEb3duKFwiYXJyb3dsZWZ0XCIpIHx8IGdlb24uSXNLZXlEb3duKFwiYVwiKSlcclxuICAgICAgICAgICAgdmVsb2NpdHkuYWRkKG5ldyBWZWN0b3IyKDEsIDApKTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleURvd24oXCJhcnJvd3JpZ2h0XCIpIHx8IGdlb24uSXNLZXlEb3duKFwiZFwiKSlcclxuICAgICAgICAgICAgdmVsb2NpdHkuYWRkKCBuZXcgVmVjdG9yMigtMSwgMCkpO1xyXG4gICAgICAgIHJldHVybiB2ZWxvY2l0eS5zZXRMZW5ndGgoc3BlZWQpO1xyXG4gICAgfVxyXG59XHJcbiAgICBcclxuICAgIFxyXG4iLCJpbXBvcnQgeyBHZW9uIH0gZnJvbSBcIi4uL0dlb25cIjtcclxuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gXCIuL1Byb2dyYW1cIjtcclxuXHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC9WZWN0b3IyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi4vZ2VvL0xpbmVsaWtlc1wiO1xyXG5pbXBvcnQgeyBEZWxhdW5heSB9IGZyb20gXCIuLi9nZW8vRGVsYXVuYXlcIjtcclxuaW1wb3J0IHsgUHJvZ3JhbUhlbHBlcnMgfSBmcm9tIFwiLi9Qcm9ncmFtSGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGF1bmF5UHJvZ3JhbSBleHRlbmRzIFByb2dyYW1cclxue1xyXG4gICAgU1dJVENIX0tFWSA9ICd2JztcclxuICAgIHN3aXRjaCA9IDA7XHJcbiAgICBkdDogRGVsYXVuYXkgPSBuZXcgRGVsYXVuYXkoKTtcclxuICAgIHA6IFZlY3RvcjJbXSA9IFtdO1xyXG5cclxuICAgIC8vIG92ZXJyaWRlc1xyXG4gICAgdGl0bGUgPSAnZGVsYXVuYXknO1xyXG4gICAgZGVzY3JpcHRpb24gPSBgdXNlICR7dGhpcy5TV0lUQ0hfS0VZfSB0byBjaGFuZ2UgdmlzdWFsc2A7XHJcblxyXG5cclxuICAgIHN0YXJ0KGdlb246IEdlb24pXHJcbiAgICB7IFxyXG4gICAgICAgIGxldCBwdCA9IG5ldyBWZWN0b3IyKGdlb24ud2lkdGggLyAyLCBnZW9uLmhlaWdodCAvIDIpXHJcbiAgICAgICAgdGhpcy5hZGQocHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChnZW9uLm1vdXNlTGVmdFByZXNzZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgaW5zZXJ0aW9uID0gVmVjdG9yMi5mcm9tQ29weShnZW9uLndvcmxkTW91c2UpOyAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hZGQoaW5zZXJ0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VSaWdodERvd24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnB1bGwoZ2Vvbi53b3JsZE1vdXNlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleVByZXNzZWQodGhpcy5TV0lUQ0hfS0VZKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoICs9IDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN3aXRjaCA+IDIpIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2ggPSAwOyAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbGVycCBkdCBiYWNrIHRvIG9yaWdpbmFsXHJcbiAgICAgICAgdGhpcy5kdC5nZXRWZXJ0aWNlcygpLmZvckVhY2goKGUsIGkpID0+IHtcclxuICAgICAgICAgICAgZS5sZXJwKHRoaXMucFtpXSwgMC4wNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBjYW1lcmFcclxuICAgICAgICBsZXQgdmVsID0gUHJvZ3JhbUhlbHBlcnMuZ2V0TW92ZW1lbnRWZWN0b3IoZ2VvbiwgMiAvIGdlb24uci5zY2FsZSwgNSAvIGdlb24uci5zY2FsZSk7XHJcbiAgICAgICAgZ2Vvbi5yLm9mZnNldC5hZGQodmVsKTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleVByZXNzZWQoJ3EnKSlcclxuICAgICAgICAgICAgZ2Vvbi5yLnNjYWxlICo9IDEuNTtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleVByZXNzZWQoJ2UnKSlcclxuICAgICAgICAgICAgZ2Vvbi5yLnNjYWxlICo9IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZHJhdyBjdXJzb3JcclxuICAgICAgICBnZW9uLnIucG9pbnQoZ2Vvbi5tb3VzZS54LCBnZW9uLm1vdXNlLnkpO1xyXG5cclxuICAgICAgICAvLyBkcmF3IHBvaW50c1xyXG4gICAgICAgIGdlb24uci5wb2ludHModGhpcy5kdC5nZXRWZXJ0aWNlcygpKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3dpdGNoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBkcmF3IGRlbGF1bmF5IHRyaWFuZ3VsYXRpb25cclxuICAgICAgICAgICAgZ2Vvbi5yLmxpbmVTZWdtZW50cyh0aGlzLmR0LmdldEVkZ2VzKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnN3aXRjaCA9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gZHJhdyB2b3Jvbm9pIGRpYWdyYW1cclxuICAgICAgICAgICAgZ2Vvbi5yLmxpbmVTZWdtZW50cyh0aGlzLmR0LmdldFZvcm9ub2lFZGdlcyh0cnVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3dpdGNoID09IDIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2RyYXcgY2lyY3VtY2lyY2xlc1xyXG4gICAgICAgICAgICB0aGlzLmR0LmNhbGN1bGF0ZUNDKCk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5kdC5nZXRDQygpO1xyXG4gICAgICAgICAgICBnZW9uLnIuY2lyY2xlcyhkYXRhLmNjLCBkYXRhLnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAuLi5cclxuXHJcbiAgICBhZGQodjogVmVjdG9yMilcclxuICAgIHtcclxuICAgICAgICAvLyBzaW11bGF0ZSBpbXBhY3RcclxuICAgICAgICB0aGlzLmR0Lkluc2VydCh2KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBvcmlnaW5hbCBwb2ludHNcclxuICAgICAgICB0aGlzLnAgPSB0aGlzLmR0LmdldFZlcnRpY2VzKCkubWFwKGUgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZS5jbG9uZSgpXHJcbiAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgdGhpcy5kaXN0dXJiKHYsIDIwLCA4MDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1bGwodjogVmVjdG9yMilcclxuICAgIHtcclxuICAgICAgICAvLyBkaXNwbGFjZSBkdCBcclxuICAgICAgICAvLyB0aGlzLmR0LmdldFZlcnRpY2VzKCkuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAvLyAgICAgZS5hZGQoVmVjdG9yMi5mcm9tUmFuZG9tQW5nbGUoKS5zY2FsZShNYXRoLm1pbigxMCwgNTAwIC8gZS5kaXNUbyh2KSkpKVxyXG4gICAgICAgIC8vIH0pXHJcblxyXG4gICAgICAgIC8vIGRpc3BsYWNlIGR0IFxyXG4gICAgICAgIGxldCB2ZXJ0aWNlcyA9IHRoaXMuZHQuZ2V0VmVydGljZXMoKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZSA9IHZlcnRpY2VzW2ldO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5wW2ldO1xyXG4gICAgICAgICAgICBsZXQgZGlmZmVyZW5jZSA9IFZlY3RvcjIuZnJvbTJQdCh2LCB0YXJnZXQpO1xyXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gZGlmZmVyZW5jZS5sZW5ndGgoKTtcclxuICAgICAgICAgICAgaWYgKGxlbmd0aCA8IDUpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBlLmFkZChkaWZmZXJlbmNlLm5vcm1hbGl6ZSgpLnNjYWxlKE1hdGgubWluKDEsIDUwMCAvIGxlbmd0aCkpKVxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgZGlzdHVyYih2OiBWZWN0b3IyLCBzdHJlbmd0aDogbnVtYmVyLCByYW5nZTogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGRpc3BsYWNlIGR0IFxyXG4gICAgICAgIHRoaXMuZHQuZ2V0VmVydGljZXMoKS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgICBlLmFkZChWZWN0b3IyLmZyb21SYW5kb21BbmdsZSgpLnNjYWxlKE1hdGgubWluKHN0cmVuZ3RoLCByYW5nZSAvIGUuZGlzVG8odikpKSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiLy8gYXV0aG9yIDogSm9zIEZlZW5zdHJhXHJcblxyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpbmVsaWtlXHJcbntcclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXHJcbiAgICB7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5lIGV4dGVuZHMgTGluZWxpa2Vcclxue1xyXG4gICAgZnJvbTogVmVjdG9yMjtcclxuICAgIHRvOiBWZWN0b3IyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMilcclxuICAgIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy50byA9IHRvO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXHJcbiAgICB7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmZyb20ueCwgdGhpcy5mcm9tLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8odGhpcy50by54LCB0aGlzLnRvLnkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUG9seWxpbmUgZXh0ZW5kcyBMaW5lbGlrZVxyXG57XHJcbiAgICB2ZXJ0czogVmVjdG9yMltdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZlcnRzOiBWZWN0b3IyW10pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnZlcnRzID0gdmVydHM7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy52ZXJ0cy5sZW5ndGggPCAyKSByZXR1cm47XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnZlcnRzWzBdLngsIHRoaXMudmVydHNbMF0ueSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDEgOyBpIDwgdGhpcy52ZXJ0cy5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy52ZXJ0c1tpXS54LCB0aGlzLnZlcnRzW2ldLnkpO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFyYyBleHRlbmRzIExpbmVsaWtlXHJcbntcclxuICAgIGZyb206IFZlY3RvcjI7XHJcbiAgICB2aWE6IFZlY3RvcjI7XHJcbiAgICB0bzogVmVjdG9yMjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoZnJvbTogVmVjdG9yMiwgdmlhOiBWZWN0b3IyLCB0bzogVmVjdG9yMilcclxuICAgIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XHJcbiAgICAgICAgdGhpcy52aWEgPSB2aWE7XHJcbiAgICAgICAgdGhpcy50byA9IHRvO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXHJcbiAgICB7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmZyb20ueCwgdGhpcy5mcm9tLnkpO1xyXG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHRoaXMudmlhLngsIHRoaXMudmlhLnksIHRoaXMudG8ueCwgdGhpcy50by55KTsgICBcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi4vR2VvblwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5cclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL1ZlY3RvcjJcIjtcclxuaW1wb3J0IHsgQXJjLCBMaW5lLCBMaW5lbGlrZSB9IGZyb20gXCIuLi9nZW8vTGluZWxpa2VzXCI7XHJcbmltcG9ydCB7IERlbGF1bmF5IH0gZnJvbSBcIi4uL2dlby9EZWxhdW5heVwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtSGVscGVycyB9IGZyb20gXCIuL1Byb2dyYW1IZWxwZXJzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZFByb2dyYW0gZXh0ZW5kcyBQcm9ncmFtXHJcbntcclxuICAgIHRpdGxlID0gXCJncmlkXCI7XHJcbiAgICBkZXNjcmlwdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgLy8gcGFyYW1zXHJcbiAgICBwdWJsaWMgY291bnQgPSAyNTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBoaWdobGlnaHQgPSBWZWN0b3IyLnplcm8oKTtcclxuICAgIHByaXZhdGUgcG9pbnRzOiBWZWN0b3IyW10gPSBbXTtcclxuICAgIHByaXZhdGUgY29sb3JzUmVkOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb2xvcnNCbHVlOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB4Q291bnQgPSAwO1xyXG4gICAgcHJpdmF0ZSB5Q291bnQgPSAwO1xyXG4gICAgcHJpdmF0ZSBkID0gMDtcclxuXHJcbiAgICBzdGFydChnZW9uOiBHZW9uKVxyXG4gICAgeyBcclxuICAgICAgICB0aGlzLmNyZWF0ZShnZW9uLCB0aGlzLmNvdW50LCB0aGlzLmNvbG9yc1JlZCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGUoZ2VvbiwgdGhpcy5jb3VudCwgdGhpcy5jb2xvcnNCbHVlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXJzb3IoZ2Vvbik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNYXplKGdlb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICAvLyBwb2ludHNcclxuICAgICAgICBjb25zdCBjb2xvcjEgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICBjb25zdCBjb2xvcjIgPSBcIiMyMjIyMjJcIjtcclxuICAgICAgICBjb25zdCBjb2xvcjMgPSBcIiNhYWFhYWFcIjtcclxuICAgICAgIFxyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICBsZXQgdiA9IHRoaXMucG9pbnRzW2ldO1xyXG4gICAgICAgIC8vICAgICBpZiAoIXRoaXMuY29sb3JzUmVkW2ldKSBcclxuICAgICAgICAvLyAgICAgICAgIGdlb24uci5wb2ludENvbG9yZWQodi54LCB2LnksIGNvbG9yMik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyByZWQgbGluZXMgXHJcbiAgICAgICAgbGV0IGxpbmVzID0gdGhpcy5nZXRMaW5lcyhnZW9uLCB0aGlzLmNvbG9yc1JlZCk7XHJcbiAgICAgICAgZ2Vvbi5yLnNldExpbmVTZXR0aW5ncygxNSwgXCIjNDQwMDAwXCIpOyBcclxuICAgICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4gZ2Vvbi5yLmxpbmUobGluZSkpO1xyXG4gICAgICAgIGdlb24uci5zZXRMaW5lU2V0dGluZ3MoNCwgXCIjZmYwMDAwXCIpO1xyXG4gICAgICAgIGxpbmVzLmZvckVhY2gobGluZSA9PiBnZW9uLnIubGluZShsaW5lKSk7XHJcbiAgICAgICAgZ2Vvbi5yLnNldExpbmVTZXR0aW5ncygyLCBcIiNmZjY2NjZcIik7XHJcbiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IGdlb24uci5saW5lKGxpbmUpKTtcclxuXHJcbiAgICAgICAgLy8gYmx1ZSBsaW5lcyBcclxuICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMoZ2VvbiwgdGhpcy5jb2xvcnNCbHVlKTtcclxuICAgICAgICBnZW9uLnIuc2V0TGluZVNldHRpbmdzKDE1LCBcIiMwMDAwOTlcIik7IFxyXG4gICAgICAgIGxpbmVzLmZvckVhY2gobGluZSA9PiBnZW9uLnIubGluZShsaW5lKSk7XHJcbiAgICAgICAgZ2Vvbi5yLnNldExpbmVTZXR0aW5ncyg3LCBcIiMwMDAwZmZcIik7IFxyXG4gICAgICAgIGxpbmVzLmZvckVhY2gobGluZSA9PiBnZW9uLnIubGluZShsaW5lKSk7XHJcbiAgICAgICAgZ2Vvbi5yLnNldExpbmVTZXR0aW5ncygzLCBcIiM1NTU1ZmZcIik7XHJcbiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IGdlb24uci5saW5lKGxpbmUpKTtcclxuXHJcbiAgICAgICAgLy8gY3Vyc29yIFxyXG4gICAgICAgIGdlb24uci5zZXRDb2xvcihcIiNmZmZmZmZcIik7XHJcbiAgICAgICAgZ2Vvbi5yLnNldENvbG9yKGNvbG9yMSk7XHJcbiAgICAgICAgZ2Vvbi5yLmNpcmNsZSh0aGlzLmhpZ2hsaWdodCwgMTApO1xyXG4gICAgICAgIGdlb24uci5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4aXQoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvLyAtXHJcblxyXG4gICAgY3JlYXRlKGdlb246IEdlb24sIGNvdW50OiBudW1iZXIsIGdyaWQ6IG51bWJlcltdLCByYW5kb206IGJvb2xlYW4pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZm9yIGdvb2Qgc3BhY2luZ1xyXG4gICAgICAgIHRoaXMueUNvdW50ID0gY291bnQ7XHJcbiAgICAgICAgdGhpcy5kID0gZ2Vvbi5oZWlnaHQgLyAodGhpcy55Q291bnQgKyAxKTtcclxuICAgICAgICB0aGlzLnhDb3VudCA9IE1hdGgucm91bmQoZ2Vvbi53aWR0aCAvIHRoaXMuZCkgLSAxO1xyXG5cclxuICAgICAgICBmb3IobGV0IHkgPSAwOyB5IDwgdGhpcy55Q291bnQ7IHkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgeCA9IDA7IHggPCB0aGlzLnhDb3VudDsgeCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmFuZG9tKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2gobmV3IFZlY3RvcjIodGhpcy5kICsgeCAqIHRoaXMuZCwgdGhpcy5kICsgeSAqIHRoaXMuZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQucHVzaChNYXRoLnJhbmRvbSgpID4gMC41ID8gMSA6IDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQucHVzaCgwKTsgLy8gZmlsbCB6ZXJvXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbGRMb2NhbCA9IFZlY3RvcjIuemVybygpO1xyXG4gICAgcHJpdmF0ZSBfdGhpbmcgPSAwO1xyXG4gICAgdXBkYXRlQ3Vyc29yKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy50b0xvY2FsQ29vcmQoZ2Vvbi5tb3VzZSk7XHJcbiAgICAgICAgdGhpcy5oaWdobGlnaHQgPSB0aGlzLnRvR3JpZChsb2NhbCk7XHJcbiAgICAgICAgbGV0IGkgPSAobG9jYWwueS0xKSAqICh0aGlzLnhDb3VudCkgKyAobG9jYWwueC0xKTtcclxuXHJcbiAgICAgICAgLy8gLy8gc2ltcGxpZmllZFxyXG4gICAgICAgIC8vIGxldCBsZWZ0U3dhdGNoID0gMTtcclxuICAgICAgICAvLyBsZXQgcmlnaHRTd2F0Y2ggPSAwO1xyXG5cclxuICAgICAgICAvLyBpZiAoZ2Vvbi5tb3VzZUxlZnREb3duKVxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5jb2xvcnNSZWRbaV0gPSAxO1xyXG4gICAgICAgIC8vIH0gXHJcbiAgICAgICAgLy8gaWYgKGdlb24ubW91c2VSaWdodERvd24pXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmNvbG9yc1JlZFtpXSA9IDA7XHJcbiAgICAgICAgLy8gfSBcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGxvY2FsLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiArPSB0aGlzLnlDb3VudCArIFwiLi5cIiArIHRoaXMueENvdW50O1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gKz0gXCIgfCBcIiArIGkudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VMZWZ0UHJlc3NlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3JzUmVkW2ldID0gdGhpcy5jb2xvcnNSZWRbaV0gPiAwID8gMCA6IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX3RoaW5nID0gdGhpcy5jb2xvcnNSZWRbaV07IFxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VMZWZ0RG93biAmJiAhdGhpcy5vbGRMb2NhbC5lcXVhbHMobG9jYWwpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xvcnNSZWRbaV0gPSB0aGlzLl90aGluZzsgICAgXHJcbiAgICAgICAgfSBcclxuICAgICAgICBpZiAoZ2Vvbi5tb3VzZVJpZ2h0UHJlc3NlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3JzQmx1ZVtpXSA9IHRoaXMuY29sb3JzQmx1ZVtpXSA+IDAgPyAwIDogMTtcclxuICAgICAgICAgICAgdGhpcy5fdGhpbmcgPSB0aGlzLmNvbG9yc0JsdWVbaV07IFxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgaWYgKGdlb24ubW91c2VSaWdodERvd24gJiYgIXRoaXMub2xkTG9jYWwuZXF1YWxzKGxvY2FsKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3JzQmx1ZVtpXSA9IHRoaXMuX3RoaW5nOyAgICBcclxuICAgICAgICB9ICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vbGRMb2NhbCA9IGxvY2FsO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZU1hemUoZ2VvbjogR2VvbilcclxuICAgIHtcclxuICAgICAgICBpZiAoZ2Vvbi5Jc0tleVByZXNzZWQoJ20nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9Mb2NhbENvb3JkKHdvcmxkQ29vcmQ6IFZlY3RvcjIpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHggPSBNYXRoLnJvdW5kKHdvcmxkQ29vcmQueCAvIHRoaXMuZCk7XHJcbiAgICAgICAgbGV0IHkgPSBNYXRoLnJvdW5kKHdvcmxkQ29vcmQueSAvIHRoaXMuZCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgseSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9HcmlkKGxvY2FsQ29vcmQ6IFZlY3RvcjIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKGxvY2FsQ29vcmQueCAqIHRoaXMuZCwgbG9jYWxDb29yZC55ICogdGhpcy5kKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGdldExpbmVzKGdlb246IEdlb24sIGdyaWQ6IG51bWJlcltdKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBsaW5lczogTGluZWxpa2VbXSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgeSA9IDA7IHkgPCB0aGlzLnlDb3VudCArIDE7IHkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgeCA9IDA7IHggPCB0aGlzLnhDb3VudCArIDE7IHgrKylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvcm5lciA9IHRoaXMudG9HcmlkKG5ldyBWZWN0b3IyKHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb2xvcih4LCB5LCBncmlkKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENvbG9yKHgrMSwgeSwgZ3JpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDb2xvcih4LCB5KzEsIGdyaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q29sb3IoeCsxLCB5KzEsIGdyaWQpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFJvdW5kQ2VsbChnZW9uLCBjb3JuZXIsIHN0YXRlLCBsaW5lcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIF9oYWxmZCA9IHRoaXMuZCAvIDI7XHJcbiAgICBkcmF3Q2VsbChnZW9uOiBHZW9uLCBjb3JuZXI6IFZlY3RvcjIsIGNhc3VzOiBudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5faGFsZmQgPSB0aGlzLmQgLyAyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0b3AgPSBuZXcgVmVjdG9yMih0aGlzLl9oYWxmZCwgMCkuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IGxlZnQgPSBuZXcgVmVjdG9yMigwLCB0aGlzLl9oYWxmZCkuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gbmV3IFZlY3RvcjIodGhpcy5kLCB0aGlzLl9oYWxmZCkuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IG5ldyBWZWN0b3IyKHRoaXMuX2hhbGZkLCB0aGlzLmQpLmFkZChjb3JuZXIpO1xyXG4gICAgICBcclxuICAgICAgICBzd2l0Y2goY2FzdXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgdG9wLCBsZWZ0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgdG9wLCByaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lKGdlb24sIGxlZnQsIHJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgbGVmdCwgYm90dG9tKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgdG9wLCBib3R0b20pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZShnZW9uLCB0b3AsIGxlZnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lKGdlb24sIGJvdHRvbSwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZShnZW9uLCBib3R0b20sIHJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgYm90dG9tLCByaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lKGdlb24sIHRvcCwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaW5lKGdlb24sIGxlZnQsIGJvdHRvbSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZShnZW9uLCB0b3AsIGJvdHRvbSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZShnZW9uLCBsZWZ0LCBib3R0b20pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgbGVmdCwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmUoZ2VvbiwgdG9wLCByaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGluZShnZW9uLCB0b3AsIGxlZnQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgICAgICAvLyBmdWxseSBmaWxsZWRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXROZW9uQ2VsbChnZW9uMjogR2VvbiwgY29ybmVyOiBWZWN0b3IyLCBjYXN1czogbnVtYmVyLCBsaW5lczogTGluZWxpa2VbXSlcclxuICAgIHtcclxuICAgICAgICAvLyBzaG9ydGhhbmQgc3R1ZmZcclxuICAgICAgICBsZXQgZDEgPSB0aGlzLmQgKiAwLjQwO1xyXG4gICAgICAgIGxldCBkMiA9IHRoaXMuZCAqIDAuNTA7XHJcbiAgICAgICAgbGV0IGQzID0gdGhpcy5kICogMC42MDtcclxuICAgICAgICBsZXQgZDQgPSB0aGlzLmQ7XHJcblxyXG4gICAgICAgIGxldCB0b3AxID0gbmV3IFZlY3RvcjIoZDEsIDApLmFkZChjb3JuZXIpO1xyXG4gICAgICAgIGxldCB0b3AyID0gbmV3IFZlY3RvcjIoZDMsIDApLmFkZChjb3JuZXIpO1xyXG4gICAgICAgIGxldCBsZWZ0MSA9IG5ldyBWZWN0b3IyKDAsIGQxKS5hZGQoY29ybmVyKTtcclxuICAgICAgICBsZXQgbGVmdDIgPSBuZXcgVmVjdG9yMigwLCBkMykuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IHJpZ2h0MSA9IG5ldyBWZWN0b3IyKGQ0LCBkMSkuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IHJpZ2h0MiA9IG5ldyBWZWN0b3IyKGQ0LCBkMykuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IGJvdHRvbTEgPSBuZXcgVmVjdG9yMihkMSwgZDQpLmFkZChjb3JuZXIpO1xyXG4gICAgICAgIGxldCBib3R0b20yID0gbmV3IFZlY3RvcjIoZDMsIGQ0KS5hZGQoY29ybmVyKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY2VudGVyID0gbmV3IFZlY3RvcjIoZDIsIGQyKS5hZGQoY29ybmVyKTtcclxuXHJcbiAgICAgICAgc3dpdGNoKGNhc3VzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AxLCBsZWZ0MSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCBsZWZ0MikpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKHRvcDIsIHJpZ2h0MSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUobGVmdDEsIHJpZ2h0MSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShsZWZ0MiwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShsZWZ0MiwgYm90dG9tMSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShsZWZ0MSwgYm90dG9tMikpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgYm90dG9tMSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCBib3R0b20yKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AxLCBsZWZ0MSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCBsZWZ0MikpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShib3R0b20xLCByaWdodDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUoYm90dG9tMiwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShib3R0b20xLCByaWdodDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUoYm90dG9tMiwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShib3R0b20xLCByaWdodDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUoYm90dG9tMiwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCByaWdodDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKGxlZnQyLCBib3R0b20xKSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKGxlZnQxLCBib3R0b20yKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgYm90dG9tMSkpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCBib3R0b20yKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUobGVmdDIsIGJvdHRvbTEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUobGVmdDEsIGJvdHRvbTIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShsZWZ0MSwgcmlnaHQxKSk7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKGxlZnQyLCByaWdodDIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZSh0b3AyLCByaWdodDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgcmlnaHQyKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMSwgbGVmdDEpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wMiwgbGVmdDIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgLy8gZnVsbHkgZmlsbGVkXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um91bmRDZWxsKGdlb24yOiBHZW9uLCBjb3JuZXI6IFZlY3RvcjIsIGNhc3VzOiBudW1iZXIsIGxpbmVzOiBMaW5lbGlrZVtdKVxyXG4gICAge1xyXG4gICAgICAgIC8vIHNob3J0aGFuZCBzdHVmZlxyXG4gICAgICAgIGxldCBkMiA9IHRoaXMuZCAqIDAuNTA7XHJcbiAgICAgICAgbGV0IGQ0ID0gdGhpcy5kO1xyXG5cclxuICAgICAgICBsZXQgdG9wID0gbmV3IFZlY3RvcjIoZDIsIDApLmFkZChjb3JuZXIpO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gbmV3IFZlY3RvcjIoMCwgZDIpLmFkZChjb3JuZXIpO1xyXG4gICAgICAgIGxldCByaWdodCA9IG5ldyBWZWN0b3IyKGQ0LCBkMikuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IGJvdCA9IG5ldyBWZWN0b3IyKGQyLCBkNCkuYWRkKGNvcm5lcik7XHJcbiAgICAgICAgbGV0IG1pZCA9IG5ldyBWZWN0b3IyKGQyLCBkMikuYWRkKGNvcm5lcik7XHJcblxyXG4gICAgICAgIHN3aXRjaChjYXN1cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IEFyYyh0b3AsIG1pZCwgbGVmdCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IEFyYyh0b3AsIG1pZCwgcmlnaHQpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBBcmMobGVmdCwgbWlkLCByaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IEFyYyhsZWZ0LCBtaWQsIGJvdCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IExpbmUodG9wLCBib3QpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5lcy5wdXNoKG5ldyBBcmModG9wLCBtaWQsIGxlZnQpKTtcclxuICAgICAgICAgICAgICAgIC8vIGxpbmVzLnB1c2gobmV3IEFyYyhib3R0b20sIG1pZCwgcmlnaHQpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBBcmMoYm90LCBtaWQsIHJpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgQXJjKGJvdCwgbWlkLCByaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgIC8vIGxpbmVzLnB1c2gobmV3IExpbmUodG9wLCBib3QpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IEFyYyh0b3AsIG1pZCwgcmlnaHQpKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobmV3IEFyYyhsZWZ0LCBtaWQsIGJvdCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKHRvcCwgYm90KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBBcmMobGVmdCwgbWlkLCBib3QpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgTGluZShsZWZ0LCByaWdodCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChuZXcgQXJjKHRvcCwgbWlkLCByaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTQ6XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBBcmModG9wLCBtaWQsIGxlZnQpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgLy8gZnVsbHkgZmlsbGVkXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGluZShnZW9uOiBHZW9uLCBmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMilcclxuICAgIHtcclxuICAgICAgICBnZW9uLnIubGluZShuZXcgTGluZShmcm9tLCB0bykpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKGZpcnN0OiBudW1iZXIsIHNlY29uZDogbnVtYmVyLCB0aGlyZDogbnVtYmVyLCBmb3J0aDogbnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmaXJzdCAqIDEgKyBzZWNvbmQgKiAyICsgdGhpcmQgKiA0ICsgZm9ydGggKiA4OyBcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb2xvcih4OiBudW1iZXIsIHk6bnVtYmVyLCBncmlkOiBudW1iZXJbXSlcclxuICAgIHtcclxuICAgICAgICBpZiAoeCA+IHRoaXMueENvdW50IHx8IHkgPiB0aGlzLnlDb3VudCkgcmV0dXJuIDA7XHJcbiAgICAgICAgbGV0IGkgPSAoeS0xKSAqICh0aGlzLnhDb3VudCkgKyAoeC0xKTtcclxuICAgICAgICBpZiAoaSA8IDAgfHwgaSA+IGdyaWQubGVuZ3RoLTEpIHJldHVybiAwO1xyXG4gICAgICAgIHJldHVybiBncmlkW2ldO1xyXG4gICAgfVxyXG59IiwiLy8gYXV0aG9yIDogSm9zIEZlZW5zdHJhXG4vLyBOT1RFIC0tLSBpIGRvbnQgcmVhbGx5IGxpa2UgdGhpcyBkYXRhIHN0cnVjdHVyZS4gU2VlIGlmIHdlIGNhbiBkbyBzb21ldGhpbmcgc21hcnRlci4gXG4vLyAgICAgIC0tLSBJIHdpbGwgc3RhcnQgd29ya2luZyBvbiBhIEhhbGYgRWRnZSBpbXBsZW1lbnRhdGlvblxuXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVsaWtlc1wiO1xuXG5jb25zdCBJTlZBTElEOiBudW1iZXIgPSAtMTtcblxuZXhwb3J0IGNsYXNzIEdyYXBoXG57XG4gICAgcHJpdmF0ZSBwdHM6IFZlY3RvcjJbXTtcbiAgICBwcml2YXRlIGVkZ2VzOiBudW1iZXJbXVtdO1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wdHMgPSBbXTtcbiAgICAgICAgdGhpcy5lZGdlcyA9IFtdO1xuICAgIH1cblxuICAgIC8vIC0tLSBIQU5ETEUgREFUQVxuXG4gICAgcHVibGljIGFkZFBvaW50KHBvaW50OiBWZWN0b3IyKSA6IG51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wdHMubGVuZ3RoXG4gICAgICAgIHRoaXMucHRzLnB1c2gocG9pbnQpO1xuICAgICAgICB0aGlzLmVkZ2VzW2luZGV4XSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5wdHMubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlUG9pbnQocG9pbnRJbmRleDogbnVtYmVyKSA6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIC8vIHJlbW92ZSBmb3JlaWduIGFkcmVzc3Nlc1xuICAgICAgICBpZiAoIXRoaXMucmVtb3ZlRWRnZXNGcm9tKHBvaW50SW5kZXgpKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gcHJvcGVybHkgZGVsZXRlIGZvcmVpZ24gZWRnZXMhXCIpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBteSBsaXN0IChJIGhvcGUgZGVsZXRlIGRvZXMgd2hhdCBpIHRoaW5rIGl0IGRvZXMpXG4gICAgICAgIGRlbGV0ZSB0aGlzLmVkZ2VzW3BvaW50SW5kZXhdO1xuICAgICAgICB0aGlzLnB0cy5zcGxpY2UocG9pbnRJbmRleCwgdW5kZWZpbmVkKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRFZGdlKGZyb206IG51bWJlciwgdG86IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8vIGFzc2VydGlvbnNcbiAgICAgICAgaWYgKGZyb20gPT0gdG8pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIFxuICAgICAgICAvLyBldmVyeSBlZGdlIGlzIHN0b3JlZCBkb3VibGVcbiAgICAgICAgdGhpcy5hZGRPbmVFZGdlKGZyb20sIHRvKTtcbiAgICAgICAgdGhpcy5hZGRPbmVFZGdlKHRvLCBmcm9tKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRWRnZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIDogYm9vbGVhblxuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBlZGdlLCBib3RoIHdheXNcbiAgICAgICAgdGhpcy5yZW1vdmVPbmVFZGdlKGZyb20sIHRvKTtcbiAgICAgICAgdGhpcy5yZW1vdmVPbmVFZGdlKHRvLCBmcm9tKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRPbmVFZGdlKGZyb206IG51bWJlciwgdG86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmVkZ2VzW2Zyb21dID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLmVkZ2VzW2Zyb21dID0gW107XG4gICAgICAgIHRoaXMuZWRnZXNbZnJvbV0ucHVzaCh0byk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVPbmVFZGdlKGZyb206IG51bWJlciwgdG86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuZWRnZXNbZnJvbV0uaW5kZXhPZih0byk7XG4gICAgICAgIHRoaXMuZWRnZXNbZnJvbV0uc3BsaWNlKGlkLCAxKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUVkZ2VzRnJvbShwb2ludEluZGV4OiBudW1iZXIpIDogYm9vbGVhblxuICAgIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IG90aGVyIG9mIHRoaXMuZWRnZXNbcG9pbnRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9uZUVkZ2Uob3RoZXIsIHBvaW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBcbiAgICBcbiAgICAvLyAtLS0gVE9ETyA6IFNUQU5EQVJESVpFICYgQ0xFQU5JTkdcblxuICAgIHByaXZhdGUgc2hhbGxvd0NsZWFuKCkgOiBHcmFwaFxuICAgIHtcbiAgICAgICAgLy8gc2hhbGxvdyBjb3B5ICYgY2xlYW5pbmcgcHJvY2VkdXJlXG4gICAgICAgIGxldCBncmFwaCA9IG5ldyBHcmFwaCgpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnB0cy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucHRzW2ldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1BvaW50SW5kZXggPSBncmFwaC5hZGRQb2ludCh0aGlzLnB0c1tpXSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgb3RoZXIgb2YgdGhpcy5lZGdlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3T3RoZXJQb2ludEluZGV4ID0gb3RoZXI7IC8vIFRPRE8gd2hhdCB0byBkbyBoZXJlIGhtbW1tLi4uXG4gICAgICAgICAgICAgICAgICAgIGdyYXBoLmFkZEVkZ2UobmV3UG9pbnRJbmRleCwgbmV3T3RoZXJQb2ludEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgfVxuXG4gICAgLy8gLS0tIEl0ZXJhdG9yc1xuXG4gICAgcHVibGljIEdldFBvaW50cygpIDogVmVjdG9yMltdXG4gICAge1xuICAgICAgICAvLyBpIGRvbnQga25vdyBob3cgdG8gbWFrZSBhIG5pY2UgJ3lpZWxkJyBpdGVyYXRvciBpbiB0eXBlc2NyaXB0LCBzbyB0aGlzIHNob3VsZCBzdWZmaWNlXG4gICAgICAgIHZhciBjbGVhbmVkUG9pbnRzID0gW107IFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHRzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5wdHNbaV0gPT09IHVuZGVmaW5lZCkgY29udGludWU7XG4gICAgICAgICAgICBjbGVhbmVkUG9pbnRzLnB1c2godGhpcy5wdHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhbmVkUG9pbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBHZXRFZGdlcygpIDogTGluZVtdXG4gICAge1xuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnB0cy5sZW5ndGg7IGkrKykgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnB0c1tpXSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGogb2YgdGhpcy5lZGdlc1tpXSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiBqKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKG5ldyBMaW5lKHRoaXMucHRzW2ldLCB0aGlzLnB0c1tqXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG59IiwiaW1wb3J0IHsgR2VvbiB9IGZyb20gXCIuLi9HZW9uXCI7XHJcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcblxyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvVmVjdG9yMlwiO1xyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4uL2dlby9MaW5lbGlrZXNcIjtcclxuaW1wb3J0IHsgRGVsYXVuYXkgfSBmcm9tIFwiLi4vZ2VvL0RlbGF1bmF5XCI7XHJcbmltcG9ydCB7IFByb2dyYW1IZWxwZXJzIH0gZnJvbSBcIi4vUHJvZ3JhbUhlbHBlcnNcIjtcclxuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi4vZ2VvL0dyYXBoXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGVzc2VyYVByb2dyYW0gZXh0ZW5kcyBQcm9ncmFtXHJcbntcclxuICAgIHB1YmxpYyAgdGl0bGUgPSBcIlRlc3NlcmFcIjtcclxuICAgIHB1YmxpYyAgZGVzY3JpcHRpb24gPSBcIlwiO1xyXG4gICAgcHVibGljICBjb3VudCA9IDIwO1xyXG4gICAgcHJpdmF0ZSBncmFwaD86IEdyYXBoO1xyXG5cclxuICAgIHN0YXJ0KGdlb246IEdlb24pXHJcbiAgICB7IFxyXG4gICAgICAgIHRoaXMuZ3JhcGggPSBuZXcgR3JhcGgoKTtcclxuICAgICAgICBsZXQgd2ggPSBuZXcgVmVjdG9yMihnZW9uLndpZHRoLCBnZW9uLmhlaWdodCk7XHJcbiAgICAgICAgbGV0IG4gPSA0O1xyXG5cclxuICAgICAgICAvLyBidWlsZCBhIGJ1bmNoIG9mIHBvaW50cyBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoLmFkZFBvaW50KFZlY3RvcjIuZnJvbVJhbmRvbSgpLm11bCh3aCkpOyAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpbnRlcmxvY2sgYWxsIHBvaW50c1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBqKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gaikgY29udGludWU7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaC5hZGRFZGdlKGksIGopO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdGhpcy51cGRhdGVDdXJzb3IoZ2Vvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhnZW9uOiBHZW9uKVxyXG4gICAge1xyXG4gICAgICAgIGdlb24uci5wb2ludHModGhpcy5ncmFwaCEuR2V0UG9pbnRzKCkpO1xyXG4gICAgICAgIGZvcihsZXQgbGluZSBvZiB0aGlzLmdyYXBoIS5HZXRFZGdlcygpKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdlb24uci5saW5lKGxpbmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBnZW9uLmxvZyhcImtsYWFyXCIpO1xyXG4gICAgICAgIGdlb24uc3RvcExvZ2dpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBleGl0KGdlb246IEdlb24pXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIEhFTFBFUlNcclxufSIsImltcG9ydCB7IEdlb24gfSBmcm9tIFwiLi9HZW9uXCI7XHJcblxyXG5pbXBvcnQgeyBTZWxlY3Rvck1ldGFQcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbXMvU2VsZWN0b3JNZXRhUHJvZ3JhbVwiO1xyXG5cclxuaW1wb3J0IHsgQm91bmNlQmFsbHNQcm9ncmFtIH0gZnJvbSBcIi4vcHJvZ3JhbXMvUHJvZ3JhbTFcIjtcclxuaW1wb3J0IHsgRGVsYXVuYXlQcm9ncmFtIH0gICAgZnJvbSBcIi4vcHJvZ3JhbXMvUHJvZ3JhbTJcIjtcclxuaW1wb3J0IHsgR3JpZFByb2dyYW0gfSAgICAgICAgZnJvbSBcIi4vcHJvZ3JhbXMvUHJvZ3JhbTNcIjtcclxuaW1wb3J0IHsgVGVzc2VyYVByb2dyYW0gfSAgICAgZnJvbSBcIi4vcHJvZ3JhbXMvUHJvZ3JhbTRcIjtcclxuXHJcbmNvbnN0IHByb2dyYW1zOiBhbnlbXSA9IFxyXG5bXHJcbiAgICBCb3VuY2VCYWxsc1Byb2dyYW0sXHJcbiAgICBEZWxhdW5heVByb2dyYW0sXHJcbiAgICBHcmlkUHJvZ3JhbSxcclxuICAgIFRlc3NlcmFQcm9ncmFtLFxyXG5dO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIFxyXG57XHJcbiAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgdXAuLi5cIik7XHJcblxyXG4gICAgY29uc3QgbWV0YSA9IG5ldyBTZWxlY3Rvck1ldGFQcm9ncmFtKHByb2dyYW1zKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpISBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGNvbnN0IGdlb24gPSBuZXcgR2VvbihjYW52YXMsIGZhbHNlKTtcclxuXHJcbiAgICBnZW9uLmxvYWRNZXRhKG1ldGEpOyAgICAgICAgICAgICAvLyBwcm9ncmFtIHNlbGVjdG9yXHJcbiAgICBnZW9uLmxvYWQobmV3IEdyaWRQcm9ncmFtKCkpOyAvLyBmaXJzdCBwcm9ncmFtIHRvIGxvYWQgIFxyXG4gICAgY29uc29sZS5sb2coXCJldmVyeXRoaW5nIGxvYWRlZC5cIik7XHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSBtYWluOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///619\n')})();